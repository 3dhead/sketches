<!doctype html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,shrink-to-fit=0,user-scalable=no,minimum-scale=1,maximum-scale=1"><title>2018.07.21-17.52.16.js</title><style>html{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}body{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:0}canvas{margin:auto;display:block;box-shadow:0 2px 12px -2px rgba(0,0,0,.15)}</style><body><script>!function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}}()({1:[function(t,e,n){var r,i;r=this,i=function(){"use strict";return t.importState=function(e){var n=new t;return n.importState(e),n},t;function t(){return function(t){var e=0,n=0,r=0,i=1;0==t.length&&(t=[+new Date]);var o=function(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)};return e.version="Mash 0.9",e}();e=o(" "),n=o(" "),r=o(" ");for(var s=0;s<t.length;s++)(e-=o(t[s]))<0&&(e+=1),(n-=o(t[s]))<0&&(n+=1),(r-=o(t[s]))<0&&(r+=1);o=null;var a=function(){var t=2091639*e+2.3283064365386963e-10*i;return e=n,n=r,r=t-(i=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.version="Alea 0.9",a.args=t,a.exportState=function(){return[e,n,r,i]},a.importState=function(t){e=+t[0]||0,n=+t[1]||0,r=+t[2]||0,i=+t[3]||0},a}(Array.prototype.slice.call(arguments))}},"object"==typeof n?e.exports=i():"function"==typeof define&&define.amd?define(i):r.Alea=i()},{}],2:[function(t,e,n){var r=t("gl-vec4/transformMat4"),i=t("gl-vec4/set"),o=0,s=1,a=[0,0,0,0];e.exports=function(t,e,n,c){var u=n[0],l=n[1],f=n[2],p=n[3],d=o,h=s;i(a,e[0],e[1],e[2],1),r(a,a,c);var m=a[3];0!==m&&(a[0]=a[0]/m,a[1]=a[1]/m,a[2]=a[2]/m);return t[0]=u+f/2*a[0]+(0+f/2),t[1]=l+p/2*a[1]+(0+p/2),t[2]=(h-d)/2*a[2]+(h+d)/2,t[3]=0===m?0:1/m,t}},{"gl-vec4/set":133,"gl-vec4/transformMat4":134}],3:[function(t,e,n){(function(r){!function(r,i){"object"==typeof n&&void 0!==e?e.exports=i(t("convert-length")):"function"==typeof define&&define.amd?define(["convert-length"],i):r.canvasSketch=i(null)}(this,function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var o=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var l=0;l<s.length;l++)i.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a},s="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};function a(t,e){return t(e={exports:{}},e.exports),e.exports}var c=s.performance&&s.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},u=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var l=function(t){return!(!t||"object"!=typeof t)&&("object"==typeof window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)};function f(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function p(){for(var t=arguments,e=0;e<arguments.length;e++)if(null!=t[e])return t[e]}function d(){return"undefined"!=typeof document}var h,m=a(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),v=a(function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i}),y=a(function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,c;if(r(t)||r(o))return!1;if(t.prototype!==o.prototype)return!1;if(v(t))return!!v(o)&&(t=e.call(t),o=e.call(o),n(t,o,s));if(i(t)){if(!i(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var u=m(t),l=m(o)}catch(t){return!1}if(u.length!=l.length)return!1;for(u.sort(),l.sort(),a=u.length-1;a>=0;a--)if(u[a]!=l[a])return!1;for(a=u.length-1;a>=0;a--)if(!n(t[c=u[a]],o[c],s))return!1;return typeof t==typeof o}(t,o,s))};function r(t){return null==t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}}),g=a(function(t,e){!function(e){var n,r,i,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,function(t,e,a,c){if(1!==arguments.length||"string"!==(null===(u=t)?"null":void 0===u?"undefined":"object"!=typeof u?typeof u:Array.isArray(u)?"array":{}.toString.call(u).slice(8,-1).toLowerCase())||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var u,l=(e=String(o.masks[e]||e||o.masks.default)).slice(0,4);"UTC:"!==l&&"GMT:"!==l||(e=e.slice(4),a=!0,"GMT:"===l&&(c=!0));var f=a?"getUTC":"get",p=t[f+"Date"](),d=t[f+"Day"](),h=t[f+"Month"](),m=t[f+"FullYear"](),v=t[f+"Hours"](),y=t[f+"Minutes"](),g=t[f+"Seconds"](),b=t[f+"Milliseconds"](),x=a?0:t.getTimezoneOffset(),w=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();return e.setHours(e.getHours()-r),1+Math.floor((e-n)/6048e5)}(t),_=function(t){var e=t.getDay();return 0===e&&(e=7),e}(t),j={d:p,dd:s(p),ddd:o.i18n.dayNames[d],dddd:o.i18n.dayNames[d+7],m:h+1,mm:s(h+1),mmm:o.i18n.monthNames[h],mmmm:o.i18n.monthNames[h+12],yy:String(m).slice(2),yyyy:m,h:v%12||12,hh:s(v%12||12),H:v,HH:s(v),M:y,MM:s(y),s:g,ss:s(g),l:s(b,3),L:s(Math.round(b/10)),t:v<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:v<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:v<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:v<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:c?"GMT":a?"UTC":(String(t).match(r)||[""]).pop().replace(i,""),o:(x>0?"-":"+")+s(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:w,N:_};return e.replace(n,function(t){return t in j?j[t]:t.slice(1,t.length-1)})});function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},t.exports=o}()}),b="",x=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(h!==t||void 0===h)h=t,b="";else if(b.length>=n)return b.substr(0,n);for(;n>b.length&&e>1;)1&e&&(b+=t),e>>=1,t+=t;return b=(b+=t).substr(0,n)};var w,_=function(t,e,n){return t=t.toString(),void 0===e?t:(n=0===n?"0":n?n.toString():" ",x(n,e-t.length)+t)},j=function(){},O={extension:"",prefix:"",suffix:""},M=["image/png","image/jpeg","image/webp"];function T(t,e){return void 0===e&&(e={}),new Promise(function(n,r){e=o({},O,e);var i=E(Object.assign({},e,{frame:void 0})),s=t?"streamStart":"streamEnd",a=f();return a&&a.output&&"function"==typeof a[s]?a[s](o({},e,{filename:i})).then(function(t){return n(t)}):n({filename:i,client:!1})})}function S(t,e){return void 0===e&&(e={}),function(t){return new Promise(function(e){var n=t.indexOf(",");if(-1!==n){for(var r=t.slice(n+1),i=window.atob(r),o=t.slice(0,n),s=/data:([^;]+)/.exec(o),a=(s?s[1]:"")||void 0,c=new ArrayBuffer(i.length),u=new Uint8Array(c),l=0;l<i.length;l++)u[l]=i.charCodeAt(l);e(new window.Blob([c],{type:a}))}else e(new window.Blob)})}(t).then(function(t){return k(t,e)})}function k(t,e){return void 0===e&&(e={}),new Promise(function(n){var r=(e=o({},O,e)).filename,i=f();if(i&&"function"==typeof i.saveBlob&&i.output)return i.saveBlob(t,o({},e,{filename:r})).then(function(t){return n(t)});w||((w=document.createElement("a")).style.visibility="hidden",w.target="_blank"),w.download=r,w.href=window.URL.createObjectURL(t),document.body.appendChild(w),w.onclick=function(){w.onclick=j,setTimeout(function(){window.URL.revokeObjectURL(t),w.parentElement&&w.parentElement.removeChild(w),w.removeAttribute("href"),n({filename:r,client:!1})})},w.click()})}function E(t){if(void 0===t&&(t={}),"function"==typeof(t=o({},t)).file)return t.file(t);if(t.file)return t.file;var e,n=null,r="";("string"==typeof t.extension&&(r=t.extension),"number"==typeof t.frame)&&(e="number"==typeof t.totalFrames?t.totalFrames:Math.max(1e3,t.frame),n=_(String(t.frame),String(e).length,"0"));var i=isFinite(t.totalLayers)&&isFinite(t.layer)&&t.totalLayers>1?""+t.layer:"";return null!=n?[i,n].filter(Boolean).join("-")+r:[t.prefix,t.name||t.timeStamp,i,t.hash,t.suffix].filter(Boolean).join("-")+r}var P={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},A=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],F=function(t){Object.keys(t).forEach(function(t){t in P?console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+P[t]+'"?'):A.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')})};var C=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce(function(t,e){var n={units:e[3]||"mm",dimensions:[e[1],e[2]]};return t[e[0]]=n,t[e[0].replace(/-/g," ")]=n,t},{});function R(e,n,r,i){return void 0===n&&(n="px"),void 0===r&&(r="px"),void 0===i&&(i=72),t(e,n,r,{pixelsPerInch:i,precision:4,roundPixel:!0})}function z(t,e){var n,r,i,o,s,a,c=d(),u=e.dimensions,l=function(t){return!(!t.dimensions||"string"!=typeof t.dimensions&&!(Array.isArray(t.dimensions)&&t.dimensions.length>=2))}(e),f=t.exporting,h=!!l&&!1!==e.scaleToFit,m=!(!f&&l)||e.scaleToView;c||(h=m=!1);var v,y,g=e.units,b="number"==typeof e.pixelsPerInch&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,x=p(e.bleed,0),w=c?window.devicePixelRatio:1,_=m?w:1;"number"==typeof e.pixelRatio&&isFinite(e.pixelRatio)?y=p(e.exportPixelRatio,v=e.pixelRatio):l?(v=_,y=p(e.exportPixelRatio,1)):y=p(e.exportPixelRatio,v=w),"number"==typeof e.maxPixelRatio&&isFinite(e.maxPixelRatio)&&(v=Math.min(e.maxPixelRatio,v)),f&&(v=y);var j,O,M=function(t,e){if(!d())return[300,150];var n=e.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var r=n.getBoundingClientRect();return[r.width,r.height]}(0,e),T=M[0],S=M[1];if(l){var k=function(t,e,n){if(void 0===e&&(e="px"),void 0===n&&(n=72),"string"==typeof t){var r=t.toLowerCase();if(!(r in C))throw new Error('The dimension preset "'+t+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var i=C[r];return i.dimensions.map(function(t){return R(t,i.units,e,n)})}return t}(u,g,b),E=Math.max(k[0],k[1]),P=Math.min(k[0],k[1]);if(e.orientation){var A="landscape"===e.orientation;n=A?E:P,r=A?P:E}else n=k[0],r=k[1];j=n,O=r,n+=2*x,r+=2*x}else j=n=T,O=r=S;var F=n,z=r;if(l&&g&&(F=R(n,g,"px",b),z=R(r,g,"px",b)),i=Math.round(F),o=Math.round(z),h&&!f&&l){var N=n/r,I=T/S,D=p(e.scaleToFitPadding,40),L=Math.round(T-2*D),q=Math.round(S-2*D);(i>L||o>q)&&(I>N?(o=q,i=Math.round(o*N)):(i=L,o=Math.round(i/N)))}return{bleed:x,pixelRatio:v,width:n,height:r,dimensions:[n,r],units:g||"px",scaleX:(s=m?Math.round(v*i):Math.round(v*F))/n,scaleY:(a=m?Math.round(v*o):Math.round(v*z))/r,viewportWidth:m?Math.round(i):Math.round(F),viewportHeight:m?Math.round(o):Math.round(z),canvasWidth:s,canvasHeight:a,trimWidth:j,trimHeight:O,styleWidth:i,styleHeight:o}}var N=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var r,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var s=0;s<o.length;s++)if(r=n.getContext(o[s],i))return r}catch(t){r=null}return r||null};function I(t){var e,n;void 0===t&&(t={});var r=!1;if(!1!==t.canvas){if(!(e=t.context)||"string"==typeof e){var i=t.canvas;i||(i=function(){if(!d())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),r=!0);var s=e||"2d";if("function"!=typeof i.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(e=N(s,o({},t.attributes,{canvas:i}))))throw new Error("Failed at canvas.getContext('"+s+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=e.canvas,t.canvas&&n!==t.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");t.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:e,ownsCanvas:r}}var D=function(){var t=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(t){void 0===t&&(t={});var e=function(e){if(t.enabled()){var n=f();83!==e.keyCode||e.altKey||!e.metaKey&&!e.ctrlKey?32===e.keyCode?t.togglePlay(e):n&&!e.altKey&&75===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.commit(e)):(e.preventDefault(),t.save(e))}};return{attach:function(){window.addEventListener("keydown",e)},detach:function(){window.removeEventListener("keydown",e)}}}({enabled:function(){return!1!==t.settings.hotkeys},save:function(e){e.shiftKey?t.props.recording?(t.endRecord(),t.run()):t.record():t.props.recording||t.exportFrame()},togglePlay:function(){t.props.playing?t.pause():t.play()},commit:function(e){t.exportFrame({commit:!0})}}),this._animateHandler=function(){return t.animate()},this._resizeHandler=function(){t.resize()&&t.render()}},L={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};L.sketch.get=function(){return this._sketch},L.settings.get=function(){return this._settings},L.props.get=function(){return this._props},D.prototype._computePlayhead=function(t,e){return"number"==typeof e&&isFinite(e)?t/e:0},D.prototype._computeFrame=function(t,e,n,r){return isFinite(n)&&n>1?Math.floor(t*(n-1)):Math.floor(r*e)},D.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},D.prototype._getSizeProps=function(){var t=this.props;return{width:t.width,height:t.height,pixelRatio:t.pixelRatio,canvasWidth:t.canvasWidth,canvasHeight:t.canvasHeight,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight}},D.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},D.prototype.play=function(){var t=this.settings.animate;"animation"in this.settings&&(t=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),t&&(d()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,null!=this._raf&&window.cancelAnimationFrame(this._raf),this._lastTime=c(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},D.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,null!=this._raf&&d()&&window.cancelAnimationFrame(this._raf)},D.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},D.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},D.prototype.record=function(){var t=this;if(!this.props.recording)if(d()){this.stop(),this.props.playing=!0,this.props.recording=!0;var e=this._createExportOptions({sequence:!0}),n=1/this.props.fps;null!=this._raf&&window.cancelAnimationFrame(this._raf);var r,i=function(){return t.props.recording?(t.props.deltaTime=n,t.tick(),t.exportFrame(e).then(function(){t.props.recording&&(t.props.deltaTime=0,t.props.frame++,t.props.frame<t.props.totalFrames?(t.props.time+=n,t.props.playhead=t._computePlayhead(t.props.time,t.props.duration),t._raf=window.requestAnimationFrame(i)):(console.log("Finished recording"),t._signalEnd(),t.endRecord(),t.stop(),t.run()))})):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),(r=e,void 0===r&&(r={}),T(!0,r)).catch(function(t){console.error(t)}).then(function(e){t._raf=window.requestAnimationFrame(i)})}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},D.prototype._signalBegin=function(){var t=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale(function(e){return t.sketch.begin(e)})},D.prototype._signalEnd=function(){var t=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale(function(e){return t.sketch.end(e)})},D.prototype.endRecord=function(){var t;null!=this._raf&&d()&&window.cancelAnimationFrame(this._raf),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===t&&(t={}),T(!1,t)).catch(function(t){console.error(t)})},D.prototype._createExportOptions=function(t){return void 0===t&&(t={}),{sequence:t.sequence,save:t.save,fps:this.props.fps,frame:t.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:t.timeStamp||g(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(100,this.props.totalFrames):1e3}},D.prototype.exportFrame=function(t){var e=this;if(void 0===t&&(t={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(t),r=f(),i=Promise.resolve();if(r&&t.commit&&"function"==typeof r.commit){var s=o({},n),a=r.commit(s);i=u(a)?a:Promise.resolve(a)}return i.then(function(t){return e._doExportFrame(o({},n,{hash:t||""}))}).then(function(t){return 1===t.length?t[0]:t})},D.prototype._doExportFrame=function(t){var e=this;void 0===t&&(t={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map(function(e){var n,r="object"==typeof e&&e&&("data"in e||"dataURL"in e),i=r?e.data:e,s=r?o({},e,{data:i}):{data:i};if(l(n=i)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var a=function(t,e){void 0===e&&(e={});var n=e.encoding||"image/png";if(!M.includes(n))throw new Error("Invalid canvas encoding "+n);var r=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return r&&(r=("."+r).toLowerCase()),{extension:r,type:n,dataURL:t.toDataURL(n,e.encodingQuality)}}(i,{encoding:s.encoding||t.encoding,encodingQuality:p(s.encodingQuality,t.encodingQuality,.95)});return Object.assign(s,{dataURL:a.dataURL,extension:a.extension,type:a.type})}return s}),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map(function(e,n,r){var i=o({extension:"",prefix:"",suffix:""},t,e,{layer:n,totalLayers:r.length}),s=!1!==t.save&&e.save;for(var a in i.save=!1!==s,i.filename=E(i),delete i.encoding,delete i.encodingQuality,i)void 0===i[a]&&delete i[a];var c=Promise.resolve({});if(i.save){var u=i.data;if(i.dataURL)c=S(i.dataURL,i);else c=function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t];return k(new window.Blob(n,{type:e.type||""}),e)}(u,i)}return c.then(function(t){return Object.assign({},i,t)})})).then(function(n){var r=n.filter(function(t){return t.save});if(r.length>0){var i,o=r.find(function(t){return t.outputName}),s=r.some(function(t){return t.client}),a=r.some(function(t){return t.stream});i=r.length>1?r.length:o?o.outputName+"/"+r[0].filename:""+r[0].filename;var c="";if(t.sequence)c=isFinite(e.props.totalFrames)?" (frame "+(t.frame+1)+" / "+e.props.totalFrames+")":" (frame "+t.frame+")";else r.length>1&&(c=" files");console.log("%c["+(s?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(a?"Streaming into":"Exported")+" %c"+i+"%c"+c,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof e.sketch.postExport&&e.sketch.postExport(),n})},D.prototype._wrapContextScale=function(t){this._preRender(),t(this.props),this._postRender()},D.prototype._preRender=function(){var t=this.props;this.props.gl||!t.context||t.p5?t.p5&&t.p5.scale(t.scaleX/t.pixelRatio,t.scaleY/t.pixelRatio):(t.context.save(),!1!==this.settings.scaleContext&&t.context.scale(t.scaleX,t.scaleY))},D.prototype._postRender=function(){var t=this.props;this.props.gl||!t.context||t.p5||t.context.restore(),t.gl&&!1!==this.settings.flush&&!t.p5&&t.gl.flush()},D.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},D.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},D.prototype.submitDrawCall=function(){if(this.sketch){var t,e=this.props;return this._preRender(),"function"==typeof this.sketch?t=this.sketch(e):"function"==typeof this.sketch.render&&(t=this.sketch.render(e)),this._postRender(),t}},D.prototype.update=function(t){var e=this;void 0===t&&(t={});var n=["animate"];Object.keys(t).forEach(function(t){if(n.indexOf(t)>=0)throw new Error("Sorry, the { "+t+" } option is not yet supported with update().")});var r=this._settings.canvas,i=this._settings.context;for(var o in t){var s=t[o];void 0!==s&&(e._settings[o]=s)}var a=Object.assign({},this._settings,t);if("time"in t&&"frame"in t)throw new Error("You should specify { time } or { frame } but not both");if("time"in t?delete a.frame:"frame"in t&&delete a.time,"duration"in t&&"totalFrames"in t)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in t?delete a.totalFrames:"totalFrames"in t&&delete a.duration,"data"in t&&(this._props.data=t.data);var c=this.getTimeProps(a);if(Object.assign(this._props,c),r!==this._settings.canvas||i!==this._settings.context){var u=I(this._settings),l=u.context;this.props.canvas=u.canvas,this.props.context=l,this._setupGLKey(),this._appendCanvasIfNeeded()}return t.p5&&"function"!=typeof t.p5&&(this.props.p5=t.p5,this.props.p5.draw=function(){e._isP5Resizing||(e._lastRedrawResult=e.submitDrawCall())}),"playing"in t&&(t.playing?this.play():this.pause()),F(this._settings),this.resize(),this.render(),this.props},D.prototype.resize=function(){var t=this._getSizeProps(),e=this.settings,n=this.props,r=z(n,e);Object.assign(this._props,r);var i=this.props,o=i.pixelRatio,s=i.canvasWidth,a=i.canvasHeight,c=i.styleWidth,u=i.styleHeight,l=this.props.canvas;l&&!1!==e.resizeCanvas&&(n.p5?l.width===s&&l.height===a||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(s/o,a/o,!1),this._isP5Resizing=!1):(l.width!==s&&(l.width=s),l.height!==a&&(l.height=a)),d()&&!1!==e.styleCanvas&&(l.style.width=c+"px",l.style.height=u+"px"));var f=this._getSizeProps(),p=!y(t,f);return p&&this._sizeChanged(),p},D.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},D.prototype.animate=function(){if(this.props.playing)if(d()){this._raf=window.requestAnimationFrame(this._animateHandler);var t=c(),e=1e3/this.props.fps,n=t-this._lastTime,r=this.props.duration,i="number"==typeof r&&isFinite(r),o=!0,s=this.settings.playbackRate;"fixed"===s?n=e:"throttle"===s?n>e?this._lastTime=t-=n%e:o=!1:this._lastTime=t;var a=n/1e3,u=this.props.time+a*this.props.timeScale;u<0&&i&&(u=r+u);var l=!1,f=!1;if(i&&u>=r&&(!1!==this.settings.loop?(o=!0,u%=r,f=!0):(o=!1,u=r,l=!0),this._signalEnd()),o){this.props.deltaTime=a,this.props.time=u,this.props.playhead=this._computePlayhead(u,r);var p=this.props.frame;this.props.frame=this._computeCurrentFrame(),f&&this._signalBegin(),p!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}l&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},D.prototype.dispatch=function(t){if("function"!=typeof t)throw new Error("must pass function into dispatch()");t(this.props),this.render()},D.prototype.mount=function(){this._appendCanvasIfNeeded()},D.prototype.unmount=function(){d()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},D.prototype._appendCanvasIfNeeded=function(){d()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},D.prototype._setupGLKey=function(){var t;this.props.context&&("function"==typeof(t=this.props.context).clear&&"function"==typeof t.clearColor&&"function"==typeof t.bufferData?this._props.gl=this.props.context:delete this._props.gl)},D.prototype.getTimeProps=function(t){void 0===t&&(t={});var e=t.duration,n=t.totalFrames,r=p(t.timeScale,1),i=p(t.fps,24),o="number"==typeof e&&isFinite(e),s="number"==typeof n&&isFinite(n),a=o?Math.floor(i*e):void 0,c=s?n/i:void 0;if(o&&s&&a!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===t.dimensions&&void 0!==t.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=p(n,a,Infinity),e=p(e,c,Infinity);var u=t.time,l=t.frame,f="number"==typeof u&&isFinite(u),d="number"==typeof l&&isFinite(l),h=0,m=0,v=0;if(f&&d)throw new Error("You should specify either start frame or time, but not both.");return f?(v=this._computePlayhead(h=u,e),m=this._computeFrame(v,h,n,i)):d&&(v=this._computePlayhead(h=(m=l)/i,e)),{playhead:v,time:h,frame:m,duration:e,totalFrames:n,fps:i,timeScale:r}},D.prototype.setup=function(t){var e=this;if(void 0===t&&(t={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},t,this._settings),F(this._settings);var n=I(this._settings),r=n.context,i=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:i,context:r,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return e.render()},togglePlay:function(){return e.togglePlay()},dispatch:function(t){return e.dispatch(t)},tick:function(){return e.tick()},resize:function(){return e.resize()},update:function(t){return e.update(t)},exportFrame:function(t){return e.exportFrame(t)},record:function(){return e.record()},play:function(){return e.play()},pause:function(){return e.pause()},stop:function(){return e.stop()}}),this._setupGLKey(),this.resize()},D.prototype.loadAndRun=function(t,e){var n=this;return this.load(t,e).then(function(){return n.run(),n})},D.prototype.unload=function(){var t=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale(function(e){return t.sketch.unload(e)}),this._sketch=null)},D.prototype.destroy=function(){this.unload(),this.unmount()},D.prototype.load=function(t,e){var n=this;if("function"!=typeof t)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==e&&this.update(e),this._preRender();var r=Promise.resolve();if(this.settings.p5){if(!d())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");r=new Promise(function(t){var e,r=n.settings.p5;r.p5&&(e=r.preload,r=r.p5);var i=function(r){e&&(r.preload=function(){return e(r)}),r.setup=function(){var e=n.props,i="webgl"===n.settings.context,o=i?r.WEBGL:r.P2D;r.noLoop(),r.pixelDensity(e.pixelRatio),r.createCanvas(e.viewportWidth,e.viewportHeight,o),i&&n.settings.attributes&&r.setAttributes(n.settings.attributes),n.update({p5:r,canvas:r.canvas,context:r._renderer.drawingContext}),t()}};if("function"==typeof r)new r(i);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");i(window)}})}return r.then(function(){var e=t(n.props);return u(e)||(e=Promise.resolve(e)),e}).then(function(t){return t||(t={}),n._sketch=t,d()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n}).catch(function(t){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+t.message),t})},Object.defineProperties(D.prototype,L);var q="hot-id-cache",H=[];function U(t,e){if(void 0===e&&(e={}),e.p5){if(e.canvas||e.context&&"string"!=typeof e.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');e=Object.assign({},e,{canvas:!1,context:"string"==typeof e.context&&e.context})}var n,r,i=(n=f())&&n.hot;i&&(r=p(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=i&&"string"==typeof r;o&&H.includes(r)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",r),o=!1);var s=Promise.resolve();if(o){H.push(r);var a=function(t){var e=f();if(e)return e[q]=e[q]||{},e[q][t]}(r);if(a){var c=function(){var t,n=(t=a.manager,e.animate?{time:t.props.time}:void 0);return a.manager.destroy(),n};s=a.load.then(c).catch(c)}}return s.then(function(n){var i,s,a,c,u=new D;return t?(e=Object.assign({},e,n),u.setup(e),u.mount(),i=u.loadAndRun(t)):i=Promise.resolve(u),o&&(s=r,a={load:i,manager:u},(c=f())&&(c[q]=c[q]||{},c[q][s]=a)),i})}return U.canvasSketch=U,U.PaperSizes=C,U})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"convert-length":4}],4:[function(t,e,n){var r=t("defined"),i=["mm","cm","m","pc","pt","in","ft","px"],o={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const s={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};e.exports=function(t,e,n,a){if("number"!=typeof t||!isFinite(t))throw new Error("Value must be a finite number");if(!e||!n)throw new Error("Must specify from and to units");var c=r((a=a||{}).pixelsPerInch,96),u=a.precision,l=!1!==a.roundPixel;if(e=e.toLowerCase(),n=n.toLowerCase(),-1===i.indexOf(e))throw new Error('Invalid from unit "'+e+'", must be one of: '+i.join(", "));if(-1===i.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+i.join(", "));if(e===n)return t;var f=1,p=1,d=!1;"px"===e&&(p=1/c,e="in"),"px"===n&&(d=!0,f=c,n="in");var h=o[e],m=o[n],v=t*h.factor*p;h.system!==m.system&&(v*=s[h.system].ratio);var y=v/m.factor*f;return d&&l?y=Math.round(y):"number"==typeof u&&isFinite(u)&&(y=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}(y,u)),y},e.exports.units=i},{defined:6}],5:[function(t,e,n){"use strict";var r=t("type/value/is"),i=t("type/plain-function/is"),o=t("es5-ext/object/assign"),s=t("es5-ext/object/normalize-options"),a=t("es5-ext/string/#/contains");(e.exports=function(t,e){var n,i,c,u,l;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],r(t)?(n=a.call(t,"c"),i=a.call(t,"e"),c=a.call(t,"w")):(n=c=!0,i=!1),l={value:e,configurable:n,enumerable:i,writable:c},u?o(s(u),l):l}).gs=function(t,e,n){var c,u,l,f;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],r(e)?i(e)?r(n)?i(n)||(l=n,n=void 0):n=void 0:(l=e,e=n=void 0):e=void 0,r(t)?(c=a.call(t,"c"),u=a.call(t,"e")):(c=!0,u=!1),f={get:e,set:n,configurable:c,enumerable:u},l?o(s(l),f):f}},{"es5-ext/object/assign":26,"es5-ext/object/normalize-options":38,"es5-ext/string/#/contains":45,"type/plain-function/is":163,"type/value/is":165}],6:[function(t,e,n){e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],7:[function(t,e,n){"use strict";var r=t("../../number/is-nan"),i=t("../../number/to-pos-integer"),o=t("../../object/valid-value"),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;e.exports=function(t){var e,n,l;if(!r(t))return s.apply(this,arguments);for(n=i(o(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?u(l):i(this.length)-u(c(l));e<n;++e)if(a.call(this,e)&&r(this[e]))return e;return-1}},{"../../number/is-nan":20,"../../number/to-pos-integer":24,"../../object/valid-value":41}],8:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Array.from:t("./shim")},{"./is-implemented":9,"./shim":10}],9:[function(t,e,n){"use strict";e.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},{}],10:[function(t,e,n){"use strict";var r=t("es6-symbol").iterator,i=t("../../function/is-arguments"),o=t("../../function/is-function"),s=t("../../number/to-pos-integer"),a=t("../../object/valid-callable"),c=t("../../object/valid-value"),u=t("../../object/is-value"),l=t("../../string/is-string"),f=Array.isArray,p=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(t){var e,n,m,v,y,g,b,x,w,_,j=arguments[1],O=arguments[2];if(t=Object(c(t)),u(j)&&a(j),this&&this!==Array&&o(this))e=this;else{if(!j){if(i(t))return 1!==(y=t.length)?Array.apply(null,t):((v=new Array(1))[0]=t[0],v);if(f(t)){for(v=new Array(y=t.length),n=0;n<y;++n)v[n]=t[n];return v}}v=[]}if(!f(t))if(void 0!==(w=t[r])){for(b=a(w).call(t),e&&(v=new e),x=b.next(),n=0;!x.done;)_=j?p.call(j,O,x.value,n):x.value,e?(d.value=_,h(v,n,d)):v[n]=_,x=b.next(),++n;y=n}else if(l(t)){for(y=t.length,e&&(v=new e),n=0,m=0;n<y;++n)_=t[n],n+1<y&&(g=_.charCodeAt(0))>=55296&&g<=56319&&(_+=t[++n]),_=j?p.call(j,O,_,m):_,e?(d.value=_,h(v,m,d)):v[m]=_,++m;y=m}if(void 0===y)for(y=s(t.length),e&&(v=new e(y)),n=0;n<y;++n)_=j?p.call(j,O,t[n],n):t[n],e?(d.value=_,h(v,n,d)):v[n]=_;return e&&(d.value=null,v.length=y),v}},{"../../function/is-arguments":14,"../../function/is-function":15,"../../number/to-pos-integer":24,"../../object/is-value":32,"../../object/valid-callable":40,"../../object/valid-value":41,"../../string/is-string":48,"es6-symbol":50}],11:[function(t,e,n){"use strict";var r=t("./from"),i=Array.isArray;e.exports=function(t){return i(t)?t:r(t)}},{"./from":8}],12:[function(t,e,n){"use strict";var r=t("../object/assign"),i=t("../object/is-object"),o=t("../object/is-value"),s=Error.captureStackTrace;n=e.exports=function(t){var e=new Error(t),a=arguments[1],c=arguments[2];return o(c)||i(a)&&(c=a,a=null),o(c)&&r(e,c),o(a)&&(e.code=a),s&&s(e,n),e}},{"../object/assign":26,"../object/is-object":31,"../object/is-value":32}],13:[function(t,e,n){"use strict";var r,i,o,s,a,c=t("../number/to-pos-integer"),u=function(t,e){return e};try{Object.defineProperty(u,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}1===u.length?(r={configurable:!0,writable:!1,enumerable:!1},i=Object.defineProperty,e.exports=function(t,e){return e=c(e),t.length===e?t:(r.value=e,i(t,"length",r))}):(s=t("../object/mixin"),a=[],o=function(t){var e,n=0;if(a[t])return a[t];for(e=[];t--;)e.push("a"+(++n).toString(36));return new Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")},e.exports=function(t,e){var n;if(e=c(e),t.length===e)return t;n=o(e)(t);try{s(n,t)}catch(t){}return n})},{"../number/to-pos-integer":24,"../object/mixin":37}],14:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(t){return r.call(t)===i}},{}],15:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(t("./noop"));e.exports=function(t){return"function"==typeof t&&r.call(t)===i}},{"./noop":16}],16:[function(t,e,n){"use strict";e.exports=function(){}},{}],17:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Math.sign:t("./shim")},{"./is-implemented":18,"./shim":19}],18:[function(t,e,n){"use strict";e.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},{}],19:[function(t,e,n){"use strict";e.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},{}],20:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Number.isNaN:t("./shim")},{"./is-implemented":21,"./shim":22}],21:[function(t,e,n){"use strict";e.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){return t!=t}},{}],23:[function(t,e,n){"use strict";var r=t("../math/sign"),i=Math.abs,o=Math.floor;e.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},{"../math/sign":17}],24:[function(t,e,n){"use strict";var r=t("./to-integer"),i=Math.max;e.exports=function(t){return i(0,r(t))}},{"./to-integer":23}],25:[function(t,e,n){"use strict";var r=t("./valid-callable"),i=t("./valid-value"),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(t,e){return function(n,u){var l,f=arguments[2],p=arguments[3];return n=Object(i(n)),r(u),l=a(n),p&&l.sort("function"==typeof p?o.call(p,n):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,function(t,r){return c.call(n,t)?s.call(u,f,n[t],t,n,r):e})}}},{"./valid-callable":40,"./valid-value":41}],26:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":27,"./shim":28}],27:[function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],28:[function(t,e,n){"use strict";var r=t("../keys"),i=t("../valid-value"),o=Math.max;e.exports=function(t,e){var n,s,a,c=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<c;++s)r(e=arguments[s]).forEach(a);if(void 0!==n)throw n;return t}},{"../keys":33,"../valid-value":41}],29:[function(t,e,n){"use strict";e.exports=t("./_iterate")("forEach")},{"./_iterate":25}],30:[function(t,e,n){"use strict";e.exports=function(t){return"function"==typeof t}},{}],31:[function(t,e,n){"use strict";var r=t("./is-value"),i={function:!0,object:!0};e.exports=function(t){return r(t)&&i[typeof t]||!1}},{"./is-value":32}],32:[function(t,e,n){"use strict";var r=t("../function/noop")();e.exports=function(t){return t!==r&&null!==t}},{"../function/noop":16}],33:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":34,"./shim":35}],34:[function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],35:[function(t,e,n){"use strict";var r=t("../is-value"),i=Object.keys;e.exports=function(t){return i(r(t)?Object(t):t)}},{"../is-value":32}],36:[function(t,e,n){"use strict";var r=t("./valid-callable"),i=t("./for-each"),o=Function.prototype.call;e.exports=function(t,e){var n={},s=arguments[2];return r(e),i(t,function(t,r,i,a){n[r]=o.call(e,s,t,r,i,a)}),n}},{"./for-each":29,"./valid-callable":40}],37:[function(t,e,n){"use strict";var r=t("./valid-value"),i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e.exports=function(t,e){var n,c=Object(r(e));if(t=Object(r(t)),s(c).forEach(function(r){try{i(t,r,o(e,r))}catch(t){n=t}}),"function"==typeof a&&a(c).forEach(function(r){try{i(t,r,o(e,r))}catch(t){n=t}}),void 0!==n)throw n;return t}},{"./valid-value":41}],38:[function(t,e,n){"use strict";var r=t("./is-value"),i=Array.prototype.forEach,o=Object.create;e.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},{"./is-value":32}],39:[function(t,e,n){"use strict";var r=Array.prototype.forEach,i=Object.create;e.exports=function(t){var e=i(null);return r.call(arguments,function(t){e[t]=!0}),e}},{}],40:[function(t,e,n){"use strict";e.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},{}],41:[function(t,e,n){"use strict";var r=t("./is-value");e.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},{"./is-value":32}],42:[function(t,e,n){"use strict";var r=t("./valid-value"),i=t("./validate-stringifiable");e.exports=function(t){return i(r(t))}},{"./valid-value":41,"./validate-stringifiable":43}],43:[function(t,e,n){"use strict";var r=t("./is-callable");e.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}},{"./is-callable":30}],44:[function(t,e,n){"use strict";var r=t("./object/is-callable");e.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){return"<Non-coercible to string value>"}}},{"./object/is-callable":30}],45:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":46,"./shim":47}],46:[function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},{}],47:[function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}],48:[function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===i)||!1}},{}],49:[function(t,e,n){"use strict";var r=t("./safe-to-string"),i=/[\n\r\u2028\u2029]/g;e.exports=function(t){var e=r(t);return e.length>100&&(e=e.slice(0,99)+"…"),e=e.replace(i,function(t){return JSON.stringify(t).slice(1,-1)})}},{"./safe-to-string":44}],50:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Symbol:t("./polyfill")},{"./is-implemented":51,"./polyfill":53}],51:[function(t,e,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},{}],52:[function(t,e,n){"use strict";e.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},{}],53:[function(t,e,n){"use strict";var r,i,o,s,a=t("d"),c=t("./validate-symbol"),u=Object.create,l=Object.defineProperties,f=Object.defineProperty,p=Object.prototype,d=u(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),s=!0}catch(t){}}var h,m=(h=u(null),function(t){for(var e,n,r=0;h[t+(r||"")];)++r;return h[t+=r||""]=!0,f(p,e="@@"+t,a.gs(null,function(t){n||(n=!0,f(this,e,a(t)),n=!1)})),e});o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},e.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return s?r(e):(n=u(o.prototype),e=void 0===e?"":String(e),l(n,{__description__:a("",e),__name__:a("",m(e))}))},l(i,{for:a(function(t){return d[t]?d[t]:d[t]=i(String(t))}),keyFor:a(function(t){var e;for(e in c(t),d)if(d[e]===t)return e}),hasInstance:a("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:a("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:a("",r&&r.iterator||i("iterator")),match:a("",r&&r.match||i("match")),replace:a("",r&&r.replace||i("replace")),search:a("",r&&r.search||i("search")),species:a("",r&&r.species||i("species")),split:a("",r&&r.split||i("split")),toPrimitive:a("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:a("",r&&r.toStringTag||i("toStringTag")),unscopables:a("",r&&r.unscopables||i("unscopables"))}),l(o.prototype,{constructor:a(i),toString:a("",function(){return this.__name__})}),l(i.prototype,{toString:a(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:a(function(){return c(this)})}),f(i.prototype,i.toPrimitive,a("",function(){var t=c(this);return"symbol"==typeof t?t:t.toString()})),f(i.prototype,i.toStringTag,a("c","Symbol")),f(o.prototype,i.toStringTag,a("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,a("c",i.prototype[i.toPrimitive]))},{"./validate-symbol":54,d:5}],54:[function(t,e,n){"use strict";var r=t("./is-symbol");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},{"./is-symbol":52}],55:[function(t,e,n){"use strict";var r,i,o,s,a,c,u,l=t("d"),f=t("es5-ext/object/valid-callable"),p=Function.prototype.apply,d=Function.prototype.call,h=Object.create,m=Object.defineProperty,v=Object.defineProperties,y=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};i=function(t,e){var n,i;return f(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},a={on:r=function(t,e){var n;return f(e),y.call(this,"__ee__")?n=this.__ee__:(n=g.value=h(null),m(this,"__ee__",g),g.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i,off:o=function(t,e){var n,r,i,o;if(f(e),!y.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(o=0;i=r[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:s=function(t){var e,n,r,i,o;if(y.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)p.call(r,this,o)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];p.call(i,this,o)}}},c={on:l(r),once:l(i),off:l(o),emit:l(s)},u=v({},c),e.exports=n=function(t){return null==t?h(u):v(Object(t),c)},n.methods=a},{d:5,"es5-ext/object/valid-callable":40}],56:[function(t,e,n){var r=t("gl-vec3/normalize"),i=t("gl-vec3/subtract"),o=t("gl-vec3/cross"),s=[0,0,0];e.exports=function(t,e,n,a){return i(t,e,n),i(s,n,a),o(t,t,s),r(t,t)}},{"gl-vec3/cross":93,"gl-vec3/normalize":115,"gl-vec3/subtract":129}],57:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=e[9],p=e[10],d=e[11],h=e[12],m=e[13],v=e[14],y=e[15];return t[0]=a*(p*y-d*v)-f*(c*y-u*v)+m*(c*d-u*p),t[1]=-(r*(p*y-d*v)-f*(i*y-o*v)+m*(i*d-o*p)),t[2]=r*(c*y-u*v)-a*(i*y-o*v)+m*(i*u-o*c),t[3]=-(r*(c*d-u*p)-a*(i*d-o*p)+f*(i*u-o*c)),t[4]=-(s*(p*y-d*v)-l*(c*y-u*v)+h*(c*d-u*p)),t[5]=n*(p*y-d*v)-l*(i*y-o*v)+h*(i*d-o*p),t[6]=-(n*(c*y-u*v)-s*(i*y-o*v)+h*(i*u-o*c)),t[7]=n*(c*d-u*p)-s*(i*d-o*p)+l*(i*u-o*c),t[8]=s*(f*y-d*m)-l*(a*y-u*m)+h*(a*d-u*f),t[9]=-(n*(f*y-d*m)-l*(r*y-o*m)+h*(r*d-o*f)),t[10]=n*(a*y-u*m)-s*(r*y-o*m)+h*(r*u-o*a),t[11]=-(n*(a*d-u*f)-s*(r*d-o*f)+l*(r*u-o*a)),t[12]=-(s*(f*v-p*m)-l*(a*v-c*m)+h*(a*p-c*f)),t[13]=n*(f*v-p*m)-l*(r*v-i*m)+h*(r*p-i*f),t[14]=-(n*(a*v-c*m)-s*(r*v-i*m)+h*(r*c-i*a)),t[15]=n*(a*p-c*f)-s*(r*p-i*f)+l*(r*c-i*a),t}},{}],58:[function(t,e,n){e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],59:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],60:[function(t,e,n){e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],61:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],u=t[8],l=t[9],f=t[10],p=t[11],d=t[12],h=t[13],m=t[14],v=t[15];return(e*s-n*o)*(f*v-p*m)-(e*a-r*o)*(l*v-p*h)+(e*c-i*o)*(l*m-f*h)+(n*a-r*s)*(u*v-p*d)-(n*c-i*s)*(u*m-f*d)+(r*c-i*a)*(u*h-l*d)}},{}],62:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,c=i+i,u=n*s,l=r*s,f=r*a,p=i*s,d=i*a,h=i*c,m=o*s,v=o*a,y=o*c;return t[0]=1-f-h,t[1]=l+y,t[2]=p-v,t[3]=0,t[4]=l-y,t[5]=1-u-h,t[6]=d+m,t[7]=0,t[8]=p+v,t[9]=d-m,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],63:[function(t,e,n){e.exports=function(t,e,n){var r,i,o,s=n[0],a=n[1],c=n[2],u=Math.sqrt(s*s+a*a+c*c);if(Math.abs(u)<1e-6)return null;return s*=u=1/u,a*=u,c*=u,r=Math.sin(e),i=Math.cos(e),t[0]=s*s*(o=1-i)+i,t[1]=a*s*o+c*r,t[2]=c*s*o-a*r,t[3]=0,t[4]=s*a*o-c*r,t[5]=a*a*o+i,t[6]=c*a*o+s*r,t[7]=0,t[8]=s*c*o+a*r,t[9]=a*c*o-s*r,t[10]=c*c*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],64:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=r+r,c=i+i,u=o+o,l=r*a,f=r*c,p=r*u,d=i*c,h=i*u,m=o*u,v=s*a,y=s*c,g=s*u;return t[0]=1-(d+m),t[1]=f+g,t[2]=p-y,t[3]=0,t[4]=f-g,t[5]=1-(l+m),t[6]=h+v,t[7]=0,t[8]=p+y,t[9]=h-v,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},{}],65:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],66:[function(t,e,n){e.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},{}],67:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],68:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],69:[function(t,e,n){e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],70:[function(t,e,n){e.exports=function(t,e,n,r,i,o,s){var a=1/(n-e),c=1/(i-r),u=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*c,t[10]=(s+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*u,t[15]=0,t}},{}],71:[function(t,e,n){e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],72:[function(t,e,n){e.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotation:t("./fromRotation"),fromRotationTranslation:t("./fromRotationTranslation"),fromScaling:t("./fromScaling"),fromTranslation:t("./fromTranslation"),fromXRotation:t("./fromXRotation"),fromYRotation:t("./fromYRotation"),fromZRotation:t("./fromZRotation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),perspectiveFromFieldOfView:t("./perspectiveFromFieldOfView"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":57,"./clone":58,"./copy":59,"./create":60,"./determinant":61,"./fromQuat":62,"./fromRotation":63,"./fromRotationTranslation":64,"./fromScaling":65,"./fromTranslation":66,"./fromXRotation":67,"./fromYRotation":68,"./fromZRotation":69,"./frustum":70,"./identity":71,"./invert":73,"./lookAt":74,"./multiply":75,"./ortho":76,"./perspective":77,"./perspectiveFromFieldOfView":78,"./rotate":79,"./rotateX":80,"./rotateY":81,"./rotateZ":82,"./scale":83,"./str":84,"./translate":85,"./transpose":86}],73:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=e[9],p=e[10],d=e[11],h=e[12],m=e[13],v=e[14],y=e[15],g=n*a-r*s,b=n*c-i*s,x=n*u-o*s,w=r*c-i*a,_=r*u-o*a,j=i*u-o*c,O=l*m-f*h,M=l*v-p*h,T=l*y-d*h,S=f*v-p*m,k=f*y-d*m,E=p*y-d*v,P=g*E-b*k+x*S+w*T-_*M+j*O;if(!P)return null;return t[0]=(a*E-c*k+u*S)*(P=1/P),t[1]=(i*k-r*E-o*S)*P,t[2]=(m*j-v*_+y*w)*P,t[3]=(p*_-f*j-d*w)*P,t[4]=(c*T-s*E-u*M)*P,t[5]=(n*E-i*T+o*M)*P,t[6]=(v*x-h*j-y*b)*P,t[7]=(l*j-p*x+d*b)*P,t[8]=(s*k-a*T+u*O)*P,t[9]=(r*T-n*k-o*O)*P,t[10]=(h*_-m*x+y*g)*P,t[11]=(f*x-l*_-d*g)*P,t[12]=(a*M-s*S-c*O)*P,t[13]=(n*S-r*M+i*O)*P,t[14]=(m*b-h*w-v*g)*P,t[15]=(l*w-f*b+p*g)*P,t}},{}],74:[function(t,e,n){var r=t("./identity");e.exports=function(t,e,n,i){var o,s,a,c,u,l,f,p,d,h,m=e[0],v=e[1],y=e[2],g=i[0],b=i[1],x=i[2],w=n[0],_=n[1],j=n[2];if(Math.abs(m-w)<1e-6&&Math.abs(v-_)<1e-6&&Math.abs(y-j)<1e-6)return r(t);f=m-w,p=v-_,d=y-j,h=1/Math.sqrt(f*f+p*p+d*d),o=b*(d*=h)-x*(p*=h),s=x*(f*=h)-g*d,a=g*p-b*f,(h=Math.sqrt(o*o+s*s+a*a))?(o*=h=1/h,s*=h,a*=h):(o=0,s=0,a=0);c=p*a-d*s,u=d*o-f*a,l=f*s-p*o,(h=Math.sqrt(c*c+u*u+l*l))?(c*=h=1/h,u*=h,l*=h):(c=0,u=0,l=0);return t[0]=o,t[1]=c,t[2]=f,t[3]=0,t[4]=s,t[5]=u,t[6]=p,t[7]=0,t[8]=a,t[9]=l,t[10]=d,t[11]=0,t[12]=-(o*m+s*v+a*y),t[13]=-(c*m+u*v+l*y),t[14]=-(f*m+p*v+d*y),t[15]=1,t}},{"./identity":71}],75:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],p=e[9],d=e[10],h=e[11],m=e[12],v=e[13],y=e[14],g=e[15],b=n[0],x=n[1],w=n[2],_=n[3];return t[0]=b*r+x*a+w*f+_*m,t[1]=b*i+x*c+w*p+_*v,t[2]=b*o+x*u+w*d+_*y,t[3]=b*s+x*l+w*h+_*g,t[4]=(b=n[4])*r+(x=n[5])*a+(w=n[6])*f+(_=n[7])*m,t[5]=b*i+x*c+w*p+_*v,t[6]=b*o+x*u+w*d+_*y,t[7]=b*s+x*l+w*h+_*g,t[8]=(b=n[8])*r+(x=n[9])*a+(w=n[10])*f+(_=n[11])*m,t[9]=b*i+x*c+w*p+_*v,t[10]=b*o+x*u+w*d+_*y,t[11]=b*s+x*l+w*h+_*g,t[12]=(b=n[12])*r+(x=n[13])*a+(w=n[14])*f+(_=n[15])*m,t[13]=b*i+x*c+w*p+_*v,t[14]=b*o+x*u+w*d+_*y,t[15]=b*s+x*l+w*h+_*g,t}},{}],76:[function(t,e,n){e.exports=function(t,e,n,r,i,o,s){var a=1/(e-n),c=1/(r-i),u=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*c,t[14]=(s+o)*u,t[15]=1,t}},{}],77:[function(t,e,n){e.exports=function(t,e,n,r,i){var o=1/Math.tan(e/2),s=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*s,t[15]=0,t}},{}],78:[function(t,e,n){e.exports=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+a),u=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-a)*c*.5,t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}},{}],79:[function(t,e,n){e.exports=function(t,e,n,r){var i,o,s,a,c,u,l,f,p,d,h,m,v,y,g,b,x,w,_,j,O,M,T,S,k=r[0],E=r[1],P=r[2],A=Math.sqrt(k*k+E*E+P*P);if(Math.abs(A)<1e-6)return null;k*=A=1/A,E*=A,P*=A,i=Math.sin(n),o=Math.cos(n),c=e[1],u=e[2],l=e[3],p=e[5],d=e[6],h=e[7],v=e[9],y=e[10],g=e[11],_=k*E*(s=1-o)-P*i,j=E*E*s+o,O=P*E*s+k*i,M=k*P*s+E*i,T=E*P*s-k*i,S=P*P*s+o,t[0]=(a=e[0])*(b=k*k*s+o)+(f=e[4])*(x=E*k*s+P*i)+(m=e[8])*(w=P*k*s-E*i),t[1]=c*b+p*x+v*w,t[2]=u*b+d*x+y*w,t[3]=l*b+h*x+g*w,t[4]=a*_+f*j+m*O,t[5]=c*_+p*j+v*O,t[6]=u*_+d*j+y*O,t[7]=l*_+h*j+g*O,t[8]=a*M+f*T+m*S,t[9]=c*M+p*T+v*S,t[10]=u*M+d*T+y*S,t[11]=l*M+h*T+g*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},{}],80:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],l=e[9],f=e[10],p=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+u*r,t[5]=s*i+l*r,t[6]=a*i+f*r,t[7]=c*i+p*r,t[8]=u*i-o*r,t[9]=l*i-s*r,t[10]=f*i-a*r,t[11]=p*i-c*r,t}},{}],81:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],c=e[3],u=e[8],l=e[9],f=e[10],p=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-u*r,t[1]=s*i-l*r,t[2]=a*i-f*r,t[3]=c*i-p*r,t[8]=o*r+u*i,t[9]=s*r+l*i,t[10]=a*r+f*i,t[11]=c*r+p*i,t}},{}],82:[function(t,e,n){e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],p=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+u*r,t[1]=s*i+l*r,t[2]=a*i+f*r,t[3]=c*i+p*r,t[4]=u*i-o*r,t[5]=l*i-s*r,t[6]=f*i-a*r,t[7]=p*i-c*r,t}},{}],83:[function(t,e,n){e.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],84:[function(t,e,n){e.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],85:[function(t,e,n){e.exports=function(t,e,n){var r,i,o,s,a,c,u,l,f,p,d,h,m=n[0],v=n[1],y=n[2];e===t?(t[12]=e[0]*m+e[4]*v+e[8]*y+e[12],t[13]=e[1]*m+e[5]*v+e[9]*y+e[13],t[14]=e[2]*m+e[6]*v+e[10]*y+e[14],t[15]=e[3]*m+e[7]*v+e[11]*y+e[15]):(i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],p=e[9],d=e[10],h=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=u,t[7]=l,t[8]=f,t[9]=p,t[10]=d,t[11]=h,t[12]=r*m+a*v+f*y+e[12],t[13]=i*m+c*v+p*y+e[13],t[14]=o*m+u*v+d*y+e[14],t[15]=s*m+l*v+h*y+e[15]);return t}},{}],86:[function(t,e,n){e.exports=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},{}],87:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},{}],88:[function(t,e,n){e.exports=function(t,e){var n=r(t[0],t[1],t[2]),s=r(e[0],e[1],e[2]);i(n,n),i(s,s);var a=o(n,s);return a>1?0:Math.acos(a)};var r=t("./fromValues"),i=t("./normalize"),o=t("./dot")},{"./dot":98,"./fromValues":104,"./normalize":115}],89:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},{}],90:[function(t,e,n){e.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],91:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],92:[function(t,e,n){e.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},{}],93:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}},{}],94:[function(t,e,n){e.exports=t("./distance")},{"./distance":95}],95:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}},{}],96:[function(t,e,n){e.exports=t("./divide")},{"./divide":97}],97:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},{}],98:[function(t,e,n){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},{}],99:[function(t,e,n){e.exports=1e-6},{}],100:[function(t,e,n){e.exports=function(t,e){var n=t[0],i=t[1],o=t[2],s=e[0],a=e[1],c=e[2];return Math.abs(n-s)<=r*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-c)<=r*Math.max(1,Math.abs(o),Math.abs(c))};var r=t("./epsilon")},{"./epsilon":99}],101:[function(t,e,n){e.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},{}],102:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},{}],103:[function(t,e,n){e.exports=function(t,e,n,i,o,s){var a,c;e||(e=3);n||(n=0);c=i?Math.min(i*e+n,t.length):t.length;for(a=n;a<c;a+=e)r[0]=t[a],r[1]=t[a+1],r[2]=t[a+2],o(r,r,s),t[a]=r[0],t[a+1]=r[1],t[a+2]=r[2];return t};var r=t("./create")()},{"./create":92}],104:[function(t,e,n){e.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},{}],105:[function(t,e,n){e.exports={EPSILON:t("./epsilon"),create:t("./create"),clone:t("./clone"),angle:t("./angle"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),equals:t("./equals"),exactEquals:t("./exactEquals"),add:t("./add"),subtract:t("./subtract"),sub:t("./sub"),multiply:t("./multiply"),mul:t("./mul"),divide:t("./divide"),div:t("./div"),min:t("./min"),max:t("./max"),floor:t("./floor"),ceil:t("./ceil"),round:t("./round"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),dist:t("./dist"),squaredDistance:t("./squaredDistance"),sqrDist:t("./sqrDist"),length:t("./length"),len:t("./len"),squaredLength:t("./squaredLength"),sqrLen:t("./sqrLen"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),cross:t("./cross"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformMat3:t("./transformMat3"),transformQuat:t("./transformQuat"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),forEach:t("./forEach")}},{"./add":87,"./angle":88,"./ceil":89,"./clone":90,"./copy":91,"./create":92,"./cross":93,"./dist":94,"./distance":95,"./div":96,"./divide":97,"./dot":98,"./epsilon":99,"./equals":100,"./exactEquals":101,"./floor":102,"./forEach":103,"./fromValues":104,"./inverse":106,"./len":107,"./length":108,"./lerp":109,"./max":110,"./min":111,"./mul":112,"./multiply":113,"./negate":114,"./normalize":115,"./random":116,"./rotateX":117,"./rotateY":118,"./rotateZ":119,"./round":120,"./scale":121,"./scaleAndAdd":122,"./set":123,"./sqrDist":124,"./sqrLen":125,"./squaredDistance":126,"./squaredLength":127,"./sub":128,"./subtract":129,"./transformMat3":130,"./transformMat4":131,"./transformQuat":132}],106:[function(t,e,n){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},{}],107:[function(t,e,n){e.exports=t("./length")},{"./length":108}],108:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},{}],109:[function(t,e,n){e.exports=function(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}},{}],110:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},{}],111:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},{}],112:[function(t,e,n){e.exports=t("./multiply")},{"./multiply":113}],113:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},{}],114:[function(t,e,n){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},{}],115:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},{}],116:[function(t,e,n){e.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}},{}],117:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[1],o=n[2],s=e[1]-i,a=e[2]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=e[0],t[1]=i+s*u-a*c,t[2]=o+s*c+a*u,t}},{}],118:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[0],o=n[2],s=e[0]-i,a=e[2]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=i+a*c+s*u,t[1]=e[1],t[2]=o+a*u-s*c,t}},{}],119:[function(t,e,n){e.exports=function(t,e,n,r){var i=n[0],o=n[1],s=e[0]-i,a=e[1]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=i+s*u-a*c,t[1]=o+s*c+a*u,t[2]=e[2],t}},{}],120:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},{}],121:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},{}],122:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},{}],123:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},{}],124:[function(t,e,n){e.exports=t("./squaredDistance")},{"./squaredDistance":126}],125:[function(t,e,n){e.exports=t("./squaredLength")},{"./squaredLength":127}],126:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}},{}],127:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},{}],128:[function(t,e,n){e.exports=t("./subtract")},{"./subtract":129}],129:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},{}],130:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}},{}],131:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/(s=s||1),t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}},{}],132:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],u=n[3],l=u*r+a*o-c*i,f=u*i+c*r-s*o,p=u*o+s*i-a*r,d=-s*r-a*i-c*o;return t[0]=l*u+d*-s+f*-c-p*-a,t[1]=f*u+d*-a+p*-s-l*-c,t[2]=p*u+d*-c+l*-a-f*-s,t}},{}],133:[function(t,e,n){e.exports=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}},{}],134:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}},{}],135:[function(t,e,n){e.exports=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}},{}],136:[function(t,e,n){"use strict";var r=t("es5-ext/number/to-pos-integer"),i=Object.create,o=Object.prototype.hasOwnProperty;e.exports=function(t){var e,n=0,s=1,a=i(null),c=i(null),u=0;return t=r(t),{hit:function(r){var i=c[r],l=++u;if(a[l]=r,c[r]=l,!i){if(++n<=t)return;return e(r=a[s]),r}if(delete a[i],s===i)for(;!o.call(a,++s);)continue},delete:e=function(t){var e=c[t];if(e&&(delete a[e],delete c[t],--n,s===e)){if(!n)return u=0,void(s=1);for(;!o.call(a,++s);)continue}},clear:function(){n=0,s=1,a=i(null),c=i(null),u=0}}}},{"es5-ext/number/to-pos-integer":24}],137:[function(t,e,n){"use strict";var r=t("es5-ext/array/from"),i=t("es5-ext/object/map"),o=t("es5-ext/object/mixin"),s=t("es5-ext/function/_define-length"),a=t("next-tick"),c=Array.prototype.slice,u=Function.prototype.apply,l=Object.create;t("../lib/registered-extensions").async=function(t,e){var n,f,p,d=l(null),h=l(null),m=e.memoized,v=e.original;e.memoized=s(function(t){var e=arguments,r=e[e.length-1];return"function"==typeof r&&(n=r,e=c.call(e,0,-1)),m.apply(f=this,p=e)},m);try{o(e.memoized,m)}catch(t){}e.on("get",function(t){var r,i,o;if(n){if(d[t])return"function"==typeof d[t]?d[t]=[d[t],n]:d[t].push(n),void(n=null);r=n,i=f,o=p,n=f=p=null,a(function(){var s;hasOwnProperty.call(h,t)?(s=h[t],e.emit("getasync",t,o,i),u.call(r,s.context,s.args)):(n=r,f=i,p=o,m.apply(i,o))})}}),e.original=function(){var t,i,o,s;return n?(t=r(arguments),i=function t(n){var i,o,c=t.id;if(null!=c){if(delete t.id,i=d[c],delete d[c],i)return o=r(arguments),e.has(c)&&(n?e.delete(c):(h[c]={context:this,args:o},e.emit("setasync",c,"function"==typeof i?1:i.length))),"function"==typeof i?s=u.call(i,this,o):i.forEach(function(t){s=u.call(t,this,o)},this),s}else a(u.bind(t,this,arguments))},o=n,n=f=p=null,t.push(i),s=u.call(v,this,t),i.cb=o,n=i,s):u.call(v,this,arguments)},e.on("set",function(t){n?(d[t]?"function"==typeof d[t]?d[t]=[d[t],n.cb]:d[t].push(n.cb):d[t]=n.cb,delete n.cb,n.id=t,n=null):e.delete(t)}),e.on("delete",function(t){var n;hasOwnProperty.call(d,t)||h[t]&&(n=h[t],delete h[t],e.emit("deleteasync",t,c.call(n.args,1)))}),e.on("clear",function(){var t=h;h=l(null),e.emit("clearasync",i(t,function(t){return c.call(t.args,1)}))})}},{"../lib/registered-extensions":145,"es5-ext/array/from":8,"es5-ext/function/_define-length":13,"es5-ext/object/map":36,"es5-ext/object/mixin":37,"next-tick":155}],138:[function(t,e,n){"use strict";var r=t("es5-ext/object/valid-callable"),i=t("es5-ext/object/for-each"),o=t("../lib/registered-extensions"),s=Function.prototype.apply;o.dispose=function(t,e,n){var a;if(r(t),n.async&&o.async||n.promise&&o.promise)return e.on("deleteasync",a=function(e,n){s.call(t,null,n)}),void e.on("clearasync",function(t){i(t,function(t,e){a(e,t)})});e.on("delete",a=function(e,n){t(n)}),e.on("clear",function(t){i(t,function(t,e){a(e,t)})})}},{"../lib/registered-extensions":145,"es5-ext/object/for-each":29,"es5-ext/object/valid-callable":40}],139:[function(t,e,n){"use strict";var r=t("es5-ext/array/from"),i=t("es5-ext/object/for-each"),o=t("next-tick"),s=t("is-promise"),a=t("timers-ext/valid-timeout"),c=t("../lib/registered-extensions"),u=Function.prototype,l=Math.max,f=Math.min,p=Object.create;c.maxAge=function(t,e,n){var d,h,m,v;(t=a(t))&&(d=p(null),e.on("set"+(h=n.async&&c.async||n.promise&&c.promise?"async":""),function(n){d[n]=setTimeout(function(){e.delete(n)},t),"function"==typeof d[n].unref&&d[n].unref(),v&&(v[n]&&"nextTick"!==v[n]&&clearTimeout(v[n]),v[n]=setTimeout(function(){delete v[n]},m),"function"==typeof v[n].unref&&v[n].unref())}),e.on("delete"+h,function(t){clearTimeout(d[t]),delete d[t],v&&("nextTick"!==v[t]&&clearTimeout(v[t]),delete v[t])}),n.preFetch&&(m=!0===n.preFetch||isNaN(n.preFetch)?.333:l(f(Number(n.preFetch),1),0))&&(v={},m=(1-m)*t,e.on("get"+h,function(t,i,a){v[t]||(v[t]="nextTick",o(function(){var o;"nextTick"===v[t]&&(delete v[t],e.delete(t),n.async&&(i=r(i)).push(u),o=e.memoized.apply(a,i),n.promise&&s(o)&&("function"==typeof o.done?o.done(u,u):o.then(u,u)))}))})),e.on("clear"+h,function(){i(d,function(t){clearTimeout(t)}),d={},v&&(i(v,function(t){"nextTick"!==t&&clearTimeout(t)}),v={})}))}},{"../lib/registered-extensions":145,"es5-ext/array/from":8,"es5-ext/object/for-each":29,"is-promise":135,"next-tick":155,"timers-ext/valid-timeout":160}],140:[function(t,e,n){"use strict";var r=t("es5-ext/number/to-pos-integer"),i=t("lru-queue"),o=t("../lib/registered-extensions");o.max=function(t,e,n){var s,a,c;(t=r(t))&&(a=i(t),e.on("set"+(s=n.async&&o.async||n.promise&&o.promise?"async":""),c=function(t){void 0!==(t=a.hit(t))&&e.delete(t)}),e.on("get"+s,c),e.on("delete"+s,a.delete),e.on("clear"+s,a.clear))}},{"../lib/registered-extensions":145,"es5-ext/number/to-pos-integer":24,"lru-queue":136}],141:[function(t,e,n){"use strict";var r=t("es5-ext/object/map"),i=t("es5-ext/object/primitive-set"),o=t("es5-ext/object/validate-stringifiable-value"),s=t("es5-ext/to-short-string-representation"),a=t("is-promise"),c=t("next-tick"),u=Object.create,l=i("then","then:finally","done","done:finally");t("../lib/registered-extensions").promise=function(t,e){var n=u(null),i=u(null),f=u(null);if(!0===t)t=null;else if(t=o(t),!l[t])throw new TypeError("'"+s(t)+"' is not valid promise mode");e.on("set",function(r,o,s){var u=!1;if(!a(s))return i[r]=s,void e.emit("setasync",r,1);n[r]=1,f[r]=s;var l=function(t){var o=n[r];if(u)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[r],i[r]=t,e.emit("setasync",r,o))},p=function(){u=!0,n[r]&&(delete n[r],delete f[r],e.delete(r))},d=t;if(d||(d="then"),"then"===d){var h=function(){c(p)};"function"==typeof(s=s.then(function(t){c(l.bind(this,t))},h)).finally&&s.finally(h)}else if("done"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");s.done(l,p)}else if("done:finally"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof s.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");s.done(l),s.finally(p)}}),e.on("get",function(t,r,i){var o;if(n[t])++n[t];else{var s=function(){e.emit("getasync",t,r,i)};a(o=f[t])?"function"==typeof o.done?o.done(s):o.then(function(){c(s)}):s()}}),e.on("delete",function(t){if(delete f[t],n[t])delete n[t];else if(hasOwnProperty.call(i,t)){var r=i[t];delete i[t],e.emit("deleteasync",t,[r])}}),e.on("clear",function(){var t=i;i=u(null),n=u(null),f=u(null),e.emit("clearasync",r(t,function(t){return[t]}))})}},{"../lib/registered-extensions":145,"es5-ext/object/map":36,"es5-ext/object/primitive-set":39,"es5-ext/object/validate-stringifiable-value":42,"es5-ext/to-short-string-representation":49,"is-promise":135,"next-tick":155}],142:[function(t,e,n){"use strict";var r=t("d"),i=t("../lib/registered-extensions"),o=Object.create,s=Object.defineProperties;i.refCounter=function(t,e,n){var a,c;a=o(null),e.on("set"+(c=n.async&&i.async||n.promise&&i.promise?"async":""),function(t,e){a[t]=e||1}),e.on("get"+c,function(t){++a[t]}),e.on("delete"+c,function(t){delete a[t]}),e.on("clear"+c,function(){a={}}),s(e.memoized,{deleteRef:r(function(){var t=e.get(arguments);return null===t?null:a[t]?!--a[t]&&(e.delete(t),!0):null}),getRefCount:r(function(){var t=e.get(arguments);return null===t?0:a[t]?a[t]:0})})}},{"../lib/registered-extensions":145,d:5}],143:[function(t,e,n){"use strict";var r=t("es5-ext/object/normalize-options"),i=t("./lib/resolve-length"),o=t("./plain");e.exports=function(e){var n,s=r(arguments[1]);return s.normalizer||0!==(n=s.length=i(s.length,e.length,s.async))&&(s.primitive?!1===n?s.normalizer=t("./normalizers/primitive"):n>1&&(s.normalizer=t("./normalizers/get-primitive-fixed")(n)):s.normalizer=!1===n?t("./normalizers/get")():1===n?t("./normalizers/get-1")():t("./normalizers/get-fixed")(n)),s.async&&t("./ext/async"),s.promise&&t("./ext/promise"),s.dispose&&t("./ext/dispose"),s.maxAge&&t("./ext/max-age"),s.max&&t("./ext/max"),s.refCounter&&t("./ext/ref-counter"),o(e,s)}},{"./ext/async":137,"./ext/dispose":138,"./ext/max":140,"./ext/max-age":139,"./ext/promise":141,"./ext/ref-counter":142,"./lib/resolve-length":146,"./normalizers/get":152,"./normalizers/get-1":149,"./normalizers/get-fixed":150,"./normalizers/get-primitive-fixed":151,"./normalizers/primitive":153,"./plain":154,"es5-ext/object/normalize-options":38}],144:[function(t,e,n){"use strict";var r=t("es5-ext/error/custom"),i=t("es5-ext/function/_define-length"),o=t("d"),s=t("event-emitter").methods,a=t("./resolve-resolve"),c=t("./resolve-normalize"),u=Function.prototype.apply,l=Function.prototype.call,f=Object.create,p=Object.defineProperties,d=s.on,h=s.emit;e.exports=function(t,e,n){var s,m,v,y,g,b,x,w,_,j,O,M,T,S,k,E=f(null);return m=!1!==e?e:isNaN(t.length)?1:t.length,n.normalizer&&(j=c(n.normalizer),v=j.get,y=j.set,g=j.delete,b=j.clear),null!=n.resolvers&&(k=a(n.resolvers)),S=v?i(function(e){var n,i,o=arguments;if(k&&(o=k(o)),null!==(n=v(o))&&hasOwnProperty.call(E,n))return O&&s.emit("get",n,o,this),E[n];if(i=1===o.length?l.call(t,this,o[0]):u.call(t,this,o),null===n){if(null!==(n=v(o)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=y(o)}else if(hasOwnProperty.call(E,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return E[n]=i,M&&s.emit("set",n,null,i),i},m):0===e?function(){var e;if(hasOwnProperty.call(E,"data"))return O&&s.emit("get","data",arguments,this),E.data;if(e=arguments.length?u.call(t,this,arguments):l.call(t,this),hasOwnProperty.call(E,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return E.data=e,M&&s.emit("set","data",null,e),e}:function(e){var n,i,o=arguments;if(k&&(o=k(arguments)),i=String(o[0]),hasOwnProperty.call(E,i))return O&&s.emit("get",i,o,this),E[i];if(n=1===o.length?l.call(t,this,o[0]):u.call(t,this,o),hasOwnProperty.call(E,i))throw r("Circular invocation","CIRCULAR_INVOCATION");return E[i]=n,M&&s.emit("set",i,null,n),n},s={original:t,memoized:S,profileName:n.profileName,get:function(t){return k&&(t=k(t)),v?v(t):String(t[0])},has:function(t){return hasOwnProperty.call(E,t)},delete:function(t){var e;hasOwnProperty.call(E,t)&&(g&&g(t),e=E[t],delete E[t],T&&s.emit("delete",t,e))},clear:function(){var t=E;b&&b(),E=f(null),s.emit("clear",t)},on:function(t,e){return"get"===t?O=!0:"set"===t?M=!0:"delete"===t&&(T=!0),d.call(this,t,e)},emit:h,updateEnv:function(){t=s.original}},x=v?i(function(t){var e,n=arguments;k&&(n=k(n)),null!==(e=v(n))&&s.delete(e)},m):0===e?function(){return s.delete("data")}:function(t){return k&&(t=k(arguments)[0]),s.delete(t)},w=i(function(){var t,n=arguments;return 0===e?E.data:(k&&(n=k(n)),t=v?v(n):String(n[0]),E[t])}),_=i(function(){var t,n=arguments;return 0===e?s.has("data"):(k&&(n=k(n)),null!==(t=v?v(n):String(n[0]))&&s.has(t))}),p(S,{__memoized__:o(!0),delete:o(x),clear:o(s.clear),_get:o(w),_has:o(_)}),s}},{"./resolve-normalize":147,"./resolve-resolve":148,d:5,"es5-ext/error/custom":12,"es5-ext/function/_define-length":13,"event-emitter":55}],145:[function(t,e,n){},{}],146:[function(t,e,n){"use strict";var r=t("es5-ext/number/to-pos-integer");e.exports=function(t,e,n){var i;return isNaN(t)?(i=e)>=0?n&&i?i-1:i:1:!1!==t&&r(t)}},{"es5-ext/number/to-pos-integer":24}],147:[function(t,e,n){"use strict";var r=t("es5-ext/object/valid-callable");e.exports=function(t){var e;return"function"==typeof t?{set:t,get:t}:(e={get:r(t.get)},void 0!==t.set?(e.set=r(t.set),t.delete&&(e.delete=r(t.delete)),t.clear&&(e.clear=r(t.clear)),e):(e.set=e.get,e))}},{"es5-ext/object/valid-callable":40}],148:[function(t,e,n){"use strict";var r,i=t("es5-ext/array/to-array"),o=t("es5-ext/object/is-value"),s=t("es5-ext/object/valid-callable"),a=Array.prototype.slice;r=function(t){return this.map(function(e,n){return e?e(t[n]):t[n]}).concat(a.call(t,this.length))},e.exports=function(t){return(t=i(t)).forEach(function(t){o(t)&&s(t)}),r.bind(t)}},{"es5-ext/array/to-array":11,"es5-ext/object/is-value":32,"es5-ext/object/valid-callable":40}],149:[function(t,e,n){"use strict";var r=t("es5-ext/array/#/e-index-of");e.exports=function(){var t=0,e=[],n=[];return{get:function(t){var i=r.call(e,t[0]);return-1===i?null:n[i]},set:function(r){return e.push(r[0]),n.push(++t),t},delete:function(t){var i=r.call(n,t);-1!==i&&(e.splice(i,1),n.splice(i,1))},clear:function(){e=[],n=[]}}}},{"es5-ext/array/#/e-index-of":7}],150:[function(t,e,n){"use strict";var r=t("es5-ext/array/#/e-index-of"),i=Object.create;e.exports=function(t){var e=0,n=[[],[]],o=i(null);return{get:function(e){for(var i,o=0,s=n;o<t-1;){if(-1===(i=r.call(s[0],e[o])))return null;s=s[1][i],++o}return-1===(i=r.call(s[0],e[o]))?null:s[1][i]||null},set:function(i){for(var s,a=0,c=n;a<t-1;)-1===(s=r.call(c[0],i[a]))&&(s=c[0].push(i[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=r.call(c[0],i[a]))&&(s=c[0].push(i[a])-1),c[1][s]=++e,o[e]=i,e},delete:function(e){for(var i,s=0,a=n,c=[],u=o[e];s<t-1;){if(-1===(i=r.call(a[0],u[s])))return;c.push(a,i),a=a[1][i],++s}if(-1!==(i=r.call(a[0],u[s]))){for(e=a[1][i],a[0].splice(i,1),a[1].splice(i,1);!a[0].length&&c.length;)i=c.pop(),(a=c.pop())[0].splice(i,1),a[1].splice(i,1);delete o[e]}},clear:function(){n=[[],[]],o=i(null)}}}},{"es5-ext/array/#/e-index-of":7}],151:[function(t,e,n){"use strict";e.exports=function(t){return t?function(e){for(var n=String(e[0]),r=0,i=t;--i;)n+=""+e[++r];return n}:function(){return""}}},{}],152:[function(t,e,n){"use strict";var r=t("es5-ext/array/#/e-index-of"),i=Object.create;e.exports=function(){var t=0,e=[],n=i(null);return{get:function(t){var n,i=0,o=e,s=t.length;if(0===s)return o[s]||null;if(o=o[s]){for(;i<s-1;){if(-1===(n=r.call(o[0],t[i])))return null;o=o[1][n],++i}return-1===(n=r.call(o[0],t[i]))?null:o[1][n]||null}return null},set:function(i){var o,s=0,a=e,c=i.length;if(0===c)a[c]=++t;else{for(a[c]||(a[c]=[[],[]]),a=a[c];s<c-1;)-1===(o=r.call(a[0],i[s]))&&(o=a[0].push(i[s])-1,a[1].push([[],[]])),a=a[1][o],++s;-1===(o=r.call(a[0],i[s]))&&(o=a[0].push(i[s])-1),a[1][o]=++t}return n[t]=i,t},delete:function(t){var i,o=0,s=e,a=n[t],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;o<c-1;){if(-1===(i=r.call(s[0],a[o])))return;u.push(s,i),s=s[1][i],++o}if(-1===(i=r.call(s[0],a[o])))return;for(t=s[1][i],s[0].splice(i,1),s[1].splice(i,1);!s[0].length&&u.length;)i=u.pop(),(s=u.pop())[0].splice(i,1),s[1].splice(i,1)}delete n[t]},clear:function(){e=[],n=i(null)}}}},{"es5-ext/array/#/e-index-of":7}],153:[function(t,e,n){"use strict";e.exports=function(t){var e,n,r=t.length;if(!r)return"";for(e=String(t[n=0]);--r;)e+=""+t[++n];return e}},{}],154:[function(t,e,n){"use strict";var r=t("es5-ext/object/valid-callable"),i=t("es5-ext/object/for-each"),o=t("./lib/registered-extensions"),s=t("./lib/configure-map"),a=t("./lib/resolve-length");e.exports=function t(e){var n,c,u;if(r(e),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!n.force?e:(c=a(n.length,e.length,n.async&&o.async),u=s(e,c,n),i(o,function(t,e){n[e]&&t(n[e],u,n)}),t.__profiler__&&t.__profiler__(u),u.updateEnv(),u.memoized)}},{"./lib/configure-map":144,"./lib/registered-extensions":145,"./lib/resolve-length":146,"es5-ext/object/for-each":29,"es5-ext/object/valid-callable":40}],155:[function(t,e,n){(function(t,n){"use strict";var r,i;r=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},i=function(t){var e,n,i=document.createTextNode(""),o=0;return new t(function(){var t;if(e)n&&(e=n.concat(e));else{if(!n)return;e=n}if(n=e,e=null,"function"==typeof n)return t=n,n=null,void t();for(i.data=o=++o%2;n;)t=n.shift(),n.length||(n=null),t()}).observe(i,{characterData:!0}),function(t){r(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,i.data=o=++o%2)}},e.exports=function(){if("object"==typeof t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return i(MutationObserver);if("function"==typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"==typeof n?function(t){n(r(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}).call(this,t("_process"),t("timers").setImmediate)},{_process:156,timers:158}],156:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],f=!1,p=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!f){var t=c(d);f=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],157:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";t.createSpring=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r=r||n;var i=n;return{updateValue:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i=t,e||(n=t,r=t)},isAtDestination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.EPSILON;return Math.abs(n-i)<=t&&Math.abs(n-r)<=t},tick:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o<1)throw new Error("tick() expects `steps` to be greater than 0");if(!Number.isInteger(o))throw new Error("tick() expects `steps` to be an integer");for(var a=n,c=r;o--;){var u=a-c,l=i-a,f=l*t,p=u*-e,d=f+p,h=d+u+a;c=a,a=h}return s&&(r=c,n=a),a}}},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(r.SpringAnimator=r.SpringAnimator||{})},{}],158:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},c=0;function u(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i(function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":156,timers:158}],159:[function(t,e,n){"use strict";e.exports=2147483647},{}],160:[function(t,e,n){"use strict";var r=t("es5-ext/number/to-pos-integer"),i=t("./max-timeout");e.exports=function(t){if((t=r(t))>i)throw new TypeError(t+" exceeds maximum possible timeout");return t}},{"./max-timeout":159,"es5-ext/number/to-pos-integer":24}],161:[function(t,e,n){"use strict";var r=t("../prototype/is");e.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},{"../prototype/is":164}],162:[function(t,e,n){"use strict";var r=t("../value/is"),i={object:!0,function:!0,undefined:!0};e.exports=function(t){return!!r(t)&&hasOwnProperty.call(i,typeof t)}},{"../value/is":165}],163:[function(t,e,n){"use strict";var r=t("../function/is"),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(t){return!!r(t)&&!i.test(o.call(t))}},{"../function/is":161}],164:[function(t,e,n){"use strict";var r=t("../object/is");e.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},{"../object/is":162}],165:[function(t,e,n){"use strict";e.exports=function(t){return null!=t}},{}],166:[function(t,e,n){const r=t("canvas-sketch"),i=t("alea"),o=t("gl-vec3"),s=t("camera-project"),a=t("gl-mat4"),c=t("memoizee"),u=t("get-plane-normal"),{createSpring:l}=t("spring-animator-1"),f=[55,55,55],p=[240,235,248],d=[210,225,248],h=.1,m=.35,v=.001,y={type:"root",parent:null,origin:[-150,-150,0],dir:[0,300,0],drawOffset:0,children:[],spaces:[],drawOffsetSpring:l(h,m,0)},g=window.lines=[y],b=window.spaces=[];let x,w,_,j,O;function M(t){return t.bounds?t.bounds.every(_):A(t.drawOffset,1)}function T(t){let e=0,n=t;for(;n.parent;)e+=1,n=n.parent;return e}function S(t){t.killed||(t.coords=x(t),t.killed=!0,t.spaces.forEach(k),t.children.forEach(S),"subdivider"===t.type&&(t.parent.subdivider=null))}function k(t){t.killed||(t.cornerCoords=w(t),t.killed=!0,t.children.forEach(k),t.bounds.forEach(t=>{t.spaces.every(t=>t.killed)&&S(t)}),t.subdivider&&S(t.subdivider))}function E(t){if(t.coords)return t.coords;if("root"===t.type){const e=o.scaleAndAdd([],t.origin,t.dir,t.drawOffset);return[t.origin.slice(),e]}if("extender"===t.type){const e=x(t.parent.parent),n=x(t.parent),r=e[t.connection],i=o.subtract([],n[t.connection],r);return[r,o.scaleAndAdd([],r,i,t.drawOffset)]}if("extruder"===t.type){const e=x(t.parent);return[o.scaleAndAdd([],e[0],t.dir,t.drawOffset),o.scaleAndAdd([],e[1],t.dir,t.drawOffset)]}if("subdivider"===t.type){const e=w(t.parent);if(0===t.orientation){const n=o.lerp([],e[0],e[3],t.subdivisionOffset),r=o.lerp([],e[1],e[2],t.subdivisionOffset);return o.lerp(r,n,r,t.drawOffset),[n,r]}{const n=o.lerp([],e[0],e[1],t.subdivisionOffset),r=o.lerp([],e[3],e[2],t.subdivisionOffset);return o.lerp(r,n,r,t.drawOffset),[n,r]}}throw new Error(`line type not recognized: ${t.type}`)}function P(t){if(t.cornerCoords)return t.cornerCoords;if(!t.parent){const e=t.bounds.filter(t=>"extruder"===t.type)[0],n=[t.bounds[(t.bounds.indexOf(e)+2)%4],e].map(x);return[n[0][0],n[1][0],n[1][1],n[0][1]]}const e=w(t.parent),n=t.bounds.indexOf(t.parent.subdivider),r=x(t.parent.subdivider),i=e.slice();if(0===n)i[0]=r[0],i[1]=r[1];else if(1===n)i[1]=r[0],i[2]=r[1];else if(2===n)i[2]=r[1],i[3]=r[0];else{if(3!==n)throw new Error("parents subdivider not found in bounds list - something is wrong");i[3]=r[1],i[0]=r[0]}return i}function A(t,e){return Math.abs(t-e)<v}function F(t,e){const n={type:"extender",children:[],connection:0,drawOffset:0,spaces:[],drawOffsetSpring:l(h,m,0)},r={type:"extender",children:[],connection:1,drawOffset:0,spaces:[],drawOffsetSpring:l(h,m,0)},i={type:"extruder",parent:t,children:[n,r],dir:e,drawOffset:0,spaces:[],drawOffsetSpring:l(h,m,0)},o={bounds:[t,n,i,r],children:[],subdivider:null};n.parent=i,r.parent=i,t.children.push(i),i.spaces.push(o),n.spaces.push(o),r.spaces.push(o),t.spaces.push(o),g.push(i,n,r),b.push(o)}function C(t,e,n){const r={type:"subdivider",parent:t,children:[],orientation:e,drawOffset:0,subdivisionOffset:n,spaces:[],drawOffsetSpring:l(h,m,0),subdivisionOffsetSpring:l(h,m,n)};var i=t.bounds.slice(),o=t.bounds.slice();0===e?(i[0]=r,o[2]=r):(i[1]=r,o[3]=r);const s={parent:t,bounds:i,children:[],subdivider:null},a={parent:t,bounds:o,children:[],subdivider:null};i.forEach(t=>{t.spaces.includes(s)||t.spaces.push(s)}),o.forEach(t=>{t.spaces.includes(a)||t.spaces.push(a)}),t.subdivider=r,t.children.push(s,a),r.spaces.push(s,a),g.push(r),b.push(s,a)}r(()=>{O=new i(952),F(y,[300,0,0]);let t=6;for(;t--;){const t=b.filter(t=>null===t.subdivider&&!t.killed);C(t[O()*t.length|0],2*O()|0,.6*O()+.2)}return({context:t,width:e,height:n,frame:r})=>{t.globalCompositeOperation="lighten",t.clearRect(0,0,e,n),t.fillStyle=`rgb(${f.join(", ")})`,t.fillRect(0,0,e,n),x=window.getLineCoords=c(E),w=c(P),_=c(M),j=c(T);const i=[];g.forEach((t,e)=>{O()<1e-4&&e>4&&S(t);const n=null===t.parent||_(t.parent);t.drawOffsetSpring.updateValue(n?1:0),t.drawOffset="extender"!==t.type||t.killed?t.drawOffsetSpring.tick():1,t.killed&&(t.velocity=t.velocity||0,t.velocity+=.5,t.coords.forEach(e=>{e[1]+=t.velocity}),t.velocity>30&&i.push(t)),"subdivider"===t.type&&(O()<.005&&t.subdivisionOffsetSpring.updateValue(.5*O()+.25),t.subdivisionOffset=t.subdivisionOffsetSpring.tick())});for(const t of i)g.splice(g.indexOf(t),1);if(O()<.5){const t=b.filter(t=>null===t.subdivider&&!t.killed&&j(t)<10);if(t.length&&C(t[O()*t.length|0],2*O()|0,.5*O()+.25),O()<.5){const t=g.filter(t=>0===t.children.length&&!t.killed&&_(t.spaces[0]));if(t.length){const e=t[O()*t.length|0],n=e.spaces[0],r=n.bounds[(n.bounds.indexOf(e)+2)%4],i=u([],x(e)[0],x(e)[1],x(r)[0]);o.scale(i,i,600*(O()-.5)),F(e,i)}}}const l=[0,0,e,n],h=a.create(),m=a.create(),v=(r+150)/160,y=[20*Math.sin(v),30*Math.sin(v),60*Math.cos(v)];a.ortho(h,-500,500,-500,500,-500,500),a.lookAt(m,y,[0,0,0],[0,1,0]);const k=a.multiply([],h,m);for(const e of g){if(A(e.drawOffset,0))continue;const n="subdivider"===e.type?.4/(j(e.parent)+1)+.1:.5,r=x(e),[i,o]=r.map(t=>s([],t,l,k));e.gradientOffset=e.gradientOffset||.8*O()+.1;const a=t.createLinearGradient(i[0],i[1],o[0],o[1]);a.addColorStop(0,`rgba(${p.join(", ")}, ${n})`),a.addColorStop(e.gradientOffset,`rgba(${p.join(", ")}, 0)`),a.addColorStop(1,`rgba(${p.join(", ")}, ${n})`),t.beginPath(),t.strokeStyle=a,t.lineWidth=1,t.moveTo(i[0],i[1]),t.lineTo(o[0],o[1]),t.stroke()}for(const e of b){if(e.killed||e.parent)continue;const n=w(e).map(t=>s([],t,l,k));e.color=e.color||d.map(t=>t*O());const r=t.createLinearGradient(n[0][0],n[0][1],n[2][0],n[2][1]);r.addColorStop(0,`rgba(${e.color.join(", ")}, 0)`),r.addColorStop(.5,`rgba(${p.join(", ")}, ${Math.max(-.1,0)})`),r.addColorStop(1,`rgba(${e.color.join(", ")}, 0)`),t.beginPath(),t.fillStyle=r,t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.lineTo(n[0][0],n[0][1]),t.fill()}}},{dimensions:[800,800],animate:!0,fps:24})},{alea:1,"camera-project":2,"canvas-sketch":3,"get-plane-normal":56,"gl-mat4":72,"gl-vec3":105,memoizee:143,"spring-animator-1":157}],167:[function(t,e,n){(function(t){t.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[166,167]);</script>