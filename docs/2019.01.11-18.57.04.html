<!doctype html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,shrink-to-fit=0,user-scalable=no,minimum-scale=1,maximum-scale=1"><title>2019.01.11-18.57.04.js</title><style>html{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}body{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:0}canvas{margin:auto;display:block;box-shadow:0 2px 12px -2px rgba(0,0,0,.15)}</style><body><script>!function(){return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}}()({1:[function(t,e,n){var r=t("camera-unproject"),o=t("gl-vec3/set"),i=t("gl-vec3/subtract"),a=t("gl-vec3/normalize");e.exports=function(t,e,n,s,c){o(t,n[0],n[1],0),o(e,n[0],n[1],1),r(t,t,s,c),r(e,e,s,c),i(e,e,t),a(e,e)}},{"camera-unproject":3,"gl-vec3/normalize":51,"gl-vec3/set":59,"gl-vec3/subtract":65}],2:[function(t,e,n){var r=t("gl-vec4/transformMat4"),o=t("gl-vec4/set"),i=0,a=1,s=[0,0,0,0];e.exports=function(t,e,n,c){var u=n[0],l=n[1],h=n[2],p=n[3],d=i,f=a;o(s,e[0],e[1],e[2],1),r(s,s,c);var m=s[3];0!==m&&(s[0]=s[0]/m,s[1]=s[1]/m,s[2]=s[2]/m);return t[0]=u+h/2*s[0]+(0+h/2),t[1]=l+p/2*s[1]+(0+p/2),t[2]=(f-d)/2*s[2]+(f+d)/2,t[3]=0===m?0:1/m,t}},{"gl-vec4/set":69,"gl-vec4/transformMat4":70}],3:[function(t,e,n){var r=t("./lib/projectMat4");e.exports=function(t,e,n,o){var i=n[3],a=e[0],s=e[1],c=e[2];return s=i-s-1,s-=n[1],t[0]=2*(a-=n[0])/n[2]-1,t[1]=2*s/i-1,t[2]=2*c-1,r(t,t,o)}},{"./lib/projectMat4":4}],4:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[1],s=n[2],c=n[5],u=n[6],l=n[9],h=n[10],p=n[13],d=n[14],f=1/(r*n[3]+o*n[7]+i*n[11]+n[15]);return t[0]=(r*n[0]+o*n[4]+i*n[8]+n[12])*f,t[1]=(r*a+o*c+i*l+p)*f,t[2]=(r*s+o*u+i*h+d)*f,t}},{}],5:[function(t,e,n){(function(r){!function(r,o){"object"==typeof n&&void 0!==e?e.exports=o(t("convert-length")):"function"==typeof define&&define.amd?define(["convert-length"],o):r.canvasSketch=o(null)}(this,function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var i=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var i,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(s[u]=i[u]);if(e){a=e(i);for(var l=0;l<a.length;l++)o.call(i,a[l])&&(s[a[l]]=i[a[l]])}}return s},a="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var c=a.performance&&a.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},u=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var l=function(t){return!(!t||"object"!=typeof t)&&("object"==typeof window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)};function h(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function p(){for(var t=arguments,e=0;e<arguments.length;e++)if(null!=t[e])return t[e]}function d(){return"undefined"!=typeof document}var f,m=s(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),g=s(function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o}),_=s(function(t){var e=Array.prototype.slice,n=t.exports=function(t,i,a){return a||(a={}),t===i||(t instanceof Date&&i instanceof Date?t.getTime()===i.getTime():!t||!i||"object"!=typeof t&&"object"!=typeof i?a.strict?t===i:t==i:function(t,i,a){var s,c;if(r(t)||r(i))return!1;if(t.prototype!==i.prototype)return!1;if(g(t))return!!g(i)&&(t=e.call(t),i=e.call(i),n(t,i,a));if(o(t)){if(!o(i))return!1;if(t.length!==i.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==i[s])return!1;return!0}try{var u=m(t),l=m(i)}catch(t){return!1}if(u.length!=l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!=l[s])return!1;for(s=u.length-1;s>=0;s--)if(!n(t[c=u[s]],i[c],a))return!1;return typeof t==typeof i}(t,i,a))};function r(t){return null==t}function o(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}}),v=s(function(t,e){!function(e){var n,r,o,i=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g,function(t,e,s,c){if(1!==arguments.length||"string"!==(null===(u=t)?"null":void 0===u?"undefined":"object"!=typeof u?typeof u:Array.isArray(u)?"array":{}.toString.call(u).slice(8,-1).toLowerCase())||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var u,l=(e=String(i.masks[e]||e||i.masks.default)).slice(0,4);"UTC:"!==l&&"GMT:"!==l||(e=e.slice(4),s=!0,"GMT:"===l&&(c=!0));var h=s?"getUTC":"get",p=t[h+"Date"](),d=t[h+"Day"](),f=t[h+"Month"](),m=t[h+"FullYear"](),g=t[h+"Hours"](),_=t[h+"Minutes"](),v=t[h+"Seconds"](),b=t[h+"Milliseconds"](),y=s?0:t.getTimezoneOffset(),x=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();return e.setHours(e.getHours()-r),1+Math.floor((e-n)/6048e5)}(t),w=function(t){var e=t.getDay();return 0===e&&(e=7),e}(t),k={d:p,dd:a(p),ddd:i.i18n.dayNames[d],dddd:i.i18n.dayNames[d+7],m:f+1,mm:a(f+1),mmm:i.i18n.monthNames[f],mmmm:i.i18n.monthNames[f+12],yy:String(m).slice(2),yyyy:m,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:_,MM:a(_),s:v,ss:a(v),l:a(b,3),L:a(Math.round(b/10)),t:g<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:g<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:g<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:g<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:c?"GMT":s?"UTC":(String(t).match(r)||[""]).pop().replace(o,""),o:(y>0?"-":"+")+a(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:x,N:w};return e.replace(n,function(t){return t in k?k[t]:t.slice(1,t.length-1)})});function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},t.exports=i}()}),b="",y=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(f!==t||void 0===f)f=t,b="";else if(b.length>=n)return b.substr(0,n);for(;n>b.length&&e>1;)1&e&&(b+=t),e>>=1,t+=t;return b=(b+=t).substr(0,n)};var x,w=function(t,e,n){return t=t.toString(),void 0===e?t:(n=0===n?"0":n?n.toString():" ",y(n,e-t.length)+t)},k=function(){},A={extension:"",prefix:"",suffix:""},C=["image/png","image/jpeg","image/webp"];function E(t,e){return void 0===e&&(e={}),new Promise(function(n,r){e=i({},A,e);var o=j(Object.assign({},e,{frame:void 0})),a=t?"streamStart":"streamEnd",s=h();return s&&s.output&&"function"==typeof s[a]?s[a](i({},e,{filename:o})).then(function(t){return n(t)}):n({filename:o,client:!1})})}function S(t,e){return void 0===e&&(e={}),function(t){return new Promise(function(e){var n=t.indexOf(",");if(-1!==n){for(var r=t.slice(n+1),o=window.atob(r),i=t.slice(0,n),a=/data:([^;]+)/.exec(i),s=(a?a[1]:"")||void 0,c=new ArrayBuffer(o.length),u=new Uint8Array(c),l=0;l<o.length;l++)u[l]=o.charCodeAt(l);e(new window.Blob([c],{type:s}))}else e(new window.Blob)})}(t).then(function(t){return M(t,e)})}function M(t,e){return void 0===e&&(e={}),new Promise(function(n){var r=(e=i({},A,e)).filename,o=h();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(t,i({},e,{filename:r})).then(function(t){return n(t)});x||((x=document.createElement("a")).style.visibility="hidden",x.target="_blank"),x.download=r,x.href=window.URL.createObjectURL(t),document.body.appendChild(x),x.onclick=function(){x.onclick=k,setTimeout(function(){window.URL.revokeObjectURL(t),x.parentElement&&x.parentElement.removeChild(x),x.removeAttribute("href"),n({filename:r,client:!1})})},x.click()})}function j(t){if(void 0===t&&(t={}),"function"==typeof(t=i({},t)).file)return t.file(t);if(t.file)return t.file;var e,n=null,r="";("string"==typeof t.extension&&(r=t.extension),"number"==typeof t.frame)&&(e="number"==typeof t.totalFrames?t.totalFrames:Math.max(1e3,t.frame),n=w(String(t.frame),String(e).length,"0"));var o=isFinite(t.totalLayers)&&isFinite(t.layer)&&t.totalLayers>1?""+t.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+r:[t.prefix,t.name||t.timeStamp,o,t.hash,t.suffix].filter(Boolean).join("-")+r}var O={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},T=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],N=function(t){Object.keys(t).forEach(function(t){t in O?console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+O[t]+'"?'):T.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')})};var P=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce(function(t,e){var n={units:e[3]||"mm",dimensions:[e[1],e[2]]};return t[e[0]]=n,t[e[0].replace(/-/g," ")]=n,t},{});function F(e,n,r,o){return void 0===n&&(n="px"),void 0===r&&(r="px"),void 0===o&&(o=72),t(e,n,r,{pixelsPerInch:o,precision:4,roundPixel:!0})}function R(t,e){var n,r,o,i,a,s,c=d(),u=e.dimensions,l=function(t){return!(!t.dimensions||"string"!=typeof t.dimensions&&!(Array.isArray(t.dimensions)&&t.dimensions.length>=2))}(e),h=t.exporting,f=!!l&&!1!==e.scaleToFit,m=!(!h&&l)||e.scaleToView;c||(f=m=!1);var g,_,v=e.units,b="number"==typeof e.pixelsPerInch&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,y=p(e.bleed,0),x=c?window.devicePixelRatio:1,w=m?x:1;"number"==typeof e.pixelRatio&&isFinite(e.pixelRatio)?_=p(e.exportPixelRatio,g=e.pixelRatio):l?(g=w,_=p(e.exportPixelRatio,1)):_=p(e.exportPixelRatio,g=x),"number"==typeof e.maxPixelRatio&&isFinite(e.maxPixelRatio)&&(g=Math.min(e.maxPixelRatio,g)),h&&(g=_);var k,A,C=function(t,e){if(!d())return[300,150];var n=e.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var r=n.getBoundingClientRect();return[r.width,r.height]}(0,e),E=C[0],S=C[1];if(l){var M=function(t,e,n){if(void 0===e&&(e="px"),void 0===n&&(n=72),"string"==typeof t){var r=t.toLowerCase();if(!(r in P))throw new Error('The dimension preset "'+t+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var o=P[r];return o.dimensions.map(function(t){return F(t,o.units,e,n)})}return t}(u,v,b),j=Math.max(M[0],M[1]),O=Math.min(M[0],M[1]);if(e.orientation){var T="landscape"===e.orientation;n=T?j:O,r=T?O:j}else n=M[0],r=M[1];k=n,A=r,n+=2*y,r+=2*y}else k=n=E,A=r=S;var N=n,R=r;if(l&&v&&(N=F(n,v,"px",b),R=F(r,v,"px",b)),o=Math.round(N),i=Math.round(R),f&&!h&&l){var L=n/r,z=E/S,D=p(e.scaleToFitPadding,40),I=Math.round(E-2*D),B=Math.round(S-2*D);(o>I||i>B)&&(z>L?(i=B,o=Math.round(i*L)):(o=I,i=Math.round(o/L)))}return{bleed:y,pixelRatio:g,width:n,height:r,dimensions:[n,r],units:v||"px",scaleX:(a=m?Math.round(g*o):Math.round(g*N))/n,scaleY:(s=m?Math.round(g*i):Math.round(g*R))/r,viewportWidth:m?Math.round(o):Math.round(N),viewportHeight:m?Math.round(i):Math.round(R),canvasWidth:a,canvasHeight:s,trimWidth:k,trimHeight:A,styleWidth:o,styleHeight:i}}var L=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var r,o=e;try{var i=[t];0===t.indexOf("webgl")&&i.push("experimental-"+t);for(var a=0;a<i.length;a++)if(r=n.getContext(i[a],o))return r}catch(t){r=null}return r||null};function z(t){var e,n;void 0===t&&(t={});var r=!1;if(!1!==t.canvas){if(!(e=t.context)||"string"==typeof e){var o=t.canvas;o||(o=function(){if(!d())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),r=!0);var a=e||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(e=L(a,i({},t.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+a+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=e.canvas,t.canvas&&n!==t.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");t.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:e,ownsCanvas:r}}var D=function(){var t=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(t){void 0===t&&(t={});var e=function(e){if(t.enabled()){var n=h();83!==e.keyCode||e.altKey||!e.metaKey&&!e.ctrlKey?32===e.keyCode?t.togglePlay(e):n&&!e.altKey&&75===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.commit(e)):(e.preventDefault(),t.save(e))}};return{attach:function(){window.addEventListener("keydown",e)},detach:function(){window.removeEventListener("keydown",e)}}}({enabled:function(){return!1!==t.settings.hotkeys},save:function(e){e.shiftKey?t.props.recording?(t.endRecord(),t.run()):t.record():t.props.recording||t.exportFrame()},togglePlay:function(){t.props.playing?t.pause():t.play()},commit:function(e){t.exportFrame({commit:!0})}}),this._animateHandler=function(){return t.animate()},this._resizeHandler=function(){t.resize()&&t.render()}},I={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};I.sketch.get=function(){return this._sketch},I.settings.get=function(){return this._settings},I.props.get=function(){return this._props},D.prototype._computePlayhead=function(t,e){return"number"==typeof e&&isFinite(e)?t/e:0},D.prototype._computeFrame=function(t,e,n,r){return isFinite(n)&&n>1?Math.floor(t*(n-1)):Math.floor(r*e)},D.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},D.prototype._getSizeProps=function(){var t=this.props;return{width:t.width,height:t.height,pixelRatio:t.pixelRatio,canvasWidth:t.canvasWidth,canvasHeight:t.canvasHeight,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight}},D.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},D.prototype.play=function(){var t=this.settings.animate;"animation"in this.settings&&(t=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),t&&(d()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,null!=this._raf&&window.cancelAnimationFrame(this._raf),this._lastTime=c(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},D.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,null!=this._raf&&d()&&window.cancelAnimationFrame(this._raf)},D.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},D.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},D.prototype.record=function(){var t=this;if(!this.props.recording)if(d()){this.stop(),this.props.playing=!0,this.props.recording=!0;var e=this._createExportOptions({sequence:!0}),n=1/this.props.fps;null!=this._raf&&window.cancelAnimationFrame(this._raf);var r,o=function(){return t.props.recording?(t.props.deltaTime=n,t.tick(),t.exportFrame(e).then(function(){t.props.recording&&(t.props.deltaTime=0,t.props.frame++,t.props.frame<t.props.totalFrames?(t.props.time+=n,t.props.playhead=t._computePlayhead(t.props.time,t.props.duration),t._raf=window.requestAnimationFrame(o)):(console.log("Finished recording"),t._signalEnd(),t.endRecord(),t.stop(),t.run()))})):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),(r=e,void 0===r&&(r={}),E(!0,r)).catch(function(t){console.error(t)}).then(function(e){t._raf=window.requestAnimationFrame(o)})}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},D.prototype._signalBegin=function(){var t=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale(function(e){return t.sketch.begin(e)})},D.prototype._signalEnd=function(){var t=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale(function(e){return t.sketch.end(e)})},D.prototype.endRecord=function(){var t;null!=this._raf&&d()&&window.cancelAnimationFrame(this._raf),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===t&&(t={}),E(!1,t)).catch(function(t){console.error(t)})},D.prototype._createExportOptions=function(t){return void 0===t&&(t={}),{sequence:t.sequence,save:t.save,fps:this.props.fps,frame:t.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:t.timeStamp||v(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(100,this.props.totalFrames):1e3}},D.prototype.exportFrame=function(t){var e=this;if(void 0===t&&(t={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(t),r=h(),o=Promise.resolve();if(r&&t.commit&&"function"==typeof r.commit){var a=i({},n),s=r.commit(a);o=u(s)?s:Promise.resolve(s)}return o.then(function(t){return e._doExportFrame(i({},n,{hash:t||""}))}).then(function(t){return 1===t.length?t[0]:t})},D.prototype._doExportFrame=function(t){var e=this;void 0===t&&(t={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map(function(e){var n,r="object"==typeof e&&e&&("data"in e||"dataURL"in e),o=r?e.data:e,a=r?i({},e,{data:o}):{data:o};if(l(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var s=function(t,e){void 0===e&&(e={});var n=e.encoding||"image/png";if(!C.includes(n))throw new Error("Invalid canvas encoding "+n);var r=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return r&&(r=("."+r).toLowerCase()),{extension:r,type:n,dataURL:t.toDataURL(n,e.encodingQuality)}}(o,{encoding:a.encoding||t.encoding,encodingQuality:p(a.encodingQuality,t.encodingQuality,.95)});return Object.assign(a,{dataURL:s.dataURL,extension:s.extension,type:s.type})}return a}),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map(function(e,n,r){var o=i({extension:"",prefix:"",suffix:""},t,e,{layer:n,totalLayers:r.length}),a=!1!==t.save&&e.save;for(var s in o.save=!1!==a,o.filename=j(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[s]&&delete o[s];var c=Promise.resolve({});if(o.save){var u=o.data;if(o.dataURL)c=S(o.dataURL,o);else c=function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t];return M(new window.Blob(n,{type:e.type||""}),e)}(u,o)}return c.then(function(t){return Object.assign({},o,t)})})).then(function(n){var r=n.filter(function(t){return t.save});if(r.length>0){var o,i=r.find(function(t){return t.outputName}),a=r.some(function(t){return t.client}),s=r.some(function(t){return t.stream});o=r.length>1?r.length:i?i.outputName+"/"+r[0].filename:""+r[0].filename;var c="";if(t.sequence)c=isFinite(e.props.totalFrames)?" (frame "+(t.frame+1)+" / "+e.props.totalFrames+")":" (frame "+t.frame+")";else r.length>1&&(c=" files");console.log("%c["+(a?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(s?"Streaming into":"Exported")+" %c"+o+"%c"+c,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof e.sketch.postExport&&e.sketch.postExport(),n})},D.prototype._wrapContextScale=function(t){this._preRender(),t(this.props),this._postRender()},D.prototype._preRender=function(){var t=this.props;this.props.gl||!t.context||t.p5?t.p5&&t.p5.scale(t.scaleX/t.pixelRatio,t.scaleY/t.pixelRatio):(t.context.save(),!1!==this.settings.scaleContext&&t.context.scale(t.scaleX,t.scaleY))},D.prototype._postRender=function(){var t=this.props;this.props.gl||!t.context||t.p5||t.context.restore(),t.gl&&!1!==this.settings.flush&&!t.p5&&t.gl.flush()},D.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},D.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},D.prototype.submitDrawCall=function(){if(this.sketch){var t,e=this.props;return this._preRender(),"function"==typeof this.sketch?t=this.sketch(e):"function"==typeof this.sketch.render&&(t=this.sketch.render(e)),this._postRender(),t}},D.prototype.update=function(t){var e=this;void 0===t&&(t={});var n=["animate"];Object.keys(t).forEach(function(t){if(n.indexOf(t)>=0)throw new Error("Sorry, the { "+t+" } option is not yet supported with update().")});var r=this._settings.canvas,o=this._settings.context;for(var i in t){var a=t[i];void 0!==a&&(e._settings[i]=a)}var s=Object.assign({},this._settings,t);if("time"in t&&"frame"in t)throw new Error("You should specify { time } or { frame } but not both");if("time"in t?delete s.frame:"frame"in t&&delete s.time,"duration"in t&&"totalFrames"in t)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in t?delete s.totalFrames:"totalFrames"in t&&delete s.duration,"data"in t&&(this._props.data=t.data);var c=this.getTimeProps(s);if(Object.assign(this._props,c),r!==this._settings.canvas||o!==this._settings.context){var u=z(this._settings),l=u.context;this.props.canvas=u.canvas,this.props.context=l,this._setupGLKey(),this._appendCanvasIfNeeded()}return t.p5&&"function"!=typeof t.p5&&(this.props.p5=t.p5,this.props.p5.draw=function(){e._isP5Resizing||(e._lastRedrawResult=e.submitDrawCall())}),"playing"in t&&(t.playing?this.play():this.pause()),N(this._settings),this.resize(),this.render(),this.props},D.prototype.resize=function(){var t=this._getSizeProps(),e=this.settings,n=this.props,r=R(n,e);Object.assign(this._props,r);var o=this.props,i=o.pixelRatio,a=o.canvasWidth,s=o.canvasHeight,c=o.styleWidth,u=o.styleHeight,l=this.props.canvas;l&&!1!==e.resizeCanvas&&(n.p5?l.width===a&&l.height===s||(this._isP5Resizing=!0,n.p5.pixelDensity(i),n.p5.resizeCanvas(a/i,s/i,!1),this._isP5Resizing=!1):(l.width!==a&&(l.width=a),l.height!==s&&(l.height=s)),d()&&!1!==e.styleCanvas&&(l.style.width=c+"px",l.style.height=u+"px"));var h=this._getSizeProps(),p=!_(t,h);return p&&this._sizeChanged(),p},D.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},D.prototype.animate=function(){if(this.props.playing)if(d()){this._raf=window.requestAnimationFrame(this._animateHandler);var t=c(),e=1e3/this.props.fps,n=t-this._lastTime,r=this.props.duration,o="number"==typeof r&&isFinite(r),i=!0,a=this.settings.playbackRate;"fixed"===a?n=e:"throttle"===a?n>e?this._lastTime=t-=n%e:i=!1:this._lastTime=t;var s=n/1e3,u=this.props.time+s*this.props.timeScale;u<0&&o&&(u=r+u);var l=!1,h=!1;if(o&&u>=r&&(!1!==this.settings.loop?(i=!0,u%=r,h=!0):(i=!1,u=r,l=!0),this._signalEnd()),i){this.props.deltaTime=s,this.props.time=u,this.props.playhead=this._computePlayhead(u,r);var p=this.props.frame;this.props.frame=this._computeCurrentFrame(),h&&this._signalBegin(),p!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}l&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},D.prototype.dispatch=function(t){if("function"!=typeof t)throw new Error("must pass function into dispatch()");t(this.props),this.render()},D.prototype.mount=function(){this._appendCanvasIfNeeded()},D.prototype.unmount=function(){d()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},D.prototype._appendCanvasIfNeeded=function(){d()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},D.prototype._setupGLKey=function(){var t;this.props.context&&("function"==typeof(t=this.props.context).clear&&"function"==typeof t.clearColor&&"function"==typeof t.bufferData?this._props.gl=this.props.context:delete this._props.gl)},D.prototype.getTimeProps=function(t){void 0===t&&(t={});var e=t.duration,n=t.totalFrames,r=p(t.timeScale,1),o=p(t.fps,24),i="number"==typeof e&&isFinite(e),a="number"==typeof n&&isFinite(n),s=i?Math.floor(o*e):void 0,c=a?n/o:void 0;if(i&&a&&s!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===t.dimensions&&void 0!==t.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=p(n,s,Infinity),e=p(e,c,Infinity);var u=t.time,l=t.frame,h="number"==typeof u&&isFinite(u),d="number"==typeof l&&isFinite(l),f=0,m=0,g=0;if(h&&d)throw new Error("You should specify either start frame or time, but not both.");return h?(g=this._computePlayhead(f=u,e),m=this._computeFrame(g,f,n,o)):d&&(g=this._computePlayhead(f=(m=l)/o,e)),{playhead:g,time:f,frame:m,duration:e,totalFrames:n,fps:o,timeScale:r}},D.prototype.setup=function(t){var e=this;if(void 0===t&&(t={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},t,this._settings),N(this._settings);var n=z(this._settings),r=n.context,o=n.canvas,i=this.getTimeProps(this._settings);this._props=Object.assign({},i,{canvas:o,context:r,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return e.render()},togglePlay:function(){return e.togglePlay()},dispatch:function(t){return e.dispatch(t)},tick:function(){return e.tick()},resize:function(){return e.resize()},update:function(t){return e.update(t)},exportFrame:function(t){return e.exportFrame(t)},record:function(){return e.record()},play:function(){return e.play()},pause:function(){return e.pause()},stop:function(){return e.stop()}}),this._setupGLKey(),this.resize()},D.prototype.loadAndRun=function(t,e){var n=this;return this.load(t,e).then(function(){return n.run(),n})},D.prototype.unload=function(){var t=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale(function(e){return t.sketch.unload(e)}),this._sketch=null)},D.prototype.destroy=function(){this.unload(),this.unmount()},D.prototype.load=function(t,e){var n=this;if("function"!=typeof t)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==e&&this.update(e),this._preRender();var r=Promise.resolve();if(this.settings.p5){if(!d())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");r=new Promise(function(t){var e,r=n.settings.p5;r.p5&&(e=r.preload,r=r.p5);var o=function(r){e&&(r.preload=function(){return e(r)}),r.setup=function(){var e=n.props,o="webgl"===n.settings.context,i=o?r.WEBGL:r.P2D;r.noLoop(),r.pixelDensity(e.pixelRatio),r.createCanvas(e.viewportWidth,e.viewportHeight,i),o&&n.settings.attributes&&r.setAttributes(n.settings.attributes),n.update({p5:r,canvas:r.canvas,context:r._renderer.drawingContext}),t()}};if("function"==typeof r)new r(o);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");o(window)}})}return r.then(function(){var e=t(n.props);return u(e)||(e=Promise.resolve(e)),e}).then(function(t){return t||(t={}),n._sketch=t,d()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n}).catch(function(t){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+t.message),t})},Object.defineProperties(D.prototype,I);var B="hot-id-cache",H=[];function V(t,e){if(void 0===e&&(e={}),e.p5){if(e.canvas||e.context&&"string"!=typeof e.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');e=Object.assign({},e,{canvas:!1,context:"string"==typeof e.context&&e.context})}var n,r,o=(n=h())&&n.hot;o&&(r=p(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var i=o&&"string"==typeof r;i&&H.includes(r)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",r),i=!1);var a=Promise.resolve();if(i){H.push(r);var s=function(t){var e=h();if(e)return e[B]=e[B]||{},e[B][t]}(r);if(s){var c=function(){var t,n=(t=s.manager,e.animate?{time:t.props.time}:void 0);return s.manager.destroy(),n};a=s.load.then(c).catch(c)}}return a.then(function(n){var o,a,s,c,u=new D;return t?(e=Object.assign({},e,n),u.setup(e),u.mount(),o=u.loadAndRun(t)):o=Promise.resolve(u),i&&(a=r,s={load:o,manager:u},(c=h())&&(c[B]=c[B]||{},c[B][a]=s)),o})}return V.canvasSketch=V,V.PaperSizes=P,V})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"convert-length":12}],6:[function(t,e,n){var r=t("color-name"),o={};for(var i in r)r.hasOwnProperty(i)&&(o[r[i]]=i);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),c=s-a;return s===a?e=0:r===s?e=(o-i)/c:o===s?e=2+(i-r)/c:i===s&&(e=4+(r-o)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,o,i,a=t[0]/255,s=t[1]/255,c=t[2]/255,u=Math.max(a,s,c),l=u-Math.min(a,s,c),h=function(t){return(u-t)/6/l+.5};return 0===l?o=i=0:(i=l/u,e=h(a),n=h(s),r=h(c),a===u?o=r-n:s===u?o=1/3+e-r:c===u&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,o=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-o)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=o[t];if(e)return e;var n,i,a,s=Infinity;for(var c in r)if(r.hasOwnProperty(c)){var u=(i=t,a=r[c],Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));u<s&&(s=u,n=c)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],o=e[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(t){var e,n,r,o,i,a=t[0]/360,s=t[1]/100,c=t[2]/100;if(0===s)return[i=255*c,i,i];e=2*c-(n=c<.5?c*(1+s):c+s-c*s),o=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o[u]=255*(i=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e);return o},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[e,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,o=t[0],i=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-i)*a,n=i*s,[o,100*(n=(n/=(e=(2-i)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,o,i,a,s,c=t[0]/360,u=t[1]/100,l=t[2]/100,h=u+l;switch(h>1&&(u/=h,l/=h),r=6*c-(e=Math.floor(6*c)),0!=(1&e)&&(r=1-r),o=u+r*((n=1-l)-u),e){default:case 6:case 0:i=n,a=o,s=u;break;case 1:i=o,a=n,s=u;break;case 2:i=u,a=n,s=o;break;case 3:i=u,a=o,s=n;break;case 4:i=o,a=u,s=n;break;case 5:i=n,a=u,s=o}return[255*i,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},a.xyz.rgb=function(t){var e,n,r,o=t[0]/100,i=t[1]/100,a=t[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,e=(e=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r;e=t[1]/500+(n=(t[0]+16)/116),r=n-t[2]/200;var o=Math.pow(n,3),i=Math.pow(e,3),a=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],o=t[2];return(e=360*Math.atan2(o,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+o*o),e]},a.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],o=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,o=t[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),s=i-a;return e=s<=0?0:i===n?(r-o)/s%6:i===r?2+(o-n)/s:4+(n-r)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,o=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(o=(n-.5*r)/(1-r)),[t[0],100*r,100*o]},a.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},a.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var r,o=[0,0,0],i=t[0]/360%1*6,a=i%1,s=1-a;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return[255*(e*o[0]+(r=(1-e)*n)),255*(e*o[1]+r),255*(e*o[2]+r)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},{"color-name":9}],7:[function(t,e,n){var r=t("./conversions"),o=t("./route"),i={};Object.keys(r).forEach(function(t){i[t]={},Object.defineProperty(i[t],"channels",{value:r[t].channels}),Object.defineProperty(i[t],"labels",{value:r[t].labels});var e=o(t);Object.keys(e).forEach(function(n){var r=e[n];i[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),i[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),e.exports=i},{"./conversions":6,"./route":8}],8:[function(t,e,n){var r=t("./conversions");function o(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,o=0;o<n;o++)t[e[o]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,s=0;s<a;s++){var c=i[s],u=e[c];-1===u.distance&&(u.distance=e[o].distance+1,u.parent=o,n.unshift(c))}return e}function i(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],o=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),o=i(r[e[a].parent][a],o),a=e[a].parent;return o.conversion=n,o}e.exports=function(t){for(var e=o(t),n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var c=r[s];null!==e[c].parent&&(n[c]=a(c,e))}return n}},{"./conversions":6}],9:[function(t,e,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],10:[function(t,e,n){var r=t("color-name"),o=t("simple-swizzle"),i={};for(var a in r)r.hasOwnProperty(a)&&(i[r[a]]=a);var s=e.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),n="hsl";break;case"hwb":e=s.get.hwb(t),n="hwb";break;default:e=s.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,n,o,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],n=0;n<3;n++){var a=2*n;i[n]=parseInt(e.slice(a,a+2),16)}o&&(i[3]=Math.round(parseInt(o,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);o&&(i[3]=Math.round(parseInt(o+o,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=r[e[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=c(i[n],0,255);return i[3]=c(i[3],0,1),i},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var t=o(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},s.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return i[t.slice(0,3)]}},{"color-name":9,"simple-swizzle":218}],11:[function(t,e,n){"use strict";var r=t("color-string"),o=t("color-convert"),i=[].slice,a=["keyword","gray","hex"],s={};Object.keys(o).forEach(function(t){s[i.call(o[t].labels).sort().join("")]=t});var c={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in a&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);var n,l;if(t)if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=r.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,this.color=h.value.slice(0,l=o[this.model].channels),this.valpha="number"==typeof h.value[l]?h.value[l]:1}else if(t.length){this.model=e||"rgb";var d=i.call(t,0,l=o[this.model].channels);this.color=p(d,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var f=Object.keys(t);"alpha"in t&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var m=f.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[m];var g=o[this.model].labels,_=[];for(n=0;n<g.length;n++)_.push(t[g[n]]);this.color=p(_)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(l=o[this.model].channels,n=0;n<l;n++){var v=c[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(c[t]||(c[t]=[]))[e]=n}),t=t[0],function(r){var o;return arguments.length?(n&&(r=n(r)),(o=this[t]()).color[e]=r,o):(o=this[t]().color[e],n&&(o=n(o)),o)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=o[this.model].channels,n=o[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:l("rgb",0,h(255)),green:l("rgb",1,h(255)),blue:l("rgb",2,h(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:l("hsl",1,h(100)),lightness:l("hsl",2,h(100)),saturationv:l("hsv",1,h(100)),value:l("hsv",2,h(100)),chroma:l("hcg",1,h(100)),gray:l("hcg",2,h(100)),white:l("hwb",1,h(100)),wblack:l("hwb",2,h(100)),cyan:l("cmyk",0,h(100)),magenta:l("cmyk",1,h(100)),yellow:l("cmyk",2,h(100)),black:l("cmyk",3,h(100)),x:l("xyz",0,h(100)),y:l("xyz",1,h(100)),z:l("xyz",2,h(100)),l:l("lab",0,h(100)),a:l("lab",1),b:l("lab",2),keyword:function(t){return arguments.length?new u(t):o[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return e.color[0]=n=(n=(n+t)%360)<0?360+n:n,e},mix:function(t,e){var n=this.rgb(),r=t.rgb(),o=void 0===e?.5:e,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-s;return u.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*o+r.alpha()*(1-o))}},Object.keys(o).forEach(function(t){if(-1===a.indexOf(t)){var e=o[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var n,r="number"==typeof arguments[e]?e:this.valpha;return new u((n=o[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(r),t)},u[t]=function(n){return"number"==typeof n&&(n=p(i.call(arguments),e)),new u(n,t)}}}),e.exports=u},{"color-convert":7,"color-string":10}],12:[function(t,e,n){var r=t("defined"),o=["mm","cm","m","pc","pt","in","ft","px"],i={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const a={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};e.exports=function(t,e,n,s){if("number"!=typeof t||!isFinite(t))throw new Error("Value must be a finite number");if(!e||!n)throw new Error("Must specify from and to units");var c=r((s=s||{}).pixelsPerInch,96),u=s.precision,l=!1!==s.roundPixel;if(e=e.toLowerCase(),n=n.toLowerCase(),-1===o.indexOf(e))throw new Error('Invalid from unit "'+e+'", must be one of: '+o.join(", "));if(-1===o.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+o.join(", "));if(e===n)return t;var h=1,p=1,d=!1;"px"===e&&(p=1/c,e="in"),"px"===n&&(d=!0,h=c,n="in");var f=i[e],m=i[n],g=t*f.factor*p;f.system!==m.system&&(g*=a[f.system].ratio);var _=g/m.factor*h;return d&&l?_=Math.round(_):"number"==typeof u&&isFinite(u)&&(_=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}(_,u)),_},e.exports.units=o},{defined:16}],13:[function(t,e,n){e.exports=t("./vendor/dat.gui"),e.exports.color=t("./vendor/dat.color")},{"./vendor/dat.color":14,"./vendor/dat.gui":15}],14:[function(t,e,n){var r,o,i,a,s=e.exports=s||{};s.color=s.color||{},s.utils=s.utils||{},s.utils.common=(r=Array.prototype.forEach,o=Array.prototype.slice,{BREAK:{},extend:function(t){return this.each(o.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(o.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===t.length+0){for(var o=0,i=t.length;o<i;o++)if(o in t&&e.call(n,t[o],o)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!=t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}),s.color.toString=(i=s.utils.common,function(t){if(1==t.a||i.isUndefined(t.a)){for(var e=t.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}),s.Color=s.color.Color=function(t,e,n,r){var o=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};function i(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(s(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(s(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function a(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(c(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(c(this),this.__state.space="HSV"),this.__state[e]=t}})}function s(t,n,o){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,o);else{if("HSV"!==t.__state.space)throw"Corrupted color state";r.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function c(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);r.extend(t.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}return o.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(o.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(o.prototype,"r",2),i(o.prototype,"g",1),i(o.prototype,"b",0),a(o.prototype,"h"),a(o.prototype,"s"),a(o.prototype,"v"),Object.defineProperty(o.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(o.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),o}(s.color.interpret=function(t,e){var n,r,o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return function(){r=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(o){if(o.litmus(t))return e.each(o.conversions,function(o,i){if(n=o.read(t),!1===r&&!1!==n)return r=n,n.conversionName=i,n.conversion=o,e.BREAK}),e.BREAK}),r}}(s.color.toString,s.utils.common),s.color.math={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,o=t/60-Math.floor(t/60),i=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),c=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var r,o=Math.min(t,e,n),i=Math.max(t,e,n),a=i-o;return 0==i?{h:NaN,s:0,v:0}:(r=t==i?(e-n)/a:e==i?2+(n-t)/a:4+(t-e)/a,(r/=6)<0&&(r+=1),{h:360*r,s:a/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(a=8*e)|t&~(255<<a)}},s.color.toString,s.utils.common)},{}],15:[function(t,e,n){var r,o,i,a,s,c=e.exports=c||{};c.gui=c.gui||{},c.utils=c.utils||{},c.controllers=c.controllers||{},c.dom=c.dom||{},c.color=c.color||{},c.utils.css={load:function(t,e){var n=(e=e||document).createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){e=e||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(n)}},c.utils.common=(r=Array.prototype.forEach,o=Array.prototype.slice,{BREAK:{},extend:function(t){return this.each(o.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(o.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===t.length+0){for(var o=0,i=t.length;o<i;o++)if(o in t&&e.call(n,t[o],o)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!=t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}),c.controllers.Controller=(c.utils.common.extend((i=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}).prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),i),c.dom.dom=function(t){var e={};t.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(n,r){t.each(n,function(t){e[t]=r})});var n=/(\d+(\.\d+)?)px/;function r(e){if("0"===e||t.isUndefined(e))return 0;var r=e.match(n);return t.isNull(r)?0:parseFloat(r[1])}var o={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,n,r){t.isUndefined(n)&&(n=!0),t.isUndefined(r)&&(r=!0),e.style.position="absolute",n&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(n,r,o,i){o=o||{};var a=e[r];if(!a)throw new Error("Event type "+r+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":s.initMouseEvent(r,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,o.x||o.clientX||0,o.y||o.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;t.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(r,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:s.initEvent(r,o.bubbles||!1,o.cancelable||!0)}t.defaults(s,i),n.dispatchEvent(s)},bind:function(t,e,n,r){return r=r||!1,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n),o},unbind:function(t,e,n,r){return r=r||!1,t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n),o},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1==n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return o},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!=r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return o},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return r(e["border-left-width"])+r(e["border-right-width"])+r(e["padding-left"])+r(e["padding-right"])+r(e.width)},getHeight:function(t){var e=getComputedStyle(t);return r(e["border-top-width"])+r(e["border-bottom-width"])+r(e["padding-top"])+r(e["padding-bottom"])+r(e.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do{e.left+=t.offsetLeft,e.top+=t.offsetTop}while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return o}(c.utils.common),c.controllers.OptionController=function(t,e,n){var r=function(t,o,i){r.superclass.call(this,t,o);var a=this;if(this.__select=document.createElement("select"),n.isArray(i)){var s={};n.each(i,function(t){s[t]=t}),i=s}n.each(i,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)}),this.updateDisplay(),e.bind(this.__select,"change",function(){a.setValue(this.options[this.selectedIndex].value)}),this.domElement.appendChild(this.__select)};return r.superclass=t,n.extend(r.prototype,t.prototype,{setValue:function(t){var e=r.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(c.controllers.Controller,c.dom.dom,c.utils.common),c.controllers.NumberController=function(t,e){var n=function(t,r,o){var i;n.superclass.call(this,t,r),this.__min=(o=o||{}).min,this.__max=o.max,this.__step=o.step,this.__impliedStep=e.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step,this.__precision=(i=(i=this.__impliedStep).toString()).indexOf(".")>-1?i.length-i.indexOf(".")-1:0};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),n}(c.controllers.Controller,c.utils.common),c.controllers.NumberControllerBox=function(t,e,n){var r=function(t,o,i){this.__truncationSuspended=!1,r.superclass.call(this,t,o,i);var a,s=this;function c(){var t=parseFloat(s.__input.value);n.isNaN(t)||s.setValue(t)}function u(t){var e=a-t.clientY;s.setValue(s.getValue()+e*s.__impliedStep),a=t.clientY}function l(){e.unbind(window,"mousemove",u),e.unbind(window,"mouseup",l)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"change",c),e.bind(this.__input,"blur",function(){c(),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}),e.bind(this.__input,"mousedown",function(t){e.bind(window,"mousemove",u),e.bind(window,"mouseup",l),a=t.clientY}),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,n.extend(r.prototype,t.prototype,{updateDisplay:function(){var t,e;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),e=Math.pow(10,this.__precision),Math.round(t*e)/e),r.superclass.prototype.updateDisplay.call(this)}}),r}(c.controllers.NumberController,c.dom.dom,c.utils.common),c.controllers.NumberControllerSlider=function(t,e,n,r,o){var i=function(t,n,r,o,a){i.superclass.call(this,t,n,{min:r,max:o,step:a});var s=this;function c(t){t.preventDefault();var n,r,o=e.getOffset(s.__background),i=e.getWidth(s.__background);return s.setValue((r=s.__min)+(t.clientX-(n=o.left))/(o.left+i-n)*(s.__max-r)),!1}function u(){e.unbind(window,"mousemove",c),e.unbind(window,"mouseup",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",function(t){e.bind(window,"mousemove",c),e.bind(window,"mouseup",u),c(t)}),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return i.superclass=t,i.useDefaultStyles=function(){n.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},r.extend(i.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",i.superclass.prototype.updateDisplay.call(this)}}),i}(c.controllers.NumberController,c.dom.dom,c.utils.css,c.utils.common),c.controllers.FunctionController=function(t,e,n){var r=function(t,n,o){r.superclass.call(this,t,n);var i=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===o?"Fire":o,e.bind(this.__button,"click",function(t){return t.preventDefault(),i.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return r.superclass=t,n.extend(r.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(c.controllers.Controller,c.dom.dom,c.utils.common),c.controllers.BooleanController=function(t,e,n){var r=function(t,n){r.superclass.call(this,t,n);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",function(){o.setValue(!o.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=t,n.extend(r.prototype,t.prototype,{setValue:function(t){var e=r.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(c.controllers.Controller,c.dom.dom,c.utils.common),c.color.toString=(a=c.utils.common,function(t){if(1==t.a||a.isUndefined(t.a)){for(var e=t.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}),c.color.interpret=function(t,e){var n,r,o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return function(){r=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(o){if(o.litmus(t))return e.each(o.conversions,function(o,i){if(n=o.read(t),!1===r&&!1!==n)return r=n,n.conversionName=i,n.conversion=o,e.BREAK}),e.BREAK}),r}}(c.color.toString,c.utils.common),c.GUI=c.gui.GUI=function(t,e,n,r,o,i,a,s,c,u,l,h,p,d,f){t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var m,g,_="Default",v=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),b=!0,y=!1,x=[],w=function(t){var e=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),d.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=f.defaults(t=t||{},{autoPlace:!0,width:w.DEFAULT_WIDTH}),t=f.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),f.isUndefined(t.load)?t.load={preset:_}:t.preset&&(t.load.preset=t.preset),f.isUndefined(t.parent)&&t.hideable&&x.push(this),t.resizable=f.isUndefined(t.parent)&&t.resizable,t.autoPlace&&f.isUndefined(t.scrollable)&&(t.scrollable=!0);var n=v&&"true"===localStorage.getItem(E(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return e.parent?e.getRoot().preset:t.load.preset},set:function(n){e.parent?e.getRoot().preset=n:t.load.preset=n,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}(this),e.revert()}},width:{get:function(){return t.width},set:function(n){t.width=n,S(e,n)}},name:{get:function(){return t.name},set:function(e){t.name=e,o&&(o.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(n){t.closed=n,t.closed?d.addClass(e.__ul,w.CLASS_CLOSED):d.removeClass(e.__ul,w.CLASS_CLOSED),this.onResize(),e.__closeButton&&(e.__closeButton.innerHTML=n?w.TEXT_OPEN:w.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return n},set:function(t){v&&(n=t,t?d.bind(window,"unload",a):d.unbind(window,"unload",a),localStorage.setItem(E(e,"isLocal"),t))}}}),f.isUndefined(t.parent)){if(t.closed=!1,d.addClass(this.domElement,w.CLASS_MAIN),d.makeSelectable(this.domElement,!1),v&&n){e.useLocalStorage=!0;var r=localStorage.getItem(E(this,"gui"));r&&(t.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=w.TEXT_CLOSED,d.addClass(this.__closeButton,w.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),d.bind(this.__closeButton,"click",function(){e.closed=!e.closed})}else{void 0===t.closed&&(t.closed=!0);var o=document.createTextNode(t.name);d.addClass(o,"controller-name");var i=A(e,o);d.addClass(this.__ul,w.CLASS_CLOSED),d.addClass(i,"title"),d.bind(i,"click",function(t){return t.preventDefault(),e.closed=!e.closed,!1}),t.closed||(this.closed=!1)}function a(){localStorage.setItem(E(e,"gui"),JSON.stringify(e.getSaveObject()))}t.autoPlace&&(f.isUndefined(t.parent)&&(b&&(g=document.createElement("div"),d.addClass(g,"dg"),d.addClass(g,w.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(g),b=!1),g.appendChild(this.domElement),d.addClass(this.domElement,w.CLASS_AUTO_PLACE)),this.parent||S(e,t.width)),d.bind(window,"resize",function(){e.onResize()}),d.bind(this.__ul,"webkitTransitionEnd",function(){e.onResize()}),d.bind(this.__ul,"transitionend",function(){e.onResize()}),d.bind(this.__ul,"oTransitionEnd",function(){e.onResize()}),this.onResize(),t.resizable&&function(t){var e;function n(n){return n.preventDefault(),e=n.clientX,d.addClass(t.__closeButton,w.CLASS_DRAG),d.bind(window,"mousemove",r),d.bind(window,"mouseup",o),!1}function r(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function o(){d.removeClass(t.__closeButton,w.CLASS_DRAG),d.unbind(window,"mousemove",r),d.unbind(window,"mouseup",o)}t.__resize_handle=document.createElement("div"),f.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),d.bind(t.__resize_handle,"mousedown",n),d.bind(t.__closeButton,"mousedown",n),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}(this);e.getRoot();t.parent||function(){var t=e.getRoot();t.width+=1,f.defer(function(){t.width-=1})}()};function k(t,e,n,u){if(void 0===e[n])throw new Error("Object "+e+' has no property "'+n+'"');var h;if(u.color)h=new l(e,n);else{var p=[e,n].concat(u.factoryArgs);h=r.apply(t,p)}u.before instanceof o&&(u.before=u.before.__li),C(t,h),d.addClass(h.domElement,"c");var m=document.createElement("span");d.addClass(m,"property-name"),m.innerHTML=h.property;var g=document.createElement("div");g.appendChild(m),g.appendChild(h.domElement);var _=A(t,g,u.before);return d.addClass(_,w.CLASS_CONTROLLER_ROW),d.addClass(_,typeof h.getValue()),function(t,e,n){if(n.__li=e,n.__gui=t,f.extend(n,{options:function(e){return arguments.length>1?(n.remove(),k(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[f.toArray(arguments)]})):f.isArray(e)||f.isObject(e)?(n.remove(),k(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof c){var r=new s(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});f.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=n[t],o=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(n,t),o.apply(r,t)}}),d.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof s){var o=function(e){return f.isNumber(n.__min)&&f.isNumber(n.__max)?(n.remove(),k(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):e};n.min=f.compose(o,n.min),n.max=f.compose(o,n.max)}else n instanceof i?(d.bind(e,"click",function(){d.fakeEvent(n.__checkbox,"click")}),d.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof a?(d.bind(e,"click",function(){d.fakeEvent(n.__button,"click")}),d.bind(e,"mouseover",function(){d.addClass(n.__button,"hover")}),d.bind(e,"mouseout",function(){d.removeClass(n.__button,"hover")})):n instanceof l&&(d.addClass(e,"color"),n.updateDisplay=f.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=f.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&O(t.getRoot(),!0),e},n.setValue)}(t,_,h),t.__controllers.push(h),h}function A(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,params.before):t.__ul.appendChild(r),t.onResize(),r}function C(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!=r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(n.__rememberedObjectIndecesToControllers[r]=o={}),o[e.property]=e,n.load&&n.load.remembered){var i,a=n.load.remembered;if(a[t.preset])i=a[t.preset];else{if(!a[_])return;i=a[_]}if(i[r]&&void 0!==i[r][e.property]){var s=i[r][e.property];e.initialValue=s,e.setValue(s)}}}}function E(t,e){return document.location.href+"."+e}function S(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function M(t,e){var n={};return f.each(t.__rememberedObjects,function(r,o){var i={};f.each(t.__rememberedObjectIndecesToControllers[o],function(t,n){i[n]=e?t.initialValue:t.getValue()}),n[o]=i}),n}function j(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function O(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}return w.toggleHide=function(){y=!y,f.each(x,function(t){t.domElement.style.zIndex=y?-999:999,t.domElement.style.opacity=y?0:1})},w.CLASS_AUTO_PLACE="a",w.CLASS_AUTO_PLACE_CONTAINER="ac",w.CLASS_MAIN="main",w.CLASS_CONTROLLER_ROW="cr",w.CLASS_TOO_TALL="taller-than-window",w.CLASS_CLOSED="closed",w.CLASS_CLOSE_BUTTON="close-button",w.CLASS_DRAG="drag",w.DEFAULT_WIDTH=245,w.TEXT_CLOSED="Close Controls",w.TEXT_OPEN="Open Controls",d.bind(window,"keydown",function(t){"text"===document.activeElement.type||72!==t.which&&72!=t.keyCode||w.toggleHide()},!1),f.extend(w.prototype,{add:function(t,e){return k(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return k(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;f.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&g.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new w(e);this.__folders[t]=n;var r=A(this,n.domElement);return d.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=d.getOffset(t.__ul).top,n=0;f.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=d.getHeight(e))}),window.innerHeight-e-20<n?(d.addClass(t.domElement,w.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(d.removeClass(t.domElement,w.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&f.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(f.isUndefined(m)&&((m=new p).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;f.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&function(t){var e=t.__save_row=document.createElement("li");d.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),d.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",d.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",d.addClass(r,"button"),d.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",d.addClass(o,"button"),d.addClass(o,"save-as");var i=document.createElement("span");i.innerHTML="Revert",d.addClass(i,"button"),d.addClass(i,"revert");var a=t.__preset_select=document.createElement("select");t.load&&t.load.remembered?f.each(t.load.remembered,function(e,n){j(t,n,n==t.preset)}):j(t,_,!1);if(d.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.appendChild(i),v){var s=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain");s.style.display="block";var u=document.getElementById("dg-local-storage");function l(){c.style.display=t.useLocalStorage?"block":"none"}"true"===localStorage.getItem(E(t,"isLocal"))&&u.setAttribute("checked","checked"),l(),d.bind(u,"change",function(){t.useLocalStorage=!t.useLocalStorage,l()})}var h=document.getElementById("dg-new-constructor");d.bind(h,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||m.hide()}),d.bind(n,"click",function(){h.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),m.show(),h.focus(),h.select()}),d.bind(r,"click",function(){t.save()}),d.bind(o,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),d.bind(i,"click",function(){t.revert()})}(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&S(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=M(this)),t.folders={},f.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=M(this),O(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[_]=M(this,!0)),this.load.remembered[t]=M(this),this.preset=t,j(this,t,!0)},revert:function(t){f.each(this.__controllers,function(e){this.getRoot().load.remembered?C(t||this.getRoot(),e):e.setValue(e.initialValue)},this),f.each(this.__folders,function(t){t.revert(t)}),t||O(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&function t(e){0!=e.length&&h(function(){t(e)});f.each(e,function(t){t.updateDisplay()})}(this.__listening)}}),w}(c.utils.css,0,0,c.controllers.factory=function(t,e,n,r,o,i,a){return function(s,c){var u=s[c];return a.isArray(arguments[2])||a.isObject(arguments[2])?new t(s,c,arguments[2]):a.isNumber(u)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?new n(s,c,arguments[2],arguments[3]):new e(s,c,{min:arguments[2],max:arguments[3]}):a.isString(u)?new r(s,c):a.isFunction(u)?new o(s,c,""):a.isBoolean(u)?new i(s,c):void 0}}(c.controllers.OptionController,c.controllers.NumberControllerBox,c.controllers.NumberControllerSlider,c.controllers.StringController=function(t,e,n){var r=function(t,n){r.superclass.call(this,t,n);var o=this;function i(){o.setValue(o.__input.value)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",i),e.bind(this.__input,"change",i),e.bind(this.__input,"blur",function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,n.extend(r.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(c.controllers.Controller,c.dom.dom,c.utils.common),c.controllers.FunctionController,c.controllers.BooleanController,c.utils.common),c.controllers.Controller,c.controllers.BooleanController,c.controllers.FunctionController,c.controllers.NumberControllerBox,c.controllers.NumberControllerSlider,0,c.controllers.ColorController=function(t,e,n,r,o){var i=function(t,a){i.superclass.call(this,t,a),this.__color=new n(this.getValue()),this.__temp=new n(0);var c=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&d.call(this)}),e.bind(this.__input,"blur",d),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(c.__selector,"drag")})});var u,l=document.createElement("div");function h(t){m(t),e.bind(window,"mousemove",m),e.bind(window,"mouseup",p)}function p(){e.unbind(window,"mousemove",m),e.unbind(window,"mouseup",p)}function d(){var t=r(this.value);!1!==t?(c.__color.__state=t,c.setValue(c.__color.toOriginal())):this.value=c.__color.toString()}function f(){e.unbind(window,"mousemove",g),e.unbind(window,"mouseup",f)}function m(t){t.preventDefault();var n=e.getWidth(c.__saturation_field),r=e.getOffset(c.__saturation_field),o=(t.clientX-r.left+document.body.scrollLeft)/n,i=1-(t.clientY-r.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),o>1?o=1:o<0&&(o=0),c.__color.v=i,c.__color.s=o,c.setValue(c.__color.toOriginal()),!1}function g(t){t.preventDefault();var n=e.getHeight(c.__hue_field),r=e.getOffset(c.__hue_field),o=1-(t.clientY-r.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),c.__color.h=360*o,c.setValue(c.__color.toOriginal()),!1}o.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(l.style,{width:"100%",height:"100%",background:"none"}),s(l,"top","rgba(0,0,0,0)","#000"),o.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),(u=this.__hue_field).style.background="",u.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",u.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",u.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",u.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",u.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",h),e.bind(this.__field_knob,"mousedown",h),e.bind(this.__hue_field,"mousedown",function(t){g(t),e.bind(window,"mousemove",g),e.bind(window,"mouseup",f)}),this.__saturation_field.appendChild(l),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};i.superclass=t,o.extend(i.prototype,t.prototype,{updateDisplay:function(){var t=r(this.getValue());if(!1!==t){var e=!1;o.each(n.COMPONENTS,function(n){if(!o.isUndefined(t[n])&&!o.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&o.extend(this.__color.__state,t)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,a=255-i;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),o.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var a=["-moz-","-o-","-webkit-","-ms-",""];function s(t,e,n,r){t.style.background="",o.each(a,function(o){t.style.cssText+="background: "+o+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "})}return i}(c.controllers.Controller,c.dom.dom,c.color.Color=function(t,e,n,r){var o=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};function i(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(s(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(s(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function a(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(c(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(c(this),this.__state.space="HSV"),this.__state[e]=t}})}function s(t,n,o){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,o);else{if("HSV"!==t.__state.space)throw"Corrupted color state";r.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function c(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);r.extend(t.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}return o.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(o.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(o.prototype,"r",2),i(o.prototype,"g",1),i(o.prototype,"b",0),a(o.prototype,"h"),a(o.prototype,"s"),a(o.prototype,"v"),Object.defineProperty(o.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(o.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),o}(c.color.interpret,c.color.math={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,o=t/60-Math.floor(t/60),i=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),c=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var r,o=Math.min(t,e,n),i=Math.max(t,e,n),a=i-o;return 0==i?{h:NaN,s:0,v:0}:(r=t==i?(e-n)/a:e==i?2+(n-t)/a:4+(t-e)/a,(r/=6)<0&&(r+=1),{h:360*r,s:a/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(s=8*e)|t&~(255<<s)}},c.color.toString,c.utils.common),c.color.interpret,c.utils.common),c.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},c.dom.CenteredDiv=function(t,e){var n=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var e=this,n=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",n),t.unbind(e.domElement,"transitionend",n),t.unbind(e.domElement,"oTransitionEnd",n)};t.bind(this.domElement,"webkitTransitionEnd",n),t.bind(this.domElement,"transitionend",n),t.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},n}(c.dom.dom,c.utils.common),c.dom.dom,c.utils.common)},{}],16:[function(t,e,n){e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],17:[function(t,e,n){var r=t("gl-vec3/normalize"),o=t("gl-vec3/subtract"),i=t("gl-vec3/cross"),a=[0,0,0];e.exports=function(t,e,n,s){return o(t,e,n),o(a,n,s),i(t,t,a),r(t,t)}},{"gl-vec3/cross":29,"gl-vec3/normalize":51,"gl-vec3/subtract":65}],18:[function(t,e,n){e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],19:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=e[9],p=e[10],d=e[11],f=e[12],m=e[13],g=e[14],_=e[15],v=n*s-r*a,b=n*c-o*a,y=n*u-i*a,x=r*c-o*s,w=r*u-i*s,k=o*u-i*c,A=l*m-h*f,C=l*g-p*f,E=l*_-d*f,S=h*g-p*m,M=h*_-d*m,j=p*_-d*g,O=v*j-b*M+y*S+x*E-w*C+k*A;if(!O)return null;return t[0]=(s*j-c*M+u*S)*(O=1/O),t[1]=(o*M-r*j-i*S)*O,t[2]=(m*k-g*w+_*x)*O,t[3]=(p*w-h*k-d*x)*O,t[4]=(c*E-a*j-u*C)*O,t[5]=(n*j-o*E+i*C)*O,t[6]=(g*y-f*k-_*b)*O,t[7]=(l*k-p*y+d*b)*O,t[8]=(a*M-s*E+u*A)*O,t[9]=(r*E-n*M-i*A)*O,t[10]=(f*w-m*y+_*v)*O,t[11]=(h*y-l*w-d*v)*O,t[12]=(s*C-a*S-c*A)*O,t[13]=(n*S-r*C+o*A)*O,t[14]=(m*b-f*x-g*v)*O,t[15]=(l*x-h*b+p*v)*O,t}},{}],20:[function(t,e,n){var r=t("./identity");e.exports=function(t,e,n,o){var i,a,s,c,u,l,h,p,d,f,m=e[0],g=e[1],_=e[2],v=o[0],b=o[1],y=o[2],x=n[0],w=n[1],k=n[2];if(Math.abs(m-x)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(_-k)<1e-6)return r(t);h=m-x,p=g-w,d=_-k,f=1/Math.sqrt(h*h+p*p+d*d),i=b*(d*=f)-y*(p*=f),a=y*(h*=f)-v*d,s=v*p-b*h,(f=Math.sqrt(i*i+a*a+s*s))?(i*=f=1/f,a*=f,s*=f):(i=0,a=0,s=0);c=p*s-d*a,u=d*i-h*s,l=h*a-p*i,(f=Math.sqrt(c*c+u*u+l*l))?(c*=f=1/f,u*=f,l*=f):(c=0,u=0,l=0);return t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=a,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=l,t[10]=d,t[11]=0,t[12]=-(i*m+a*g+s*_),t[13]=-(c*m+u*g+l*_),t[14]=-(h*m+p*g+d*_),t[15]=1,t}},{"./identity":18}],21:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],p=e[9],d=e[10],f=e[11],m=e[12],g=e[13],_=e[14],v=e[15],b=n[0],y=n[1],x=n[2],w=n[3];return t[0]=b*r+y*s+x*h+w*m,t[1]=b*o+y*c+x*p+w*g,t[2]=b*i+y*u+x*d+w*_,t[3]=b*a+y*l+x*f+w*v,t[4]=(b=n[4])*r+(y=n[5])*s+(x=n[6])*h+(w=n[7])*m,t[5]=b*o+y*c+x*p+w*g,t[6]=b*i+y*u+x*d+w*_,t[7]=b*a+y*l+x*f+w*v,t[8]=(b=n[8])*r+(y=n[9])*s+(x=n[10])*h+(w=n[11])*m,t[9]=b*o+y*c+x*p+w*g,t[10]=b*i+y*u+x*d+w*_,t[11]=b*a+y*l+x*f+w*v,t[12]=(b=n[12])*r+(y=n[13])*s+(x=n[14])*h+(w=n[15])*m,t[13]=b*o+y*c+x*p+w*g,t[14]=b*i+y*u+x*d+w*_,t[15]=b*a+y*l+x*f+w*v,t}},{}],22:[function(t,e,n){e.exports=function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}},{}],23:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},{}],24:[function(t,e,n){e.exports=function(t,e){var n=r(t[0],t[1],t[2]),a=r(e[0],e[1],e[2]);o(n,n),o(a,a);var s=i(n,a);return s>1?0:Math.acos(s)};var r=t("./fromValues"),o=t("./normalize"),i=t("./dot")},{"./dot":34,"./fromValues":40,"./normalize":51}],25:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},{}],26:[function(t,e,n){e.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],27:[function(t,e,n){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],28:[function(t,e,n){e.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},{}],29:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2];return t[0]=o*c-i*s,t[1]=i*a-r*c,t[2]=r*s-o*a,t}},{}],30:[function(t,e,n){e.exports=t("./distance")},{"./distance":31}],31:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}},{}],32:[function(t,e,n){e.exports=t("./divide")},{"./divide":33}],33:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},{}],34:[function(t,e,n){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},{}],35:[function(t,e,n){e.exports=1e-6},{}],36:[function(t,e,n){e.exports=function(t,e){var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],c=e[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=r*Math.max(1,Math.abs(i),Math.abs(c))};var r=t("./epsilon")},{"./epsilon":35}],37:[function(t,e,n){e.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},{}],38:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},{}],39:[function(t,e,n){e.exports=function(t,e,n,o,i,a){var s,c;e||(e=3);n||(n=0);c=o?Math.min(o*e+n,t.length):t.length;for(s=n;s<c;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t};var r=t("./create")()},{"./create":28}],40:[function(t,e,n){e.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},{}],41:[function(t,e,n){e.exports={EPSILON:t("./epsilon"),create:t("./create"),clone:t("./clone"),angle:t("./angle"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),equals:t("./equals"),exactEquals:t("./exactEquals"),add:t("./add"),subtract:t("./subtract"),sub:t("./sub"),multiply:t("./multiply"),mul:t("./mul"),divide:t("./divide"),div:t("./div"),min:t("./min"),max:t("./max"),floor:t("./floor"),ceil:t("./ceil"),round:t("./round"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),dist:t("./dist"),squaredDistance:t("./squaredDistance"),sqrDist:t("./sqrDist"),length:t("./length"),len:t("./len"),squaredLength:t("./squaredLength"),sqrLen:t("./sqrLen"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),cross:t("./cross"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformMat3:t("./transformMat3"),transformQuat:t("./transformQuat"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),forEach:t("./forEach")}},{"./add":23,"./angle":24,"./ceil":25,"./clone":26,"./copy":27,"./create":28,"./cross":29,"./dist":30,"./distance":31,"./div":32,"./divide":33,"./dot":34,"./epsilon":35,"./equals":36,"./exactEquals":37,"./floor":38,"./forEach":39,"./fromValues":40,"./inverse":42,"./len":43,"./length":44,"./lerp":45,"./max":46,"./min":47,"./mul":48,"./multiply":49,"./negate":50,"./normalize":51,"./random":52,"./rotateX":53,"./rotateY":54,"./rotateZ":55,"./round":56,"./scale":57,"./scaleAndAdd":58,"./set":59,"./sqrDist":60,"./sqrLen":61,"./squaredDistance":62,"./squaredLength":63,"./sub":64,"./subtract":65,"./transformMat3":66,"./transformMat4":67,"./transformQuat":68}],42:[function(t,e,n){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},{}],43:[function(t,e,n){e.exports=t("./length")},{"./length":44}],44:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},{}],45:[function(t,e,n){e.exports=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}},{}],46:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},{}],47:[function(t,e,n){e.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},{}],48:[function(t,e,n){e.exports=t("./multiply")},{"./multiply":49}],49:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},{}],50:[function(t,e,n){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},{}],51:[function(t,e,n){e.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},{}],52:[function(t,e,n){e.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}},{}],53:[function(t,e,n){e.exports=function(t,e,n,r){var o=n[1],i=n[2],a=e[1]-o,s=e[2]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=e[0],t[1]=o+a*u-s*c,t[2]=i+a*c+s*u,t}},{}],54:[function(t,e,n){e.exports=function(t,e,n,r){var o=n[0],i=n[2],a=e[0]-o,s=e[2]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=o+s*c+a*u,t[1]=e[1],t[2]=i+s*u-a*c,t}},{}],55:[function(t,e,n){e.exports=function(t,e,n,r){var o=n[0],i=n[1],a=e[0]-o,s=e[1]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=o+a*u-s*c,t[1]=i+a*c+s*u,t[2]=e[2],t}},{}],56:[function(t,e,n){e.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},{}],57:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},{}],58:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},{}],59:[function(t,e,n){e.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},{}],60:[function(t,e,n){e.exports=t("./squaredDistance")},{"./squaredDistance":62}],61:[function(t,e,n){e.exports=t("./squaredLength")},{"./squaredLength":63}],62:[function(t,e,n){e.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}},{}],63:[function(t,e,n){e.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},{}],64:[function(t,e,n){e.exports=t("./subtract")},{"./subtract":65}],65:[function(t,e,n){e.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},{}],66:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}},{}],67:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/(a=a||1),t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}},{}],68:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*i-c*o,h=u*o+c*r-a*i,p=u*i+a*o-s*r,d=-a*r-s*o-c*i;return t[0]=l*u+d*-a+h*-c-p*-s,t[1]=h*u+d*-s+p*-a-l*-c,t[2]=p*u+d*-c+l*-s-h*-a,t}},{}],69:[function(t,e,n){e.exports=function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}},{}],70:[function(t,e,n){e.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}},{}],71:[function(t,e,n){var r=t("vectors/normalize-nd");function o(t){for(var e=t.positions,n=t.cells,r=[],o=[],i={},a=0,s=0;s<n.length;s++){var c=n[s],u=e[c[0]],l=e[c[1]],h=e[c[2]],p=x(u,l),d=x(l,h),f=x(h,u),m=o.indexOf(p);-1===m&&(m=a++,o.push(p));var g=o.indexOf(d);-1===g&&(g=a++,o.push(d));var _=o.indexOf(f);-1===_&&(_=a++,o.push(f));var v=o.indexOf(u);-1===v&&(v=a++,o.push(u));var b=o.indexOf(l);-1===b&&(b=a++,o.push(l));var y=o.indexOf(h);-1===y&&(y=a++,o.push(h)),r.push([v,m,_]),r.push([b,g,m]),r.push([y,_,g]),r.push([m,g,_])}return{cells:r,positions:o};function x(t,e){var n=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}(t,e),r=function(t){return t[0].toPrecision(6)+","+t[1].toPrecision(6)+","+t[2].toPrecision(6)}(n),o=i[r];return o||(i[r]=n)}}e.exports=function(t){t=0|+t;var e=[],n=[],i=.5+Math.sqrt(5)/2;e.push([-1,+i,0]),e.push([1,+i,0]),e.push([-1,-i,0]),e.push([1,-i,0]),e.push([0,-1,+i]),e.push([0,1,+i]),e.push([0,-1,-i]),e.push([0,1,-i]),e.push([+i,0,-1]),e.push([+i,0,1]),e.push([-i,0,-1]),e.push([-i,0,1]),n.push([0,11,5]),n.push([0,5,1]),n.push([0,1,7]),n.push([0,7,10]),n.push([0,10,11]),n.push([1,5,9]),n.push([5,11,4]),n.push([11,10,2]),n.push([10,7,6]),n.push([7,1,8]),n.push([3,9,4]),n.push([3,4,2]),n.push([3,2,6]),n.push([3,6,8]),n.push([3,8,9]),n.push([4,9,5]),n.push([2,4,11]),n.push([6,2,10]),n.push([8,6,7]),n.push([9,8,1]);var a={cells:n,positions:e};for(;t-- >0;)a=o(a);e=a.positions;for(var s=0;s<e.length;s++)r(e[s]);return a}},{"vectors/normalize-nd":220}],72:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"DataView");e.exports=r},{"./_getNative":134,"./_root":172}],73:[function(t,e,n){var r=t("./_hashClear"),o=t("./_hashDelete"),i=t("./_hashGet"),a=t("./_hashHas"),s=t("./_hashSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_hashClear":140,"./_hashDelete":141,"./_hashGet":142,"./_hashHas":143,"./_hashSet":144}],74:[function(t,e,n){var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),i=t("./_listCacheGet"),a=t("./_listCacheHas"),s=t("./_listCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_listCacheClear":153,"./_listCacheDelete":154,"./_listCacheGet":155,"./_listCacheHas":156,"./_listCacheSet":157}],75:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Map");e.exports=r},{"./_getNative":134,"./_root":172}],76:[function(t,e,n){var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),a=t("./_mapCacheHas"),s=t("./_mapCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_mapCacheClear":158,"./_mapCacheDelete":159,"./_mapCacheGet":160,"./_mapCacheHas":161,"./_mapCacheSet":162}],77:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Promise");e.exports=r},{"./_getNative":134,"./_root":172}],78:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Set");e.exports=r},{"./_getNative":134,"./_root":172}],79:[function(t,e,n){var r=t("./_MapCache"),o=t("./_setCacheAdd"),i=t("./_setCacheHas");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},{"./_MapCache":76,"./_setCacheAdd":173,"./_setCacheHas":174}],80:[function(t,e,n){var r=t("./_ListCache"),o=t("./_stackClear"),i=t("./_stackDelete"),a=t("./_stackGet"),s=t("./_stackHas"),c=t("./_stackSet");function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},{"./_ListCache":74,"./_stackClear":178,"./_stackDelete":179,"./_stackGet":180,"./_stackHas":181,"./_stackSet":182}],81:[function(t,e,n){var r=t("./_root");e.exports=r.Symbol},{"./_root":172}],82:[function(t,e,n){var r=t("./_root");e.exports=r.Uint8Array},{"./_root":172}],83:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"WeakMap");e.exports=r},{"./_getNative":134,"./_root":172}],84:[function(t,e,n){e.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},{}],85:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},{}],86:[function(t,e,n){var r=t("./_baseTimes"),o=t("./isArguments"),i=t("./isArray"),a=t("./isBuffer"),s=t("./_isIndex"),c=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=i(t),l=!n&&o(t),h=!n&&!l&&a(t),p=!n&&!l&&!h&&c(t),d=n||l||h||p,f=d?r(t.length,String):[],m=f.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},{"./_baseTimes":116,"./_isIndex":146,"./isArguments":191,"./isArray":192,"./isBuffer":194,"./isTypedArray":200}],87:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},{}],88:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},{}],89:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],90:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":187}],91:[function(t,e,n){var r=t("./_baseForOwn"),o=t("./_createBaseEach")(r);e.exports=o},{"./_baseForOwn":94,"./_createBaseEach":124}],92:[function(t,e,n){var r=t("./_arrayPush"),o=t("./_isFlattenable");e.exports=function t(e,n,i,a,s){var c=-1,u=e.length;for(i||(i=o),s||(s=[]);++c<u;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},{"./_arrayPush":88,"./_isFlattenable":145}],93:[function(t,e,n){var r=t("./_createBaseFor")();e.exports=r},{"./_createBaseFor":125}],94:[function(t,e,n){var r=t("./_baseFor"),o=t("./keys");e.exports=function(t,e){return t&&r(t,e,o)}},{"./_baseFor":93,"./keys":201}],95:[function(t,e,n){var r=t("./_castPath"),o=t("./_toKey");e.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},{"./_castPath":120,"./_toKey":184}],96:[function(t,e,n){var r=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},{"./_arrayPush":88,"./isArray":192}],97:[function(t,e,n){var r=t("./_Symbol"),o=t("./_getRawTag"),i=t("./_objectToString"),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:a:c&&c in Object(t)?o(t):i(t)}},{"./_Symbol":81,"./_getRawTag":135,"./_objectToString":169}],98:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],99:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Arguments]";e.exports=function(t){return o(t)&&r(t)==i}},{"./_baseGetTag":97,"./isObjectLike":198}],100:[function(t,e,n){var r=t("./_baseIsEqualDeep"),o=t("./isObjectLike");e.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},{"./_baseIsEqualDeep":101,"./isObjectLike":198}],101:[function(t,e,n){var r=t("./_Stack"),o=t("./_equalArrays"),i=t("./_equalByTag"),a=t("./_equalObjects"),s=t("./_getTag"),c=t("./isArray"),u=t("./isBuffer"),l=t("./isTypedArray"),h=1,p="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,g,_,v){var b=c(t),y=c(e),x=b?d:s(t),w=y?d:s(e),k=(x=x==p?f:x)==f,A=(w=w==p?f:w)==f,C=x==w;if(C&&u(t)){if(!u(e))return!1;b=!0,k=!1}if(C&&!k)return v||(v=new r),b||l(t)?o(t,e,n,g,_,v):i(t,e,x,n,g,_,v);if(!(n&h)){var E=k&&m.call(t,"__wrapped__"),S=A&&m.call(e,"__wrapped__");if(E||S){var M=E?t.value():t,j=S?e.value():e;return v||(v=new r),_(M,j,n,g,v)}}return!!C&&(v||(v=new r),a(t,e,n,g,_,v))}},{"./_Stack":80,"./_equalArrays":127,"./_equalByTag":128,"./_equalObjects":129,"./_getTag":137,"./isArray":192,"./isBuffer":194,"./isTypedArray":200}],102:[function(t,e,n){var r=t("./_Stack"),o=t("./_baseIsEqual"),i=1,a=2;e.exports=function(t,e,n,s){var c=n.length,u=c,l=!s;if(null==t)return!u;for(t=Object(t);c--;){var h=n[c];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++c<u;){var p=(h=n[c])[0],d=t[p],f=h[1];if(l&&h[2]){if(void 0===d&&!(p in t))return!1}else{var m=new r;if(s)var g=s(d,f,p,t,e,m);if(!(void 0===g?o(f,d,i|a,s,m):g))return!1}}return!0}},{"./_Stack":80,"./_baseIsEqual":100}],103:[function(t,e,n){var r=t("./isFunction"),o=t("./_isMasked"),i=t("./isObject"),a=t("./_toSource"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=RegExp("^"+c.toString.call(u.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!i(t)||o(t))&&(r(t)?l:s).test(a(t))}},{"./_isMasked":150,"./_toSource":185,"./isFunction":195,"./isObject":197}],104:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isLength"),i=t("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},{"./_baseGetTag":97,"./isLength":196,"./isObjectLike":198}],105:[function(t,e,n){var r=t("./_baseMatches"),o=t("./_baseMatchesProperty"),i=t("./identity"),a=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},{"./_baseMatches":108,"./_baseMatchesProperty":109,"./identity":190,"./isArray":192,"./property":203}],106:[function(t,e,n){var r=t("./_isPrototype"),o=t("./_nativeKeys"),i=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},{"./_isPrototype":151,"./_nativeKeys":167}],107:[function(t,e,n){var r=t("./_baseEach"),o=t("./isArrayLike");e.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}},{"./_baseEach":91,"./isArrayLike":193}],108:[function(t,e,n){var r=t("./_baseIsMatch"),o=t("./_getMatchData"),i=t("./_matchesStrictComparable");e.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},{"./_baseIsMatch":102,"./_getMatchData":133,"./_matchesStrictComparable":164}],109:[function(t,e,n){var r=t("./_baseIsEqual"),o=t("./get"),i=t("./hasIn"),a=t("./_isKey"),s=t("./_isStrictComparable"),c=t("./_matchesStrictComparable"),u=t("./_toKey"),l=1,h=2;e.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,l|h)}}},{"./_baseIsEqual":100,"./_isKey":148,"./_isStrictComparable":152,"./_matchesStrictComparable":164,"./_toKey":184,"./get":188,"./hasIn":189}],110:[function(t,e,n){var r=t("./_arrayMap"),o=t("./_baseIteratee"),i=t("./_baseMap"),a=t("./_baseSortBy"),s=t("./_baseUnary"),c=t("./_compareMultiple"),u=t("./identity");e.exports=function(t,e,n){var l=-1;e=r(e.length?e:[u],s(o));var h=i(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(h,function(t,e){return c(t,e,n)})}},{"./_arrayMap":87,"./_baseIteratee":105,"./_baseMap":107,"./_baseSortBy":115,"./_baseUnary":118,"./_compareMultiple":122,"./identity":190}],111:[function(t,e,n){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],112:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t){return function(e){return r(e,t)}}},{"./_baseGet":95}],113:[function(t,e,n){var r=t("./identity"),o=t("./_overRest"),i=t("./_setToString");e.exports=function(t,e){return i(o(t,e,r),t+"")}},{"./_overRest":171,"./_setToString":176,"./identity":190}],114:[function(t,e,n){var r=t("./constant"),o=t("./_defineProperty"),i=t("./identity");e.exports=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i},{"./_defineProperty":126,"./constant":186,"./identity":190}],115:[function(t,e,n){e.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},{}],116:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],117:[function(t,e,n){var r=t("./_Symbol"),o=t("./_arrayMap"),i=t("./isArray"),a=t("./isSymbol"),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},{"./_Symbol":81,"./_arrayMap":87,"./isArray":192,"./isSymbol":199}],118:[function(t,e,n){e.exports=function(t){return function(e){return t(e)}}},{}],119:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],120:[function(t,e,n){var r=t("./isArray"),o=t("./_isKey"),i=t("./_stringToPath"),a=t("./toString");e.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},{"./_isKey":148,"./_stringToPath":183,"./isArray":192,"./toString":207}],121:[function(t,e,n){var r=t("./isSymbol");e.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),s=void 0!==e,c=null===e,u=e==e,l=r(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}},{"./isSymbol":199}],122:[function(t,e,n){var r=t("./_compareAscending");e.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,c=n.length;++o<s;){var u=r(i[o],a[o]);if(u)return o>=c?u:u*("desc"==n[o]?-1:1)}return t.index-e.index}},{"./_compareAscending":121}],123:[function(t,e,n){var r=t("./_root");e.exports=r["__core-js_shared__"]},{"./_root":172}],124:[function(t,e,n){var r=t("./isArrayLike");e.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},{"./isArrayLike":193}],125:[function(t,e,n){e.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}},{}],126:[function(t,e,n){var r=t("./_getNative"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=o},{"./_getNative":134}],127:[function(t,e,n){var r=t("./_SetCache"),o=t("./_arraySome"),i=t("./_cacheHas"),a=1,s=2;e.exports=function(t,e,n,c,u,l){var h=n&a,p=t.length,d=e.length;if(p!=d&&!(h&&d>p))return!1;var f=l.get(t);if(f&&l.get(e))return f==e;var m=-1,g=!0,_=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++m<p;){var v=t[m],b=e[m];if(c)var y=h?c(b,v,m,e,t,l):c(v,b,m,t,e,l);if(void 0!==y){if(y)continue;g=!1;break}if(_){if(!o(e,function(t,e){if(!i(_,e)&&(v===t||u(v,t,n,c,l)))return _.push(e)})){g=!1;break}}else if(v!==b&&!u(v,b,n,c,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},{"./_SetCache":79,"./_arraySome":89,"./_cacheHas":119}],128:[function(t,e,n){var r=t("./_Symbol"),o=t("./_Uint8Array"),i=t("./eq"),a=t("./_equalArrays"),s=t("./_mapToArray"),c=t("./_setToArray"),u=1,l=2,h="[object Boolean]",p="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;e.exports=function(t,e,n,r,w,A,C){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y:return!(t.byteLength!=e.byteLength||!A(new o(t),new o(e)));case h:case p:case m:return i(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case v:return t==e+"";case f:var E=s;case _:if(E||(E=c),t.size!=e.size&&!(r&u))return!1;var S=C.get(t);if(S)return S==e;r|=l,C.set(t,e);var M=a(E(t),E(e),r,w,A,C);return C.delete(t),M;case b:if(k)return k.call(t)==k.call(e)}return!1}},{"./_Symbol":81,"./_Uint8Array":82,"./_equalArrays":127,"./_mapToArray":163,"./_setToArray":175,"./eq":187}],129:[function(t,e,n){var r=t("./_getAllKeys"),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,a,s,c){var u=n&o,l=r(t),h=l.length;if(h!=r(e).length&&!u)return!1;for(var p=h;p--;){var d=l[p];if(!(u?d in e:i.call(e,d)))return!1}var f=c.get(t);if(f&&c.get(e))return f==e;var m=!0;c.set(t,e),c.set(e,t);for(var g=u;++p<h;){var _=t[d=l[p]],v=e[d];if(a)var b=u?a(v,_,d,e,t,c):a(_,v,d,t,e,c);if(!(void 0===b?_===v||s(_,v,n,a,c):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(m=!1)}return c.delete(t),c.delete(e),m}},{"./_getAllKeys":131}],130:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],131:[function(t,e,n){var r=t("./_baseGetAllKeys"),o=t("./_getSymbols"),i=t("./keys");e.exports=function(t){return r(t,i,o)}},{"./_baseGetAllKeys":96,"./_getSymbols":136,"./keys":201}],132:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},{"./_isKeyable":149}],133:[function(t,e,n){var r=t("./_isStrictComparable"),o=t("./keys");e.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},{"./_isStrictComparable":152,"./keys":201}],134:[function(t,e,n){var r=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},{"./_baseIsNative":103,"./_getValue":138}],135:[function(t,e,n){var r=t("./_Symbol"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},{"./_Symbol":81}],136:[function(t,e,n){var r=t("./_arrayFilter"),o=t("./stubArray"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o},{"./_arrayFilter":85,"./stubArray":205}],137:[function(t,e,n){var r=t("./_DataView"),o=t("./_Map"),i=t("./_Promise"),a=t("./_Set"),s=t("./_WeakMap"),c=t("./_baseGetTag"),u=t("./_toSource"),l=u(r),h=u(o),p=u(i),d=u(a),f=u(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),e.exports=m},{"./_DataView":72,"./_Map":75,"./_Promise":77,"./_Set":78,"./_WeakMap":83,"./_baseGetTag":97,"./_toSource":185}],138:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],139:[function(t,e,n){var r=t("./_castPath"),o=t("./isArguments"),i=t("./isArray"),a=t("./_isIndex"),s=t("./isLength"),c=t("./_toKey");e.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,h=!1;++u<l;){var p=c(e[u]);if(!(h=null!=t&&n(t,p)))break;t=t[p]}return h||++u!=l?h:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(i(t)||o(t))}},{"./_castPath":120,"./_isIndex":146,"./_toKey":184,"./isArguments":191,"./isArray":192,"./isLength":196}],140:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":166}],141:[function(t,e,n){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],142:[function(t,e,n){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},{"./_nativeCreate":166}],143:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":166}],144:[function(t,e,n){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},{"./_nativeCreate":166}],145:[function(t,e,n){var r=t("./_Symbol"),o=t("./isArguments"),i=t("./isArray"),a=r?r.isConcatSpreadable:void 0;e.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},{"./_Symbol":81,"./isArguments":191,"./isArray":192}],146:[function(t,e,n){var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}},{}],147:[function(t,e,n){var r=t("./eq"),o=t("./isArrayLike"),i=t("./_isIndex"),a=t("./isObject");e.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},{"./_isIndex":146,"./eq":187,"./isArrayLike":193,"./isObject":197}],148:[function(t,e,n){var r=t("./isArray"),o=t("./isSymbol"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},{"./isArray":192,"./isSymbol":199}],149:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],150:[function(t,e,n){var r,o=t("./_coreJsData"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(t){return!!i&&i in t}},{"./_coreJsData":123}],151:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],152:[function(t,e,n){var r=t("./isObject");e.exports=function(t){return t==t&&!r(t)}},{"./isObject":197}],153:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],154:[function(t,e,n){var r=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},{"./_assocIndexOf":90}],155:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},{"./_assocIndexOf":90}],156:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return r(this.__data__,t)>-1}},{"./_assocIndexOf":90}],157:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},{"./_assocIndexOf":90}],158:[function(t,e,n){var r=t("./_Hash"),o=t("./_ListCache"),i=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},{"./_Hash":73,"./_ListCache":74,"./_Map":75}],159:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":132}],160:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":132}],161:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":132}],162:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},{"./_getMapData":132}],163:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},{}],164:[function(t,e,n){e.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},{}],165:[function(t,e,n){var r=t("./memoize"),o=500;e.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},{"./memoize":202}],166:[function(t,e,n){var r=t("./_getNative")(Object,"create");e.exports=r},{"./_getNative":134}],167:[function(t,e,n){var r=t("./_overArg")(Object.keys,Object);e.exports=r},{"./_overArg":170}],168:[function(t,e,n){var r=t("./_freeGlobal"),o="object"==typeof n&&n&&!n.nodeType&&n,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":130}],169:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],170:[function(t,e,n){e.exports=function(t,e){return function(n){return t(e(n))}}},{}],171:[function(t,e,n){var r=t("./_apply"),o=Math.max;e.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=n(c),r(t,this,u)}}},{"./_apply":84}],172:[function(t,e,n){var r=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},{"./_freeGlobal":130}],173:[function(t,e,n){var r="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,r),this}},{}],174:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],175:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],176:[function(t,e,n){var r=t("./_baseSetToString"),o=t("./_shortOut")(r);e.exports=o},{"./_baseSetToString":114,"./_shortOut":177}],177:[function(t,e,n){var r=800,o=16,i=Date.now;e.exports=function(t){var e=0,n=0;return function(){var a=i(),s=o-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},{}],178:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":74}],179:[function(t,e,n){e.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},{}],180:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],181:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],182:[function(t,e,n){var r=t("./_ListCache"),o=t("./_Map"),i=t("./_MapCache"),a=200;e.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":74,"./_Map":75,"./_MapCache":76}],183:[function(t,e,n){var r=t("./_memoizeCapped"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});e.exports=a},{"./_memoizeCapped":165}],184:[function(t,e,n){var r=t("./isSymbol"),o=1/0;e.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},{"./isSymbol":199}],185:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],186:[function(t,e,n){e.exports=function(t){return function(){return t}}},{}],187:[function(t,e,n){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],188:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},{"./_baseGet":95}],189:[function(t,e,n){var r=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,r)}},{"./_baseHasIn":98,"./_hasPath":139}],190:[function(t,e,n){e.exports=function(t){return t}},{}],191:[function(t,e,n){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};e.exports=c},{"./_baseIsArguments":99,"./isObjectLike":198}],192:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],193:[function(t,e,n){var r=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},{"./isFunction":195,"./isLength":196}],194:[function(t,e,n){var r=t("./_root"),o=t("./stubFalse"),i="object"==typeof n&&n&&!n.nodeType&&n,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0;e.exports=(s?s.isBuffer:void 0)||o},{"./_root":172,"./stubFalse":206}],195:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObject"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==c}},{"./_baseGetTag":97,"./isObject":197}],196:[function(t,e,n){var r=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},{}],197:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],198:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],199:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},{"./_baseGetTag":97,"./isObjectLike":198}],200:[function(t,e,n){var r=t("./_baseIsTypedArray"),o=t("./_baseUnary"),i=t("./_nodeUtil"),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},{"./_baseIsTypedArray":104,"./_baseUnary":118,"./_nodeUtil":168}],201:[function(t,e,n){var r=t("./_arrayLikeKeys"),o=t("./_baseKeys"),i=t("./isArrayLike");e.exports=function(t){return i(t)?r(t):o(t)}},{"./_arrayLikeKeys":86,"./_baseKeys":106,"./isArrayLike":193}],202:[function(t,e,n){var r=t("./_MapCache"),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},{"./_MapCache":76}],203:[function(t,e,n){var r=t("./_baseProperty"),o=t("./_basePropertyDeep"),i=t("./_isKey"),a=t("./_toKey");e.exports=function(t){return i(t)?r(a(t)):o(t)}},{"./_baseProperty":111,"./_basePropertyDeep":112,"./_isKey":148,"./_toKey":184}],204:[function(t,e,n){var r=t("./_baseFlatten"),o=t("./_baseOrderBy"),i=t("./_baseRest"),a=t("./_isIterateeCall"),s=i(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])});e.exports=s},{"./_baseFlatten":92,"./_baseOrderBy":110,"./_baseRest":113,"./_isIterateeCall":147}],205:[function(t,e,n){e.exports=function(){return[]}},{}],206:[function(t,e,n){e.exports=function(){return!1}},{}],207:[function(t,e,n){var r=t("./_baseToString");e.exports=function(t){return null==t?"":r(t)}},{"./_baseToString":117}],208:[function(t,e,n){e.exports=t("./lib/camera-perspective")},{"./lib/camera-perspective":211}],209:[function(t,e,n){var r=t("object-assign"),o=t("ray-3d"),i=t("camera-project"),a=t("camera-unproject"),s=t("./camera-look-at"),c=t("camera-picking-ray"),u=t("gl-vec3/add"),l=t("gl-mat4/multiply"),h=t("gl-mat4/invert"),p=t("gl-mat4/identity"),d=t("gl-vec3/set");e.exports=function(t){t=t||{};var e={projection:p([]),view:p([]),position:t.position||[0,0,0],direction:t.direction||[0,0,-1],up:t.up||[0,1,0],viewport:t.viewport||[-1,-1,1,1],projView:p([]),invProjView:p([])};return r(e,{translate:function(t){return u(e.position,e.position,t),e},identity:function(){return d(e.position,0,0,0),d(e.direction,0,0,-1),d(e.up,0,1,0),p(e.view),p(e.projection),p(e.projView),p(e.invProjView),e},lookAt:function(t){return s(e.direction,e.up,e.position,t),e},createPickingRay:function(t){var n=new o;return c(n.origin,n.direction,t,e.viewport,e.invProjView),n},update:function(){if(l(e.projView,e.projection,e.view),!h(e.invProjView,e.projView))throw new Error("camera projection * view is non-invertible")},project:function(t){return i([],t,e.viewport,e.projView)},unproject:function(t){return a([],t,e.viewport,e.invProjView)}})}},{"./camera-look-at":210,"camera-picking-ray":1,"camera-project":2,"camera-unproject":3,"gl-mat4/identity":18,"gl-mat4/invert":19,"gl-mat4/multiply":21,"gl-vec3/add":23,"gl-vec3/set":59,"object-assign":212,"ray-3d":213}],210:[function(t,e,n){var r=t("gl-vec3/cross"),o=t("gl-vec3/subtract"),i=t("gl-vec3/normalize"),a=t("gl-vec3/copy"),s=t("gl-vec3/dot"),c=t("gl-vec3/scale"),u=[0,0,0];e.exports=function(t,e,n,l){if(o(u,l,n),i(u,u),!(0===u[0]&&0===u[1]&&0===u[2])){var h=s(u,e);Math.abs(h-1)<1e-9?c(e,t,-1):Math.abs(h+1)<1e-9&&a(e,t),a(t,u),r(u,t,e),i(u,u),r(e,u,t),i(e,e)}}},{"gl-vec3/copy":27,"gl-vec3/cross":29,"gl-vec3/dot":34,"gl-vec3/normalize":51,"gl-vec3/scale":57,"gl-vec3/subtract":65}],211:[function(t,e,n){var r=t("./camera-base"),o=t("object-assign"),i=t("defined"),a=t("gl-mat4/perspective"),s=t("gl-mat4/lookAt"),c=t("gl-vec3/add");e.exports=function(t){var e=r(t=t||{});e.fov=i(t.fov,Math.PI/4),e.near=i(t.near,1),e.far=i(t.far,100);var n=[0,0,0],u=e.update;function l(){return a(e.projection,e.fov,e.viewport[2]/e.viewport[3],Math.abs(e.near),Math.abs(e.far)),c(n,e.position,e.direction),s(e.view,e.position,n,e.up),u(),e}return l(),o(e,{update:l})}},{"./camera-base":209,defined:16,"gl-mat4/lookAt":20,"gl-mat4/perspective":22,"gl-vec3/add":23,"object-assign":212}],212:[function(t,e,n){"use strict";e.exports=Object.assign||function(t,e){for(var n,r,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){n=arguments[i],r=Object.keys(Object(n));for(var a=0;a<r.length;a++)o[r[a]]=n[r[a]]}return o}},{}],213:[function(t,e,n){var r=t("ray-triangle-intersection"),o=t("ray-plane-intersection"),i=t("ray-sphere-intersection"),a=t("ray-aabb-intersection"),s=t("gl-vec3/copy"),c=[[0,0,0],[0,0,0],[0,0,0]],u=[0,0,0];function l(t,e){this.origin=t||[0,0,0],this.direction=e||[0,0,-1]}e.exports=l,l.prototype.set=function(t,e){this.origin=t,this.direction=e},l.prototype.copy=function(t){s(this.origin,t.origin),s(this.direction,t.direction)},l.prototype.clone=function(){var t=new l;return t.copy(this),t},l.prototype.intersectsSphere=function(t,e){return i(u,this.origin,this.direction,t,e)},l.prototype.intersectsPlane=function(t,e){return o(u,this.origin,this.direction,t,e)},l.prototype.intersectsTriangle=function(t){return r(u,this.origin,this.direction,t)},l.prototype.intersectsBox=function(t){return a(u,this.origin,this.direction,t)},l.prototype.intersectsTriangleCell=function(t,e){var n=t[1],r=t[2];return c[0]=e[t[0]],c[1]=e[n],c[2]=e[r],this.intersectsTriangle(c)}},{"gl-vec3/copy":27,"ray-aabb-intersection":214,"ray-plane-intersection":215,"ray-sphere-intersection":216,"ray-triangle-intersection":217}],214:[function(t,e,n){function r(t,e,n){for(var r=t.length,o=-Infinity,i=Infinity,a=0;a<r;a++){var s=(n[0][a]-t[a])/e[a],c=(n[1][a]-t[a])/e[a];if(s>c){var u=s;s=c,c=u}if(c<o||s>i)return Infinity;s>o&&(o=s),c<i&&(i=c)}return o>i?Infinity:o}e.exports=function(t,e,n,o){var i=r(e,n,o);if(Infinity===i)t=null;else{t=t||[];for(var a=0;a<e.length;a++)t[a]=e[a]+n[a]*i}return t},e.exports.distance=r},{}],215:[function(t,e,n){var r=t("gl-vec3/dot"),o=t("gl-vec3/add"),i=t("gl-vec3/scale"),a=t("gl-vec3/copy");e.exports=function(t,e,n,c,u){var l=r(n,c);if(0!==l){var h=-(r(e,c)+u)/l;return h<0?null:(i(s,n,h),o(t,e,s))}return r(c,e)+u===0?a(t,e):null};var s=[0,0,0]},{"gl-vec3/add":23,"gl-vec3/copy":27,"gl-vec3/dot":34,"gl-vec3/scale":57}],216:[function(t,e,n){var r=t("gl-vec3/squaredDistance"),o=t("gl-vec3/dot"),i=t("gl-vec3/subtract"),a=t("gl-vec3/scaleAndAdd"),s=t("gl-vec3/scale"),c=t("gl-vec3/add"),u=[0,0,0];e.exports=function(t,e,n,l,h){i(u,l,e);var p=o(n,u);if(p<0)return null;a(u,e,n,p);var d=r(l,u),f=h*h;if(d>f)return null;return s(t,n,p-Math.sqrt(f-d)),c(t,t,e)}},{"gl-vec3/add":23,"gl-vec3/dot":34,"gl-vec3/scale":57,"gl-vec3/scaleAndAdd":58,"gl-vec3/squaredDistance":62,"gl-vec3/subtract":65}],217:[function(t,e,n){var r=t("gl-vec3/cross"),o=t("gl-vec3/dot"),i=t("gl-vec3/subtract"),a=1e-6,s=[0,0,0],c=[0,0,0],u=[0,0,0],l=[0,0,0],h=[0,0,0];e.exports=function(t,e,n,p){i(s,p[1],p[0]),i(c,p[2],p[0]),r(l,n,c);var d=o(s,l);if(d<a)return null;i(u,e,p[0]);var f=o(u,l);if(f<0||f>d)return null;r(h,u,s);var m=o(n,h);if(m<0||f+m>d)return null;var g=o(c,h)/d;return t[0]=e[0]+g*n[0],t[1]=e[1]+g*n[1],t[2]=e[2]+g*n[2],t}},{"gl-vec3/cross":29,"gl-vec3/dot":34,"gl-vec3/subtract":65}],218:[function(t,e,n){"use strict";var r=t("is-arrayish"),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=o.call(e,i.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},{"is-arrayish":219}],219:[function(t,e,n){e.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},{}],220:[function(t,e,n){e.exports=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]*t[n];if(0===(e=Math.sqrt(e)))return Array.apply(null,new Array(t.length)).map(Number.prototype.valueOf,0);for(var n=0;n<t.length;n++)t[n]/=e;return t}},{}],221:[function(t,e,n){const r=t("canvas-sketch"),{GUI:o}=t("dat-gui"),i=t("color"),a=t("perspective-camera"),s=t("icosphere"),c=t("lodash/sortBy"),u=t("get-plane-normal"),{normalize:l,dot:h,subtract:p,add:d,scale:f}=t("gl-vec3"),m=2048,g=2048,_={subdivisions:0,gridSize:9,lightSpeed:4,cameraSpeed:1,lineWidth:3,showEdges:!0,opacity:5,dist:3.5,color:"#6DA67A"},v=new o;let b,y;function x(){b=new Array(_.gridSize*_.gridSize).fill().map(()=>{const t=a({viewport:[0,0,m,g]});return t.identity(),t});const t=s(_.subdivisions);y=t.cells.map(e=>({positions:e.map(e=>t.positions[e]),color:_.color}))}v.add(_,"subdivisions",0,3).step(1).onChange(x),v.add(_,"gridSize",1,10).step(1).onChange(x),v.add(_,"opacity",0,100).step(1),v.add(_,"lightSpeed",0,10).step(1),v.add(_,"cameraSpeed",0,10).step(1),v.add(_,"dist",1,10),v.add(_,"lineWidth",1,10),v.add(_,"showEdges");r(()=>(x(),({context:t,width:e,height:n,time:r})=>{const o=1e3*r;t.fillStyle="white",t.fillRect(0,0,e,n);const a=o/3e3*_.lightSpeed,s=[0*_.dist,Math.cos(a)*_.dist,Math.sin(a)*_.dist];b.forEach((a,m)=>{const g=o/1e4*_.cameraSpeed,v=m*(.5*Math.cos(.5*r+Math.PI/2)+.5)*.5,b=[Math.cos(g+v)*_.dist,Math.sin(g+v)*_.dist/2,Math.sin(g+v)*_.dist];a.identity(),a.translate(b),a.lookAt([0,0,0]),a.update(),y=y.map(t=>({...t,points:t.positions.map(t=>a.project(t))})),y=(y=c(y,({points:t})=>Math.min(...t.map(t=>t[2])))).map(t=>{const{color:e,positions:n}=t,r=function(t){const e=[0,0,0];return t.forEach(t=>d(e,e,t)),f(e,e,1/t.length)}(n),o=l([],p([],s,r)),a=u([],...n),c=h(o,a),m=.5*Math.pow(Math.max(0,c),.75);return{...t,litColor:i(e).lighten(m).alpha(_.opacity/100).toString()}});const x=[m%_.gridSize,m/_.gridSize|0],w=[x[0]/_.gridSize*e,x[1]/_.gridSize*n],k=[e/_.gridSize,n/_.gridSize];t.save(),t.beginPath(),t.rect(w[0],w[1],k[0],k[1]),t.clip(),y.reverse().forEach(({points:e,litColor:n})=>(function(t,e,n){if(t.fillStyle=n,t.lineWidth=_.lineWidth,t.beginPath(),t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.lineTo(e[0][0],e[0][1]),t.fill(),_.showEdges)for(let n=0;n<e.length;n++){const r=e[n],o=e[(n+1)%e.length];t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(o[0],o[1]);const i=t.createLinearGradient(r[0],r[1],o[0],o[1]);i.addColorStop(0,"rgba(30, 30, 30, 0.4)"),i.addColorStop(.5,"rgba(30, 30, 30, 0)"),i.addColorStop(1,"rgba(30, 30, 30, 0.4)"),t.strokeStyle=i,t.stroke()}})(t,e,n)),t.restore()})}),{dimensions:[m,g],animate:!0})},{"canvas-sketch":5,color:11,"dat-gui":13,"get-plane-normal":17,"gl-vec3":41,icosphere:71,"lodash/sortBy":204,"perspective-camera":208}],222:[function(t,e,n){(function(t){t.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[221,222]);</script>