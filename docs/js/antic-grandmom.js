!function(){function t(e,n,o){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return r(e[s][1][t]||t)},c,c.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}return t}()({1:[function(t,e,n){!function(t,o){"object"==typeof n?e.exports=o():"function"==typeof define&&define.amd?define(o):t.Alea=o()}(this,function(){"use strict";function t(){return function(t){var n=0,o=0,r=0,i=1;0==t.length&&(t=[+new Date]);var s=e();n=s(" "),o=s(" "),r=s(" ");for(var a=0;a<t.length;a++)n-=s(t[a]),n<0&&(n+=1),o-=s(t[a]),o<0&&(o+=1),(r-=s(t[a]))<0&&(r+=1);s=null;var l=function(){var t=2091639*n+2.3283064365386963e-10*i;return n=o,o=r,r=t-(i=0|t)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+1.1102230246251565e-16*(2097152*l()|0)},l.version="Alea 0.9",l.args=t,l.exportState=function(){return[n,o,r,i]},l.importState=function(t){n=+t[0]||0,o=+t[1]||0,r=+t[2]||0,i=+t[3]||0},l}(Array.prototype.slice.call(arguments))}function e(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var o=.02519603282416938*t;t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=4294967296*o}return 2.3283064365386963e-10*(t>>>0)};return e.version="Mash 0.9",e}return t.importState=function(e){var n=new t;return n.importState(e),n},t})},{}],2:[function(t,e,n){!function(t,o){"object"==typeof n&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o(t.d3=t.d3||{})}(this,function(t){"use strict";var e=function(){return Math.random()},n=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(e),o=function t(e){function n(t,n){var o,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=o)i=o,o=null;else do{o=2*e()-1,i=2*e()-1,r=o*o+i*i}while(!r||r>1);return t+n*i*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(e),r=function t(e){function n(){var t=o.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(e),i=function t(e){function n(t){return function(){for(var n=0,o=0;o<t;++o)n+=e();return n}}return n.source=t,n}(e),s=function t(e){function n(t){var n=i.source(e)(t);return function(){return n()/t}}return n.source=t,n}(e),a=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(e);t.randomUniform=n,t.randomNormal=o,t.randomLogNormal=r,t.randomBates=s,t.randomIrwinHall=i,t.randomExponential=a,Object.defineProperty(t,"__esModule",{value:!0})})},{}],3:[function(t,e,n){e.exports=t(5),e.exports.color=t(4)},{4:4,5:5}],4:[function(t,e,n){var o=e.exports=o||{};o.color=o.color||{},o.utils=o.utils||{},o.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),o=t.length-1;o>=0;o--)n=[t[o].apply(this,n)];return n[0]}},each:function(e,n,o){if(t&&e.forEach===t)e.forEach(n,o);else if(e.length===e.length+0){for(var r=0,i=e.length;r<i;r++)if(r in e&&n.call(o,e[r],r)===this.BREAK)return}else for(var r in e)if(n.call(o,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),o.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(o.utils.common),o.Color=o.color.Color=function(t,e,n,o){function r(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(s(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(s(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function i(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function s(t,n,r){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";o.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);o.extend(t.__state,{s:n.s,v:n.v}),o.isNaN(n.h)?o.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var l=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],o.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),i(l.prototype,"h"),i(l.prototype,"s"),i(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(o.color.interpret=function(t,e){var n,o,r=function(){o=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(i,function(r){if(r.litmus(t))return e.each(r.conversions,function(r,i){if(n=r.read(t),!1===o&&!1!==n)return o=n,n.conversionName=i,n.conversion=r,e.BREAK}),e.BREAK}),o},i=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(o.color.toString,o.utils.common),o.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var o=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),i=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=[[n,a,i],[s,n,i],[i,n,a],[i,s,n],[a,i,n],[n,i,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,n){var o,r,i=Math.min(t,e,n),s=Math.max(t,e,n),a=s-i;return 0==s?{h:NaN,s:0,v:0}:(r=a/s,o=t==s?(e-n)/a:e==s?2+(n-t)/a:4+(t-e)/a,o/=6,o<0&&(o+=1),{h:360*o,s:r,v:s/255})},rgb_to_hex:function(t,e,n){var o=this.hex_with_component(0,2,t);return o=this.hex_with_component(o,1,e),o=this.hex_with_component(o,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,o){return o<<(t=8*n)|e&~(255<<t)}}}(),o.color.toString,o.utils.common)},{}],5:[function(t,e,n){var o=e.exports=o||{};o.gui=o.gui||{},o.utils=o.utils||{},o.controllers=o.controllers||{},o.dom=o.dom||{},o.color=o.color||{},o.utils.css=function(){return{load:function(t,e){e=e||document;var n=e.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){e=e||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(n)}}}(),o.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),o=t.length-1;o>=0;o--)n=[t[o].apply(this,n)];return n[0]}},each:function(e,n,o){if(t&&e.forEach===t)e.forEach(n,o);else if(e.length===e.length+0){for(var r=0,i=e.length;r<i;r++)if(r in e&&n.call(o,e[r],r)===this.BREAK)return}else for(var r in e)if(n.call(o,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),o.controllers.Controller=function(t){var e=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(e.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),e}(o.utils.common),o.dom.dom=function(t){function e(e){if("0"===e||t.isUndefined(e))return 0;var n=e.match(r);return t.isNull(n)?0:parseFloat(n[1])}var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},o={};t.each(n,function(e,n){t.each(e,function(t){o[t]=n})});var r=/(\d+(\.\d+)?)px/,i={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,n,o){t.isUndefined(n)&&(n=!0),t.isUndefined(o)&&(o=!0),e.style.position="absolute",n&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,n,r,i){r=r||{};var s=o[n];if(!s)throw new Error("Event type "+n+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":var l=r.x||r.clientX||0,u=r.y||r.clientY||0;a.initMouseEvent(n,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;t.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(n,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(n,r.bubbles||!1,r.cancelable||!0)}t.defaults(a,i),e.dispatchEvent(a)},bind:function(t,e,n,o){return o=o||!1,t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on"+e,n),i},unbind:function(t,e,n,o){return o=o||!1,t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent&&t.detachEvent("on"+e,n),i},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1==n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return i},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),o=n.indexOf(e);-1!=o&&(n.splice(o,1),t.className=n.join(" "))}else t.className=void 0;return i},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var n=getComputedStyle(t);return e(n["border-left-width"])+e(n["border-right-width"])+e(n["padding-left"])+e(n["padding-right"])+e(n.width)},getHeight:function(t){var n=getComputedStyle(t);return e(n["border-top-width"])+e(n["border-bottom-width"])+e(n["padding-top"])+e(n["padding-bottom"])+e(n.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do{e.left+=t.offsetLeft,e.top+=t.offsetTop}while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return i}(o.utils.common),o.controllers.OptionController=function(t,e,n){var o=function(t,r,i){o.superclass.call(this,t,r);var s=this;if(this.__select=document.createElement("select"),n.isArray(i)){var a={};n.each(i,function(t){a[t]=t}),i=a}n.each(i,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),s.__select.appendChild(n)}),this.updateDisplay(),e.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;s.setValue(t)}),this.domElement.appendChild(this.__select)};return o.superclass=t,n.extend(o.prototype,t.prototype,{setValue:function(t){var e=o.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),o.superclass.prototype.updateDisplay.call(this)}}),o}(o.controllers.Controller,o.dom.dom,o.utils.common),o.controllers.NumberController=function(t,e){function n(t){return t=t.toString(),t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var o=function(t,r,i){o.superclass.call(this,t,r),i=i||{},this.__min=i.min,this.__max=i.max,this.__step=i.step,e.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=n(this.__impliedStep)};return o.superclass=t,e.extend(o.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),o.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),o}(o.controllers.Controller,o.utils.common),o.controllers.NumberControllerBox=function(t,e,n){function o(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var r=function(t,o,i){function s(){var t=parseFloat(h.__input.value);n.isNaN(t)||h.setValue(t)}function a(){s(),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function l(t){e.bind(window,"mousemove",u),e.bind(window,"mouseup",c),d=t.clientY}function u(t){var e=d-t.clientY;h.setValue(h.getValue()+e*h.__impliedStep),d=t.clientY}function c(){e.unbind(window,"mousemove",u),e.unbind(window,"mouseup",c)}this.__truncationSuspended=!1,r.superclass.call(this,t,o,i);var d,h=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"change",s),e.bind(this.__input,"blur",a),e.bind(this.__input,"mousedown",l),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(h.__truncationSuspended=!0,this.blur(),h.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,n.extend(r.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():o(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(o.controllers.NumberController,o.dom.dom,o.utils.common),o.controllers.NumberControllerSlider=function(t,e,n,o,r){function i(t,e,n,o,r){return o+(t-e)/(n-e)*(r-o)}var s=function(t,n,o,r,a){function l(t){e.bind(window,"mousemove",u),e.bind(window,"mouseup",c),u(t)}function u(t){t.preventDefault();var n=e.getOffset(d.__background),o=e.getWidth(d.__background);return d.setValue(i(t.clientX,n.left,n.left+o,d.__min,d.__max)),!1}function c(){e.unbind(window,"mousemove",u),e.unbind(window,"mouseup",c),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}s.superclass.call(this,t,n,{min:o,max:r,step:a});var d=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",l),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return s.superclass=t,s.useDefaultStyles=function(){n.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},o.extend(s.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",s.superclass.prototype.updateDisplay.call(this)}}),s}(o.controllers.NumberController,o.dom.dom,o.utils.css,o.utils.common),o.controllers.FunctionController=function(t,e,n){var o=function(t,n,r){o.superclass.call(this,t,n);var i=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,e.bind(this.__button,"click",function(t){return t.preventDefault(),i.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return o.superclass=t,n.extend(o.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),o}(o.controllers.Controller,o.dom.dom,o.utils.common),o.controllers.BooleanController=function(t,e,n){var o=function(t,n){function r(){i.setValue(!i.__prev)}o.superclass.call(this,t,n);var i=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",r,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return o.superclass=t,n.extend(o.prototype,t.prototype,{setValue:function(t){var e=o.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,o.superclass.prototype.updateDisplay.call(this)}}),o}(o.controllers.Controller,o.dom.dom,o.utils.common),o.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(o.utils.common),o.color.interpret=function(t,e){var n,o,r=function(){o=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(i,function(r){if(r.litmus(t))return e.each(r.conversions,function(r,i){if(n=r.read(t),!1===o&&!1!==n)return o=n,n.conversionName=i,n.conversion=r,e.BREAK}),e.BREAK}),o},i=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(o.color.toString,o.utils.common),o.GUI=o.gui.GUI=function(t,e,n,o,r,i,s,a,l,u,c,d,h,f,p){function _(t,e,n,i){if(void 0===e[n])throw new Error("Object "+e+' has no property "'+n+'"');var s;if(i.color)s=new c(e,n);else{var a=[e,n].concat(i.factoryArgs);s=o.apply(t,a)}i.before instanceof r&&(i.before=i.before.__li),b(t,s),f.addClass(s.domElement,"c");var l=document.createElement("span");f.addClass(l,"property-name"),l.innerHTML=s.property;var u=document.createElement("div");u.appendChild(l),u.appendChild(s.domElement);var d=m(t,u,i.before);return f.addClass(d,F.CLASS_CONTROLLER_ROW),f.addClass(d,typeof s.getValue()),g(t,d,s),t.__controllers.push(s),s}function m(t,e,n){var o=document.createElement("li");return e&&o.appendChild(e),n?t.__ul.insertBefore(o,params.before):t.__ul.appendChild(o),t.onResize(),o}function g(t,e,n){if(n.__li=e,n.__gui=t,p.extend(n,{options:function(e){return arguments.length>1?(n.remove(),_(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(e)||p.isObject(e)?(n.remove(),_(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var o=new a(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=n[t],r=o[t];n[t]=o[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(n,t),r.apply(o,t)}}),f.addClass(e,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof a){var r=function(e){return p.isNumber(n.__min)&&p.isNumber(n.__max)?(n.remove(),_(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):e};n.min=p.compose(r,n.min),n.max=p.compose(r,n.max)}else n instanceof i?(f.bind(e,"click",function(){f.fakeEvent(n.__checkbox,"click")}),f.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof s?(f.bind(e,"click",function(){f.fakeEvent(n.__button,"click")}),f.bind(e,"mouseover",function(){f.addClass(n.__button,"hover")}),f.bind(e,"mouseout",function(){f.removeClass(n.__button,"hover")})):n instanceof c&&(f.addClass(e,"color"),n.updateDisplay=p.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=p.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&S(t.getRoot(),!0),e},n.setValue)}function b(t,e){var n=t.getRoot(),o=n.__rememberedObjects.indexOf(e.object);if(-1!=o){var r=n.__rememberedObjectIndecesToControllers[o];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[o]=r),r[e.property]=e,n.load&&n.load.remembered){var i,s=n.load.remembered;if(s[t.preset])i=s[t.preset];else{if(!s[M])return;i=s[M]}if(i[o]&&void 0!==i[o][e.property]){var a=i[o][e.property];e.initialValue=a,e.setValue(a)}}}}function v(t,e){return document.location.href+"."+e}function y(t){function e(){u.style.display=t.useLocalStorage?"block":"none"}var n=t.__save_row=document.createElement("li");f.addClass(t.domElement,"has-save"),t.__ul.insertBefore(n,t.__ul.firstChild),f.addClass(n,"save-row");var o=document.createElement("span");o.innerHTML="&nbsp;",f.addClass(o,"button gears");var r=document.createElement("span");r.innerHTML="Save",f.addClass(r,"button"),f.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",f.addClass(i,"button"),f.addClass(i,"save-as");var s=document.createElement("span");s.innerHTML="Revert",f.addClass(s,"button"),f.addClass(s,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?p.each(t.load.remembered,function(e,n){C(t,n,n==t.preset)}):C(t,M,!1),f.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),n.appendChild(a),n.appendChild(o),n.appendChild(r),n.appendChild(i),n.appendChild(s),T){var l=document.getElementById("dg-save-locally"),u=document.getElementById("dg-local-explain");l.style.display="block";var c=document.getElementById("dg-local-storage");"true"===localStorage.getItem(v(t,"isLocal"))&&c.setAttribute("checked","checked"),e(),f.bind(c,"change",function(){t.useLocalStorage=!t.useLocalStorage,e()})}var d=document.getElementById("dg-new-constructor");f.bind(d,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||N.hide()}),f.bind(o,"click",function(){d.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),N.show(),d.focus(),d.select()}),f.bind(r,"click",function(){t.save()}),f.bind(i,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),f.bind(s,"click",function(){t.revert()})}function x(t){function e(e){return e.preventDefault(),r=e.clientX,f.addClass(t.__closeButton,F.CLASS_DRAG),f.bind(window,"mousemove",n),f.bind(window,"mouseup",o),!1}function n(e){return e.preventDefault(),t.width+=r-e.clientX,t.onResize(),r=e.clientX,!1}function o(){f.removeClass(t.__closeButton,F.CLASS_DRAG),f.unbind(window,"mousemove",n),f.unbind(window,"mouseup",o)}t.__resize_handle=document.createElement("div"),p.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;f.bind(t.__resize_handle,"mousedown",e),f.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function w(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function E(t,e){var n={};return p.each(t.__rememberedObjects,function(o,r){var i={},s=t.__rememberedObjectIndecesToControllers[r];p.each(s,function(t,n){i[n]=e?t.initialValue:t.getValue()}),n[r]=i}),n}function C(t,e,n){var o=document.createElement("option");o.innerHTML=e,o.value=e,t.__preset_select.appendChild(o),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function A(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}function S(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function k(t){0!=t.length&&d(function(){k(t)}),p.each(t,function(t){t.updateDisplay()})}
t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var N,O,M="Default",T=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),R=!0,B=!1,L=[],F=function(t){function e(){localStorage.setItem(v(n,"gui"),JSON.stringify(n.getSaveObject()))}var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=p.defaults(t,{autoPlace:!0,width:F.DEFAULT_WIDTH}),t=p.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),p.isUndefined(t.load)?t.load={preset:M}:t.preset&&(t.load.preset=t.preset),p.isUndefined(t.parent)&&t.hideable&&L.push(this),t.resizable=p.isUndefined(t.parent)&&t.resizable,t.autoPlace&&p.isUndefined(t.scrollable)&&(t.scrollable=!0);var o=T&&"true"===localStorage.getItem(v(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,A(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,w(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,i&&(i.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?f.addClass(n.__ul,F.CLASS_CLOSED):f.removeClass(n.__ul,F.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?F.TEXT_OPEN:F.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return o},set:function(t){T&&(o=t,t?f.bind(window,"unload",e):f.unbind(window,"unload",e),localStorage.setItem(v(n,"isLocal"),t))}}}),p.isUndefined(t.parent)){if(t.closed=!1,f.addClass(this.domElement,F.CLASS_MAIN),f.makeSelectable(this.domElement,!1),T&&o){n.useLocalStorage=!0;var r=localStorage.getItem(v(this,"gui"));r&&(t.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=F.TEXT_CLOSED,f.addClass(this.__closeButton,F.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===t.closed&&(t.closed=!0);var i=document.createTextNode(t.name);f.addClass(i,"controller-name");var s=m(n,i),a=function(t){return t.preventDefault(),n.closed=!n.closed,!1};f.addClass(this.__ul,F.CLASS_CLOSED),f.addClass(s,"title"),f.bind(s,"click",a),t.closed||(this.closed=!1)}t.autoPlace&&(p.isUndefined(t.parent)&&(R&&(O=document.createElement("div"),f.addClass(O,"dg"),f.addClass(O,F.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(O),R=!1),O.appendChild(this.domElement),f.addClass(this.domElement,F.CLASS_AUTO_PLACE)),this.parent||w(n,t.width)),f.bind(window,"resize",function(){n.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),f.bind(this.__ul,"transitionend",function(){n.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),t.resizable&&x(this);n.getRoot();t.parent||function(){var t=n.getRoot();t.width+=1,p.defer(function(){t.width-=1})}()};return F.toggleHide=function(){B=!B,p.each(L,function(t){t.domElement.style.zIndex=B?-999:999,t.domElement.style.opacity=B?0:1})},F.CLASS_AUTO_PLACE="a",F.CLASS_AUTO_PLACE_CONTAINER="ac",F.CLASS_MAIN="main",F.CLASS_CONTROLLER_ROW="cr",F.CLASS_TOO_TALL="taller-than-window",F.CLASS_CLOSED="closed",F.CLASS_CLOSE_BUTTON="close-button",F.CLASS_DRAG="drag",F.DEFAULT_WIDTH=245,F.TEXT_CLOSED="Close Controls",F.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(t){"text"===document.activeElement.type||72!==t.which&&72!=t.keyCode||F.toggleHide()},!1),p.extend(F.prototype,{add:function(t,e){return _(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return _(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;p.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&O.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new F(e);this.__folders[t]=n;var o=m(this,n.domElement);return f.addClass(o,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=f.getOffset(t.__ul).top,n=0;p.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=f.getHeight(e))}),window.innerHeight-e-20<n?(f.addClass(t.domElement,F.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(f.removeClass(t.domElement,F.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&p.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(p.isUndefined(N)&&(N=new h,N.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;p.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&y(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&w(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=E(this)),t.folders={},p.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=E(this),S(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[M]=E(this,!0)),this.load.remembered[t]=E(this),this.preset=t,C(this,t,!0)},revert:function(t){p.each(this.__controllers,function(e){this.getRoot().load.remembered?b(t||this.getRoot(),e):e.setValue(e.initialValue)},this),p.each(this.__folders,function(t){t.revert(t)}),t||S(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&k(this.__listening)}}),F}(o.utils.css,0,0,o.controllers.factory=function(t,e,n,o,r,i,s){return function(a,l){var u=a[l];return s.isArray(arguments[2])||s.isObject(arguments[2])?new t(a,l,arguments[2]):s.isNumber(u)?s.isNumber(arguments[2])&&s.isNumber(arguments[3])?new n(a,l,arguments[2],arguments[3]):new e(a,l,{min:arguments[2],max:arguments[3]}):s.isString(u)?new o(a,l):s.isFunction(u)?new r(a,l,""):s.isBoolean(u)?new i(a,l):void 0}}(o.controllers.OptionController,o.controllers.NumberControllerBox,o.controllers.NumberControllerSlider,o.controllers.StringController=function(t,e,n){var o=function(t,n){function r(){s.setValue(s.__input.value)}function i(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}o.superclass.call(this,t,n);var s=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",r),e.bind(this.__input,"change",r),e.bind(this.__input,"blur",i),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=t,n.extend(o.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),o.superclass.prototype.updateDisplay.call(this)}}),o}(o.controllers.Controller,o.dom.dom,o.utils.common),o.controllers.FunctionController,o.controllers.BooleanController,o.utils.common),o.controllers.Controller,o.controllers.BooleanController,o.controllers.FunctionController,o.controllers.NumberControllerBox,o.controllers.NumberControllerSlider,o.controllers.OptionController,o.controllers.ColorController=function(t,e,n,o,r){function i(t,e,n,o){t.style.background="",r.each(l,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+n+" 0%, "+o+" 100%); "})}function s(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(t,l){function u(t){f(t),e.bind(window,"mousemove",f),e.bind(window,"mouseup",c)}function c(){e.unbind(window,"mousemove",f),e.unbind(window,"mouseup",c)}function d(){var t=o(this.value);!1!==t?(_.__color.__state=t,_.setValue(_.__color.toOriginal())):this.value=_.__color.toString()}function h(){e.unbind(window,"mousemove",p),e.unbind(window,"mouseup",h)}function f(t){t.preventDefault();var n=e.getWidth(_.__saturation_field),o=e.getOffset(_.__saturation_field),r=(t.clientX-o.left+document.body.scrollLeft)/n,i=1-(t.clientY-o.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),r>1?r=1:r<0&&(r=0),_.__color.v=i,_.__color.s=r,_.setValue(_.__color.toOriginal()),!1}function p(t){t.preventDefault();var n=e.getHeight(_.__hue_field),o=e.getOffset(_.__hue_field),r=1-(t.clientY-o.top+document.body.scrollTop)/n;return r>1?r=1:r<0&&(r=0),_.__color.h=360*r,_.setValue(_.__color.toOriginal()),!1}a.superclass.call(this,t,l),this.__color=new n(this.getValue()),this.__temp=new n(0);var _=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&d.call(this)}),e.bind(this.__input,"blur",d),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(_.__selector,"drag")})});var m=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(m.style,{width:"100%",height:"100%",background:"none"}),i(m,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",u),e.bind(this.__field_knob,"mousedown",u),e.bind(this.__hue_field,"mousedown",function(t){p(t),e.bind(window,"mousemove",p),e.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(m),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=t,r.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=o(this.getValue());if(!1!==t){var e=!1;r.each(n.COMPONENTS,function(n){if(!r.isUndefined(t[n])&&!r.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&r.extend(this.__color.__state,t)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,a=255-s;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,i(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(o.controllers.Controller,o.dom.dom,o.color.Color=function(t,e,n,o){function r(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(s(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(s(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function i(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function s(t,n,r){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";o.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);o.extend(t.__state,{s:n.s,v:n.v}),o.isNaN(n.h)?o.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var l=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],o.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),i(l.prototype,"h"),i(l.prototype,"s"),i(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(o.color.interpret,o.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var o=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),i=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=[[n,a,i],[s,n,i],[i,n,a],[i,s,n],[a,i,n],[n,i,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,n){var o,r,i=Math.min(t,e,n),s=Math.max(t,e,n),a=s-i;return 0==s?{h:NaN,s:0,v:0}:(r=a/s,o=t==s?(e-n)/a:e==s?2+(n-t)/a:4+(t-e)/a,o/=6,o<0&&(o+=1),{h:360*o,s:r,v:s/255})},rgb_to_hex:function(t,e,n){var o=this.hex_with_component(0,2,t);return o=this.hex_with_component(o,1,e),o=this.hex_with_component(o,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,o){return o<<(t=8*n)|e&~(255<<t)}}}(),o.color.toString,o.utils.common),o.color.interpret,o.utils.common),o.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),o.dom.CenteredDiv=function(t,e){var n=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var e=this,n=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",n),t.unbind(e.domElement,"transitionend",n),t.unbind(e.domElement,"oTransitionEnd",n)};t.bind(this.domElement,"webkitTransitionEnd",n),t.bind(this.domElement,"transitionend",n),t.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},n}(o.dom.dom,o.utils.common),o.dom.dom,o.utils.common)},{}],6:[function(t,e,n){function o(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}e.exports=o},{}],7:[function(t,e,n){function o(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}e.exports=o},{}],8:[function(t,e,n){function o(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}e.exports=o},{}],9:[function(t,e,n){function o(t,e){return t[0]=e[0],t[1]=e[1],t}e.exports=o},{}],10:[function(t,e,n){function o(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}e.exports=o},{}],11:[function(t,e,n){function o(t,e,n){var o=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=o,t}e.exports=o},{}],12:[function(t,e,n){e.exports=t(13)},{13:13}],13:[function(t,e,n){function o(t,e){var n=e[0]-t[0],o=e[1]-t[1];return Math.sqrt(n*n+o*o)}e.exports=o},{}],14:[function(t,e,n){e.exports=t(15)},{15:15}],15:[function(t,e,n){function o(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}e.exports=o},{}],16:[function(t,e,n){function o(t,e){return t[0]*e[0]+t[1]*e[1]}e.exports=o},{}],17:[function(t,e,n){e.exports=1e-6},{}],18:[function(t,e,n){function o(t,e){var n=t[0],o=t[1],i=e[0],s=e[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))}e.exports=o;var r=t(17)},{17:17}],19:[function(t,e,n){function o(t,e){return t[0]===e[0]&&t[1]===e[1]}e.exports=o},{}],20:[function(t,e,n){function o(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}e.exports=o},{}],21:[function(t,e,n){function o(t,e,n,o,i,s){var a,l;for(e||(e=2),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,a=n;a<l;a+=e)r[0]=t[a],r[1]=t[a+1],i(r,r,s),t[a]=r[0],t[a+1]=r[1];return t}e.exports=o;var r=t(10)()},{10:10}],22:[function(t,e,n){function o(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}e.exports=o},{}],23:[function(t,e,n){e.exports={EPSILON:t(17),create:t(10),clone:t(8),fromValues:t(22),copy:t(9),set:t(39),equals:t(18),exactEquals:t(19),add:t(6),subtract:t(45),sub:t(44),multiply:t(31),mul:t(30),divide:t(15),div:t(14),inverse:t(24),min:t(29),max:t(28),rotate:t(35),floor:t(20),ceil:t(7),round:t(36),scale:t(37),scaleAndAdd:t(38),distance:t(13),dist:t(12),squaredDistance:t(42),sqrDist:t(40),length:t(26),len:t(25),squaredLength:t(43),sqrLen:t(41),negate:t(32),normalize:t(33),dot:t(16),cross:t(11),lerp:t(27),random:t(34),transformMat2:t(46),transformMat2d:t(47),transformMat3:t(48),transformMat4:t(49),forEach:t(21)}},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,6:6,7:7,8:8,9:9}],24:[function(t,e,n){function o(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}e.exports=o},{}],25:[function(t,e,n){e.exports=t(26)},{26:26}],26:[function(t,e,n){function o(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}e.exports=o},{}],27:[function(t,e,n){function o(t,e,n,o){var r=e[0],i=e[1];return t[0]=r+o*(n[0]-r),t[1]=i+o*(n[1]-i),t}e.exports=o},{}],28:[function(t,e,n){function o(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.exports=o},{}],29:[function(t,e,n){function o(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}e.exports=o},{}],30:[function(t,e,n){e.exports=t(31)},{31:31}],31:[function(t,e,n){function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}e.exports=o},{}],32:[function(t,e,n){function o(t,e){return t[0]=-e[0],t[1]=-e[1],t}e.exports=o},{}],33:[function(t,e,n){function o(t,e){var n=e[0],o=e[1],r=n*n+o*o;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}e.exports=o},{}],34:[function(t,e,n){function o(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}e.exports=o},{}],35:[function(t,e,n){function o(t,e,n){var o=Math.cos(n),r=Math.sin(n),i=e[0],s=e[1];return t[0]=i*o-s*r,t[1]=i*r+s*o,t}e.exports=o},{}],36:[function(t,e,n){function o(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}e.exports=o},{}],37:[function(t,e,n){function o(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}e.exports=o},{}],38:[function(t,e,n){function o(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t}e.exports=o},{}],39:[function(t,e,n){function o(t,e,n){return t[0]=e,t[1]=n,t}e.exports=o},{}],40:[function(t,e,n){e.exports=t(42)},{42:42}],41:[function(t,e,n){e.exports=t(43)},{43:43}],42:[function(t,e,n){function o(t,e){var n=e[0]-t[0],o=e[1]-t[1];return n*n+o*o}e.exports=o},{}],43:[function(t,e,n){function o(t){var e=t[0],n=t[1];return e*e+n*n}e.exports=o},{}],44:[function(t,e,n){e.exports=t(45)},{45:45}],45:[function(t,e,n){function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}e.exports=o},{}],46:[function(t,e,n){function o(t,e,n){var o=e[0],r=e[1];return t[0]=n[0]*o+n[2]*r,t[1]=n[1]*o+n[3]*r,t}e.exports=o},{}],47:[function(t,e,n){function o(t,e,n){var o=e[0],r=e[1];return t[0]=n[0]*o+n[2]*r+n[4],t[1]=n[1]*o+n[3]*r+n[5],t}e.exports=o},{}],48:[function(t,e,n){function o(t,e,n){var o=e[0],r=e[1];return t[0]=n[0]*o+n[3]*r+n[6],t[1]=n[1]*o+n[4]*r+n[7],t}e.exports=o},{}],49:[function(t,e,n){function o(t,e,n){var o=e[0],r=e[1];return t[0]=n[0]*o+n[4]*r+n[12],t[1]=n[1]*o+n[5]*r+n[13],t}e.exports=o},{}],50:[function(t,e,n){!function(){"use strict";function t(t){var e;e="function"==typeof t?t:t?r(t):Math.random,this.p=o(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function o(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var o=e+~~(t()*(256-e)),r=n[e];n[e]=n[o],n[o]=r}return n}function r(){var t=0,e=0,n=0,o=1,r=i();t=r(" "),e=r(" "),n=r(" ");for(var s=0;s<arguments.length;s++)t-=r(arguments[s]),t<0&&(t+=1),e-=r(arguments[s]),e<0&&(e+=1),(n-=r(arguments[s]))<0&&(n+=1);return r=null,function(){var r=2091639*t+2.3283064365386963e-10*o;return t=e,e=n,n=r-(o=0|r)}}function i(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var o=.02519603282416938*t;t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=4294967296*o}return 2.3283064365386963e-10*(t>>>0)}}var s=.5*(Math.sqrt(3)-1),a=(3-Math.sqrt(3))/6,l=1/6,u=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;t.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,o,r=this.permMod12,i=this.perm,l=this.grad3,u=0,c=0,d=0,h=(t+e)*s,f=Math.floor(t+h),p=Math.floor(e+h),_=(f+p)*a,m=f-_,g=p-_,b=t-m,v=e-g;b>v?(n=1,o=0):(n=0,o=1);var y=b-n+a,x=v-o+a,w=b-1+2*a,E=v-1+2*a,C=255&f,A=255&p,S=.5-b*b-v*v;if(S>=0){var k=3*r[C+i[A]];S*=S,u=S*S*(l[k]*b+l[k+1]*v)}var N=.5-y*y-x*x;if(N>=0){var O=3*r[C+n+i[A+o]];N*=N,c=N*N*(l[O]*y+l[O+1]*x)}var M=.5-w*w-E*E;if(M>=0){var T=3*r[C+1+i[A+1]];M*=M,d=M*M*(l[T]*w+l[T+1]*E)}return 70*(u+c+d)},noise3D:function(t,e,n){var o,r,i,s,a,u,c,d,h,f,p=this.permMod12,_=this.perm,m=this.grad3,g=(t+e+n)*(1/3),b=Math.floor(t+g),v=Math.floor(e+g),y=Math.floor(n+g),x=(b+v+y)*l,w=b-x,E=v-x,C=y-x,A=t-w,S=e-E,k=n-C;A>=S?S>=k?(a=1,u=0,c=0,d=1,h=1,f=0):A>=k?(a=1,u=0,c=0,d=1,h=0,f=1):(a=0,u=0,c=1,d=1,h=0,f=1):S<k?(a=0,u=0,c=1,d=0,h=1,f=1):A<k?(a=0,u=1,c=0,d=0,h=1,f=1):(a=0,u=1,c=0,d=1,h=1,f=0);var N=A-a+l,O=S-u+l,M=k-c+l,T=A-d+2*l,R=S-h+2*l,B=k-f+2*l,L=A-1+.5,F=S-1+.5,H=k-1+.5,D=255&b,I=255&v,P=255&y,V=.6-A*A-S*S-k*k;if(V<0)o=0;else{var j=3*p[D+_[I+_[P]]];V*=V,o=V*V*(m[j]*A+m[j+1]*S+m[j+2]*k)}var z=.6-N*N-O*O-M*M;if(z<0)r=0;else{
var U=3*p[D+a+_[I+u+_[P+c]]];z*=z,r=z*z*(m[U]*N+m[U+1]*O+m[U+2]*M)}var G=.6-T*T-R*R-B*B;if(G<0)i=0;else{var X=3*p[D+d+_[I+h+_[P+f]]];G*=G,i=G*G*(m[X]*T+m[X+1]*R+m[X+2]*B)}var q=.6-L*L-F*F-H*H;if(q<0)s=0;else{var K=3*p[D+1+_[I+1+_[P+1]]];q*=q,s=q*q*(m[K]*L+m[K+1]*F+m[K+2]*H)}return 32*(o+r+i+s)},noise4D:function(t,e,n,o){var r,i,s,a,l,d=this.perm,h=this.grad4,f=(t+e+n+o)*u,p=Math.floor(t+f),_=Math.floor(e+f),m=Math.floor(n+f),g=Math.floor(o+f),b=(p+_+m+g)*c,v=p-b,y=_-b,x=m-b,w=g-b,E=t-v,C=e-y,A=n-x,S=o-w,k=0,N=0,O=0,M=0;E>C?k++:N++,E>A?k++:O++,E>S?k++:M++,C>A?N++:O++,C>S?N++:M++,A>S?O++:M++;var T,R,B,L,F,H,D,I,P,V,j,z;T=k>=3?1:0,R=N>=3?1:0,B=O>=3?1:0,L=M>=3?1:0,F=k>=2?1:0,H=N>=2?1:0,D=O>=2?1:0,I=M>=2?1:0,P=k>=1?1:0,V=N>=1?1:0,j=O>=1?1:0,z=M>=1?1:0;var U=E-T+c,G=C-R+c,X=A-B+c,q=S-L+c,K=E-F+2*c,W=C-H+2*c,Y=A-D+2*c,J=S-I+2*c,Q=E-P+3*c,Z=C-V+3*c,$=A-j+3*c,tt=S-z+3*c,et=E-1+4*c,nt=C-1+4*c,ot=A-1+4*c,rt=S-1+4*c,it=255&p,st=255&_,at=255&m,lt=255&g,ut=.6-E*E-C*C-A*A-S*S;if(ut<0)r=0;else{var ct=d[it+d[st+d[at+d[lt]]]]%32*4;ut*=ut,r=ut*ut*(h[ct]*E+h[ct+1]*C+h[ct+2]*A+h[ct+3]*S)}var dt=.6-U*U-G*G-X*X-q*q;if(dt<0)i=0;else{var ht=d[it+T+d[st+R+d[at+B+d[lt+L]]]]%32*4;dt*=dt,i=dt*dt*(h[ht]*U+h[ht+1]*G+h[ht+2]*X+h[ht+3]*q)}var ft=.6-K*K-W*W-Y*Y-J*J;if(ft<0)s=0;else{var pt=d[it+F+d[st+H+d[at+D+d[lt+I]]]]%32*4;ft*=ft,s=ft*ft*(h[pt]*K+h[pt+1]*W+h[pt+2]*Y+h[pt+3]*J)}var _t=.6-Q*Q-Z*Z-$*$-tt*tt;if(_t<0)a=0;else{var mt=d[it+P+d[st+V+d[at+j+d[lt+z]]]]%32*4;_t*=_t,a=_t*_t*(h[mt]*Q+h[mt+1]*Z+h[mt+2]*$+h[mt+3]*tt)}var gt=.6-et*et-nt*nt-ot*ot-rt*rt;if(gt<0)l=0;else{var bt=d[it+1+d[st+1+d[at+1+d[lt+1]]]]%32*4;gt*=gt,l=gt*gt*(h[bt]*et+h[bt+1]*nt+h[bt+2]*ot+h[bt+3]*rt)}return 27*(r+i+s+a+l)}},t._buildPermutationTable=o,"undefined"!=typeof define&&define.amd&&define(function(){return t}),void 0!==n?n.SimplexNoise=t:"undefined"!=typeof window&&(window.SimplexNoise=t),void 0!==e&&(e.exports=t)}()},{}],51:[function(t,e,n){!function(t,o){"object"==typeof n?e.exports=o(t,t.document):"function"==typeof define&&define.amd?define(function(){return o(t,t.document)}):t.Sketch=o(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return"[object Array]"==Object.prototype.toString.call(t)}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function i(t){return"string"==typeof t}function s(t){return x[t]||String.fromCharCode(t)}function a(t,e,n){for(var o in e)!n&&o in t||(t[o]=e[o]);return t}function l(t,e){return function(){t.apply(e,arguments)}}function u(t){var e={};for(var n in t)"webkitMovementX"!==n&&"webkitMovementY"!==n&&(o(t[n])?e[n]=l(t[n],t):e[n]=t[n]);return e}function c(t){function e(e){o(e)&&e.apply(t,[].splice.call(arguments,1))}function n(t){for(L=0;L<tt.length;L++)D=tt[L],i(D)?T[(t?"add":"remove")+"EventListener"].call(T,D,N,!1):o(D)?N=D:T=D}function r(){M(k),k=O(r),Y||(e(t.setup),Y=o(t.setup)),W||(e(t.resize),W=o(t.resize)),t.running&&!q&&(t.dt=(H=+new Date)-t.now,t.millis+=t.dt,t.now=H,e(t.update),Z&&(t.retina&&(t.save(),t.autoclear&&t.scale(J,J)),t.autoclear&&t.clear()),e(t.draw),Z&&t.retina&&t.restore()),q=++q%t.interval}function l(){T=Q?t.style:t.canvas,F=Q?"px":"",G=t.width,X=t.height,t.fullscreen&&(X=t.height=b.innerHeight,G=t.width=b.innerWidth),t.retina&&Z&&J&&(T.style.height=X+"px",T.style.width=G+"px",G*=J,X*=J),T.height!==X&&(T.height=X+F),T.width!==G&&(T.width=G+F),Z&&!t.autoclear&&t.retina&&t.scale(J,J),Y&&e(t.resize)}function c(t,e){return B=e.getBoundingClientRect(),t.x=t.pageX-B.left-(b.scrollX||b.pageXOffset),t.y=t.pageY-B.top-(b.scrollY||b.pageYOffset),t}function d(e,n){return c(e,t.element),n=n||{},n.ox=n.x||e.x,n.oy=n.y||e.y,n.x=e.x,n.y=e.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function h(t){if(t.preventDefault(),I=u(t),I.originalEvent=t,I.touches)for(K.length=I.touches.length,L=0;L<I.touches.length;L++)K[L]=d(I.touches[L],K[L]);else K.length=0,K[0]=d(I,$);return a($,K[0],!0),I}function f(n){for(n=h(n),z=(U=tt.indexOf(P=n.type))-1,t.dragging=!!/down|start/.test(P)||!/up|end/.test(P)&&t.dragging;z;)i(tt[z])?e(t[tt[z--]],n):i(tt[U])?e(t[tt[U++]],n):z=0}function p(n){V=n.keyCode,j="keyup"==n.type,et[V]=et[s(V)]=!j,e(t[n.type],n)}function y(n){t.autopause&&("blur"==n.type?E:w)(),e(t[n.type],n)}function w(){t.now=+new Date,t.running=!0}function E(){t.running=!1}function C(){(t.running?E:w)()}function A(){Z&&t.clearRect(0,0,t.width*J,t.height*J)}function S(){R=t.element.parentNode,L=v.indexOf(t),R&&R.removeChild(t.element),~L&&v.splice(L,1),n(!1),E()}var k,N,T,R,B,L,F,H,D,I,P,V,j,z,U,G,X,q=0,K=[],W=!1,Y=!1,J=b.devicePixelRatio||1,Q=t.type==m,Z=t.type==_,$={x:0,y:0,ox:0,oy:0,dx:0,dy:0},tt=[t.eventTarget||t.element,f,"mousedown","touchstart",f,"mousemove","touchmove",f,"mouseup","touchend",f,"click",f,"mouseout",f,"mouseover",g,p,"keydown","keyup",b,y,"focus","blur",l,"resize"],et={};for(V in x)et[x[V]]=!1;return a(t,{touches:K,mouse:$,keys:et,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:S,toggle:C,clear:A,start:w,stop:E}),v.push(t),t.autostart&&w(),n(!0),l(),r(),t}for(var d,h,f="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),p=Math,_="canvas",m="dom",g=e,b=t,v=[],y={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:g.body,interval:1,globals:!0,retina:!1,type:_},x={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},w={CANVAS:_,WEB_GL:"webgl",WEBGL:"webgl",DOM:m,instances:v,install:function(t){if(!t.__hasSketch){for(var e=0;e<f.length;e++)t[f[e]]=p[f[e]];a(t,{TWO_PI:2*p.PI,HALF_PI:p.PI/2,QUARTER_PI:p.PI/4,random:function(t,e){return n(t)?t[~~(p.random()*t.length)]:(r(e)||(e=t||1,t=0),t+p.random()*(e-t))},lerp:function(t,e,n){return t+n*(e-t)},map:function(t,e,n,o,r){return(t-e)/(n-e)*(r-o)+o}}),t.__hasSketch=!0}},create:function(t){return t=a(t||{},y),t.globals&&w.install(self),d=t.element=t.element||g.createElement(t.type===m?"div":"canvas"),h=t.context=t.context||function(){switch(t.type){case _:return d.getContext("2d",t);case"webgl":return d.getContext("webgl",t)||d.getContext("experimental-webgl",t);case m:return d.canvas=d}}(),(t.container||g.body).appendChild(d),w.augment(h,t)},augment:function(t,e){return e=a(e||{},y),e.element=t.canvas||t,e.element.className+=" sketch",a(t,e,!0),c(t)}},E=["ms","moz","webkit","o"],C=self,A=0,S="AnimationFrame",k="request"+S,N="cancel"+S,O=C[k],M=C[N],T=0;T<E.length&&!O;T++)O=C[E[T]+"Request"+S],M=C[E[T]+"Cancel"+S];return C[k]=O=O||function(t){var e=+new Date,n=p.max(0,16-(e-A)),o=setTimeout(function(){t(e+n)},n);return A=e+n,o},C[N]=M=M||function(t){clearTimeout(t)},w})},{}],52:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(){for(var t=[];t.length<N&&L.length<k.lineCount;){var e=[T(),R()];if(!((0,E.distance)(e,H)>k.maxDist)){var n=void 0;if(k.useNoise){var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(k.noiseSize+t)/1e5};n=(B.noise2D(e[0]*o(10),e[1]*o(10))+B.noise2D(e[0]*o()+1e3,e[1]*o()+1e3))*Math.PI}else n=2*M()*Math.PI;var l=A.width+A.height,u=[Math.cos(n)*l+e[0],Math.sin(n)*l+e[1]],c=[e,u],d=i(c,L),h=s([e,d],k.toCut);t.push(h),L.push(h)}}t.forEach(function(t){return a(A,t[0],t[1])}),L.length<k.lineCount&&(F=setTimeout(r,0))}function i(t,e){for(var n=null,o=1/0,r=e.length;r--;){var i=u(t,e[r]);if(i){var s=(0,E.squaredDistance)(t[0],i);Number.isFinite(s)&&s<o&&(o=s,n=i)}}return n||t[1]}function s(t,e){var n=c(t,2),o=n[0],r=n[1],i=(0,E.distance)(o,r),s=Math.max(0,i-e);return[o,(0,E.lerp)([],o,r,s/i)]}function a(t,e,n){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.strokeStyle="rgb(40, 40, 40)",t.stroke()}function l(t,e,n){return t-D<=e&&e<=n+D}function u(t,e){var n=c(t,2),o=c(n[0],2),r=o[0],i=o[1],s=c(n[1],2),a=s[0],u=s[1],d=c(e,2),h=c(d[0],2),f=h[0],p=h[1],_=c(d[1],2),m=_[0],g=_[1],b=((r*u-i*a)*(f-m)-(r-a)*(f*g-p*m))/((r-a)*(p-g)-(i-u)*(f-m)),v=((r*u-i*a)*(p-g)-(i-u)*(f*g-p*m))/((r-a)*(p-g)-(i-u)*(f-m));if(isNaN(b)||isNaN(v))return!1;if(r>=a){if(!l(a,b,r))return!1}else if(!l(r,b,a))return!1;if(i>=u){if(!l(u,v,i))return!1}else if(!l(i,v,u))return!1;if(f>=m){if(!l(m,b,f))return!1}else if(!l(f,b,m))return!1;if(p>=g){if(!l(g,v,p))return!1}else if(!l(p,v,g))return!1;return[b,v]}var c=function(){function t(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=t(1),h=o(d),f=t(51),p=o(f),_=t(3),m=t(54),g=o(m),b=t(53),v=o(b),y=t(2),x=t(50),w=o(x),E=t(23);(0,g.default)({fontFamily:'"Space Mono", sans-serif',url:"https://fonts.googleapis.com/css?family=Space+Mono:700"});var C=document.body.appendChild(document.createElement("div")),A=p.default.create({container:C,autostart:!1,autoclear:!1});A.canvas.style.opacity=0,A.canvas.style.transition="opacity 400ms ease",A.canvas.style.position="absolute",A.canvas.style.top=0,A.canvas.style.left=0,setTimeout(function(){A.canvas.style.opacity=1},200);var S=(0,v.default)("antic-grandmom");S.style.opacity=0,S.style.bottom="5vh",S.style.right="5vh",S.style.transition="opacity 400ms ease",S.style.zIndex=10,C.appendChild(S),setTimeout(function(){S.style.opacity=1},200);var k={seed:293,lineCount:1e3,sigma:300,maxDist:300,toCut:5,noiseSize:180,useNoise:!1},N=100,O=new _.GUI;O.add(k,"seed",0,1e3).step(1).onChange(function(){return A.setup()}),O.add(k,"lineCount",0,1e4).step(1).onChange(function(){return A.setup()}),O.add(k,"sigma",0,1e3).step(1).onChange(function(){return A.setup()}),O.add(k,"maxDist",2,1e3).step(1).onChange(function(){return A.setup()}),O.add(k,"toCut",0,100).step(1).onChange(function(){return A.setup()}),O.add(k,"noiseSize",1,200).step(1).onChange(function(){return A.setup()}),O.add(k,"useNoise").onChange(function(){return A.setup()});var M=void 0,T=void 0,R=void 0,B=void 0,L=void 0,F=void 0,H=void 0;A.setup=A.resize=function(){H=[A.width/2,A.height/2],A.clearRect(0,0,A.width,A.height),M=new h.default(k.seed),T=y.randomNormal.source(M)(H[0],k.sigma),R=y.randomNormal.source(M)(H[1],k.sigma),B=new w.default(M),L=[],clearTimeout(F),F=setTimeout(r,0)};var D=1e-7},{1:1,2:2,23:23,3:3,50:50,51:51,53:53,54:54}],53:[function(t,e,n){"use strict";function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("div");n.innerHTML=t,e=r({position:"absolute",bottom:"-53px",right:0,color:"rgba(190, 190, 190, 0.5)",fontSize:"14px",WebkitFontSmoothing:"antialiased",letterSpacing:"1px"},e);for(var o in e)n.style[o]=e[o];return n}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};n.default=o},{}],54:[function(t,e,n){"use strict";function o(t){var e=t.url,n=t.fontFamily;if(!e)throw new Error("includeFont expects an opts object that includes `url`");var o=document.createElement("link");o.href=e,o.rel="stylesheet",o.type="text/css",document.head.appendChild(o),n&&(document.body.style.fontFamily=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{}]},{},[52]);